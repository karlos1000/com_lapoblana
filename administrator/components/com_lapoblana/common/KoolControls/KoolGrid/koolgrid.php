<?php $_il0="5.\066.0.0"; function _iO0($_il1,$_iO1,$_il2) { return str_replace($_il1,$_iO1,$_il2); } function _iO2($_il3) { return md5($_il3); } function _iO3() { $_il4=_iO0("\134","\057",strtolower($_SERVER["\123CRIPT_\116\101ME"])); $_il4=_iO0(strrchr($_il4,"/"),"",$_il4); $_iO4=_iO0("\134","/",realpath("\056")); $_il5=_iO0($_il4,"",strtolower($_iO4)); return $_il5; } class _ii10 { static $_ii10="\173\060}\173tra\144\145mark}<\144iv i\144\075'\173id\175\047 cl\141\163s='\173\163\164yle}K\107\122\047 sty\154\145='\173w\151\144th}'>\173\061}\173co\156\164\145nt}\173\062\175</div\076"; } function _iO5() { header("C\157ntent\055\164yp\145\072 t\145\170t/\152\141v\141\163cr\151pt"); } function _il6() { echo "\166ar _ii\117\061=0;"; } function _iO6() { return exit (); } function _il7() { return _ii10::$_ii10; } function _iO7( &$_il8) { for ($_iO8=0; $_iO8<3; $_iO8 ++) $_il8=_iO0("\173".$_iO8."\175","",$_il8); return TRUE; } if ( isset ($_GET[_iO2("\152\163")])) { _iO5(); ?> function _iO(_io){if (typeof(_io)=="undefined"){return false; }return (_io!=null); }function _iY(_iy){return document.getElementById(_iy); }function _iI(_ii,_iA){var _ia=document.createElement(_ii); _iA.appendChild(_ia); return _ia; }function _iE(_io,_ie){if (!_iO(_ie))_ie=1; for (var i=0; i<_ie; i++)_io=_io.firstChild; return _io; }function _iU(_io,_ie){if (!_iO(_ie))_ie=1; for (var i=0; i<_ie; i++)_io=_io.nextSibling; return _io; }function _iu(_io,_ie){if (!_iO(_ie))_ie=1; for (var i=0; i<_ie; i++)_io=_io.parentNode; return _io; }function _iZ(_io,_iz){_io.style.height=_iz+"px"; }function _iX(_io,_iz){_io.style.width=_iz+"px"; }function _ix(_io){return parseInt(_io.style.width); }function _iW(_io){return parseInt(_io.style.height); }function _iw(_iV,_iv,_iT){_iT=_iO(_iT)?_iT:document.body; var _it=_iT.getElementsByTagName(_iV); var _iS=new Array(); for (var i=0; i<_it.length; i++)if (_it[i].className.indexOf(_iv)>=0){_iS.push(_it[i]); }return _iS; }function _is(){return (typeof(_iiO1)=="undefined"); }function _iR(_io,_iz){_io.style.display=(_iz)?"": "none"; }function _ir(_io){return (_io.style.display!="none"); }function _iQ(_io){return _io.className; }function _iq(_io,_iz){_io.className=_iz; }function _iP(_ip,_iN,_in){_iq(_in,_iQ(_in).replace(_ip,_iN)); }function _iM(_io,_iv){if (_io.className.indexOf(_iv)<0){var _im=_io.className.split(" "); _im.push(_iv); _io.className=_im.join(" "); }}function _iL(_io,_iv){if (_io.className.indexOf(_iv)>-1){_iP(_iv,"",_io);var _im=_io.className.split(" "); _io.className=_im.join(" "); }}function _il(_iK,_ik,_iJ,_ij){if (_iK.addEventListener){_iK.addEventListener(_ik,_iJ,_ij); return true; }else if (_iK.attachEvent){if (_ij){return false; }else {var _iH= function (){_iJ.apply(_iK,[window.event]); };if (!_iK["ref"+_ik])_iK["ref"+_ik]=[]; else {for (var _ih in _iK["ref"+_ik]){if (_iK["ref"+_ik][_ih]._iJ === _iJ)return false; }}var _iG=_iK.attachEvent("on"+_ik,_iH); if (_iG)_iK["ref"+_ik].push( {_iJ:_iJ,_iH:_iH } ); return _iG; }}else {return false; }}function _ig(_iK,_ik,_iJ,_ij){if (_iK.removeEventListener){_iK.removeEventListener(_ik,_iJ,_ij); return true; }else if (_iK.detachEvent){if (_iK["ref"+_ik]){for (var _ih in _iK["ref"+_ik]){if (_iK["ref"+_ik][_ih]._iJ === _iJ){_iK.detachEvent("on"+_ik,_iK["ref"+_ik][_ih]._iH); _iK["ref"+_ik][_ih]._iJ=null; _iK["ref"+_ik][_ih]._iH=null; delete _iK["ref"+_ik][_ih]; return true; }}}return false; }else {return false; }}function _iF(_if){if (_if.stopPropagation)_if.stopPropagation(); else _if.cancelBubble= true; }function _iD(_if){if (_if.preventDefault)_if.preventDefault(); else event.returnValue= false; return false; }function _iC(_ic){var a=_ic.attributes,i,_iB,_ib; if (a){_iB=a.length; for (i=0; i<_iB; i+=1){if (a[i])_ib=a[i].name; if (typeof _ic[_ib] === "function"){_ic[_ib]=null; }}}a=_ic.childNodes; if (a){_iB=a.length; for (i=0; i<_iB; i+=1){_iC(_ic.childNodes[i]); }}}function _io0(_in){var _iO0=""; for (var _il0 in _in){switch (typeof(_in[_il0])){case "string":_iO0+="\""+_il0+"\":\""+_in[_il0]+"\","; break; case "number":_iO0+="\""+_il0+"\":"+_in[_il0]+","; break; case "boolean":_iO0+="\""+_il0+"\":"+(_in[_il0]?"true": "false")+","; break; case "object":_iO0+="\""+_il0+"\":"+_io0(_in[_il0])+","; break; }}if (_iO0.length>0)_iO0=_iO0.substring(0,_iO0.length-1); _iO0="{"+_iO0+"}"; if (_iO0=="{}")_iO0="null"; return _iO0; }function _ii0(_ip,_iI0){return _iI0.indexOf(_ip); }function _io1(_iO1){if (_iO1.pageX || _iO1.pageY){return {_il1:_iO1.pageX,_ii1:_iO1.pageY } ; }else if (_iO1.clientX || _iO1.clientY){return {_il1:_iO1.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),_ii1:_iO1.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)} ; }else {return {_il1:null,_ii1:null } ; }}var _iI1= {_io2:/(-[a-z])/i,_iO2:/^body|html$/i,_il2:/^(?:inline|table-row)$/i} ; function _ii2(_iI2,_io3){var _iO3=""; if (document.defaultView && document.defaultView.getComputedStyle){var _il3=document.defaultView.getComputedStyle(_iI2,null); if (!_il3){try {if (_iI2.style.display=="none"){_iI2.style.display=""; _il3=document.defaultView.getComputedStyle(_iI2,null); if (_il3){_iO3=_il3.getPropertyValue(_io3); }_iI2.style.display="none"; }}catch (_ii3){}}if (_il3 && _iO3==""){_iO3=_il3.getPropertyValue(_io3); }}else if (_iI2.currentStyle){try {_io3=_io3.replace(/-(\w)/g, function (_iI3,_io4){return _io4.toUpperCase(); } ); _iO3=_iI2.currentStyle[_io3]; }catch (_ii3){}}return _iO3; } ; var _iO4= function (){if (document.documentElement.getBoundingClientRect){return function (_il4){var _ii4=_il4.getBoundingClientRect(); return {_iI4:_ii4.left+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),_top:_ii4.top+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)} ; } ; }else {return function (_il4){var _io5=[_il4.offsetLeft,_il4.offsetTop]; var parentNode=_il4.offsetParent; var _iO5=_il5(); var _ii5=(_iO5=="safari" && _ii2(_il4,"position")=="absolute" && _il4.offsetParent==document.body); if (parentNode!=_il4){while (parentNode){_io5[0]+=parentNode.offsetLeft; _io5[1]+=parentNode.offsetTop; if (!_ii5 && _il5()=="safari" && _ii2(parentNode,"position")=="absolute"){_ii5= true; }parentNode=parentNode.offsetParent; }}if (_ii5){_io5[0]-=_il4.ownerDocument.body.offsetLeft; _io5[1]-=_il4.ownerDocument.body.offsetTop; }parentNode=_il4.parentNode; while (parentNode.tagName && !_iI1._iO2.test(parentNode.tagName)){if (parentNode.scrollTop || parentNode.scrollLeft){if (!_iI1._il2.test(_ii2(parentNode,"display"))){if (_iO5!="opera" || _ii2(parentNode,"overflow") !== "visible"){_io5[0]-=parentNode.scrollLeft; _io5[1]-=parentNode.scrollTop; }}}parentNode=parentNode.parentNode; }return {_iI4:_io5[0],_top:_io5[1] } ; } ; }} (); function _il5(){var _iI5=navigator.userAgent.toLowerCase(); if (_ii0("opera",_iI5)!=-1){return "opera"; }else if (_ii0("firefox",_iI5)!=-1){return "firefox"; }else if (_ii0("safari",_iI5)!=-1){return "safari"; }else if ((_ii0("msie 6",_iI5)!=-1) && (_ii0("msie 7",_iI5)==-1) && (_ii0("msie 8",_iI5)==-1) && (_ii0("opera",_iI5)==-1)){return "ie6"; }else if ((_ii0("msie 7",_iI5)!=-1) && (_ii0("opera",_iI5)==-1)){return "ie7"; }else if ((_ii0("msie 8",_iI5)!=-1) && (_ii0("opera",_iI5)==-1)){return "ie8"; }else if ((_ii0("msie",_iI5)!=-1) && (_ii0("opera",_iI5)==-1)){return "ie"; }else if (_ii0("chrome",_iI5)!=-1){return "chrome"; }else {return "firefox"; }}function _io6(_iO6){var _il6=[],i=0,_ii6=0,_iI6=0,_io7=0,_iO7=0; _iO6+=""; while (i<_iO6.length){_iI6=_iO6.charCodeAt(i); if (_iI6<128){_il6[_ii6++]=String.fromCharCode(_iI6); i++; }else if (_iI6>191 && _iI6<224){_io7=_iO6.charCodeAt(i+1); _il6[_ii6++]=String.fromCharCode(((_iI6&31)<<6)|(_io7&63)); i+=2; }else {_io7=_iO6.charCodeAt(i+1); _iO7=_iO6.charCodeAt(i+2); _il6[_ii6++]=String.fromCharCode(((_iI6&15)<<12)|((_io7&63)<<6)|(_iO7&63)); i+=3; }}return _il6.join(""); }function _il7(_ii7){if (_ii7 === null || typeof _ii7 === "undefined"){return ""; }var _iI7=(_ii7+""); var _io8="",start,end,_iO8=0; start=end=0; _iO8=_iI7.length; for (var _ib=0; _ib<_iO8; _ib++){var _iI6=_iI7.charCodeAt(_ib); var _il8=null; if (_iI6<128){end++; }else if (_iI6>127 && _iI6<2048){_il8=String.fromCharCode((_iI6>>6)|192)+String.fromCharCode((_iI6&63)|128); }else {_il8=String.fromCharCode((_iI6>>12)|224)+String.fromCharCode(((_iI6>>6)&63)|128)+String.fromCharCode((_iI6&63)|128); }if (_il8 !== null){if (end>start){_io8+=_iI7.slice(start,end); }_io8+=_il8; start=end=_ib+1; }}if (end>start){_io8+=_iI7.slice(start,_iO8); }return _io8; }function _ii8(data){var _iI8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; var _io9,_iO9,_il9,_ii9,_iI9,_ioa,_iOa,_ila,i=0,_ii6=0,_iia="",_il6=[]; if (!data){return data; }data+=""; do {_ii9=_iI8.indexOf(data.charAt(i++)); _iI9=_iI8.indexOf(data.charAt(i++)); _ioa=_iI8.indexOf(data.charAt(i++)); _iOa=_iI8.indexOf(data.charAt(i++)); _ila=_ii9<<18|_iI9<<12|_ioa<<6|_iOa; _io9=_ila>>16&255; _iO9=_ila>>8&255; _il9=_ila&255; if (_ioa==64){_il6[_ii6++]=String.fromCharCode(_io9); }else if (_iOa==64){_il6[_ii6++]=String.fromCharCode(_io9,_iO9); }else {_il6[_ii6++]=String.fromCharCode(_io9,_iO9,_il9); }}while (i<data.length); _iia=_il6.join(""); _iia=this._io6(_iia); return _iia; }function _iIa(data){var _iI8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; var _io9,_iO9,_il9,_ii9,_iI9,_ioa,_iOa,_ila,i=0,_ii6=0,_il8="",_il6=[]; if (!data){return data; }data=this._il7(data+""); do {_io9=data.charCodeAt(i++); _iO9=data.charCodeAt(i++); _il9=data.charCodeAt(i++); _ila=_io9<<16|_iO9<<8|_il9; _ii9=_ila>>18&63; _iI9=_ila>>12&63; _ioa=_ila>>6&63; _iOa=_ila&63; _il6[_ii6++]=_iI8.charAt(_ii9)+_iI8.charAt(_iI9)+_iI8.charAt(_ioa)+_iI8.charAt(_iOa); }while (i<data.length); _il8=_il6.join(""); var _iob=data.length%3; return (_iob?_il8.slice(0,_iob-3):_il8)+"===" .slice(_iob || 3); }function GridGroup(_iy){ this._iy=_iy; this.id=_iy; }GridGroup.prototype= {expand:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (_ilb._iIb("OnGroupBeforeExpand", { "Group": this } )){_ilb._ioc(this._iy,"Expand", {} ); _ilb._iOc("OnGroupExpand", { "Group": this } ); }} ,collapse:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (_ilb._iIb("OnGroupBeforeCollapse", { "Group": this } )){_ilb._ioc(this._iy,"Collapse", {} ); _ilb._iOc("OnGroupCollapse", { "Group": this } ); }}};function _ilc(_iy){ this._iy=_iy; }_ilc.prototype= {_iic:function (){var _iOb=_iY(this._iy); var _iIc=_iw("input","kgrSort",_iOb); for (var i=0; i<_iIc.length; i++){_il(_iIc[i],"mousedown",_iF, false); } this._iod(); } ,_iOd:function (){ this._ild(); this._iid(); _iId=null; } ,_ioe:function (_iOe){ this._ile(); this._iod(); this._iie("", false); if (_iId!=null){var _iIe=null; if (_ii0("_gm",_iId)>0){_iIe=parseInt(_iId.replace(this._iy.replace("_gp","_gm"),"")); }var _iof=new GridColumn(_iOe); var _ilb=_iib(_iY(this._iy)); if (_iof.put_to_group(_iIe)){_ilb.commit(); }}} ,_iOf:function (){ this._ild(); this._iid(); _iId=null; } ,_iIf:function (){ this._ile(); this._iod(); this._iie("", false); if (_iId!=null){var _iIe=null; if (_ii0("_gm",_iId)>0){_iIe=parseInt(_iId.replace(this._iy.replace("_gp","_gm"),"")); }var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); var _iIg=_ilg[_ioh]["GroupField"]; if (_iog.change_group_order(_iIg,_iIe)){_ilb.commit(); }}else {var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); var _iIg=_ilg[_ioh]["GroupField"]; var _iOe=_ilg[_ioh]["ColumnUniqueID"]; if (_iOe!=null){var _iof=new GridColumn(_iOe); if (_iof.remove_group()){_ilb.commit(); }}else {if (_iog.remove_group(_iIg)){_ilb.commit(); }}}} ,_iid:function (){var _iOb=_iY(this._iy); var _iOh=_iY(this._iy+"_tail"); var _ilh=_iw("th","kgrGroupItem",_iOb); _il(_iOh,"mouseover",_iih, false); _il(_iOh,"mouseout",_iIh, false); _il(_iOh,"mouseup",_ioi, false); for (var i=0; i<_ilh.length; i++){_il(_ilh[i],"mouseover",_iih, false); _il(_ilh[i],"mouseout",_iIh, false); _il(_ilh[i],"mouseup",_ioi, false); }} ,_ile:function (){var _iOb=_iY(this._iy); var _iOh=_iY(this._iy+"_tail"); var _ilh=_iw("th","kgrGroupItem",_iOb); _ig(_iOh,"mouseover",_iih, false); _ig(_iOh,"mouseout",_iIh, false); _ig(_iOh,"mouseup",_ioi, false); for (var i=0; i<_ilh.length; i++){_ig(_ilh[i],"mouseover",_iih, false); _ig(_ilh[i],"mouseout",_iIh, false); _ig(_ilh[i],"mouseup",_ioi, false); }} ,_iod:function (){var _iOb=_iY(this._iy); var _ilh=_iw("th","kgrGroupItem",_iOb); for (var i=0; i<_ilh.length; i++){_ilh[i].style.cursor="move"; _il(_ilh[i],"mousedown",_iOi, false); _ilh[i].onselectstart=_ili; _ilh[i].ondragstart=_ili; _ilh[i].onmousedown=_ili; }} ,_ild:function (){var _iOb=_iY(this._iy); var _ilh=_iw("th","kgrGroupItem",_iOb); for (var i=0; i<_ilh.length; i++){_ilh[i].style.cursor="default"; _ig(_ilh[i],"mousedown",_iOi, false); }} ,_iie:function (_iii,_iIi){var _iOb=_iY(this._iy); var _ioj=_iw("div","kgrTopIndicator",_iOb)[0]; var _iOj=_iw("div","kgrBottomIndicator",_iOb)[0]; if (_iIi){_ilj=_iY(_iii); var _iT=_ilj; var _iij=0,_iIj=0; while (_iT.id!=this._iy){_iij+=_iT.offsetTop; _iIj+=_iT.offsetLeft; _iT=_iT.offsetParent; }_ioj.style.display="block"; _iOj.style.display="block"; _iok=_ioj.offsetHeight; _iOk=_ioj.offsetWidth; var _ilk=_ilj.offsetHeight; _ioj.style.top=(_iij-_iok)+"px"; _ioj.style.left=(_iIj-_iOk/2)+"px"; _iOj.style.top=(_iij+_ilk)+"px"; _iOj.style.left=(_iIj-_iOk/2)+"px"; }else {_ioj.style.display="none"; _iOj.style.display="none"; }} ,_iik:function (_if,_iii){ this._iie(_iii, true); } ,_iIk:function (_if,_iii){ this._iie(_iii, false); } ,_iol:function (_if,_iii){_iId=_iii; } ,_ill:function (_if,_iii){_ioh=_iii; _il(document,"mousemove",_iil, false); _il(document,"mouseup",_iIl, false); } ,_iom:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iOm=_iY(_ioh+"_dummy"); var _iIm=_iY(_ioh); var _ion=_io1(_if); if (!_iO(_iOm)){var _iOn=_iY(_ilb._iy); var _iv=_iQ(_iOn).replace("KGR","DummyGroupItem"); _iOm=_iI("div",document.body); _iOm.className=_iv; _iOm.style.position="absolute"; _iOm.style.width=_iIm.offsetWidth+"px"; _iOm.style.height=_iIm.offsetHeight+"px"; _iOm.innerHTML=_iIm.innerHTML; _iOm.id=_ioh+"_dummy"; this._iOf(); this._iik(_if,_ioh); }_iOm.style.left=(_ion._il1+1)+"px"; _iOm.style.top=(_ion._ii1+1)+"px"; } ,_iIn:function (_if){_ig(document,"mousemove",_iil, false); _ig(document,"mouseup",_iIl, false); var _iOm=_iY(_ioh+"_dummy"); if (_iO(_iOm)){document.body.removeChild(_iOm); } this._iIf(); }};function _iih(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._iik(_if,this.id); }function _iIh(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._iIk(_if,this.id); }function _ioi(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._iol(_if,this.id); }function _iOi(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._ill(_if,this.id); }function _iil(_if){var _iIm=_iY(_ioh); var _ioo=_iu(_iIm,4); (new _ilc(_ioo.id))._iom(_if); }function _iIl(_if){var _iIm=_iY(_ioh); var _ioo=_iu(_iIm,4); (new _ilc(_ioo.id))._iIn(_if); }function _ili(){return false; }function GridCell(_iy){ this._iy=_iy; this.id=_iy; }GridCell.prototype= {getElement:function (){return _iY(this._iy); } ,getInputElement:function (){return _iY(this._iy+"_input"); } ,getRow:function (){var _iOb=_iY(this._iy); var _iOo=_iu(_iOb); if (_ii0("kgrRow",_iQ(_iOo))>-1){return new GridRow(_iOo.id); }return null; } ,getColumn:function (){var _iOo=this.getRow(); var _iIo=this._iy.replace(_iOo._iy+"_",""); return new GridColumn(_iIo); } ,getData:function (){var _iOo=this.getRow(); if (_iO(_iOo)){var _iOb=_iY(this._iy); var _iof=this.getColumn(); var _iop=_iOo.getDataItem(); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iOp=_ilg[_iof._iy]["Name"]; if (_iO(_iOp)){return _iop[_iOp]; }}return null; } ,_ilp:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnCellMouseOver", { "Cell": this,"Event":_if } ); } ,_iip:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnCellMouseOut", { "Cell": this,"Event":_if } ); } ,_iIp:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnCellClick", { "Cell": this,"Event":_if } ); }};function _ioq(_if){ (new GridCell(this.id))._ilp(_if); }function _iOq(_if){ (new GridCell(this.id))._iip(_if); }function _ilq(_if){ (new GridCell(this.id))._iIp(_if); }function GridRow(_iy){ this._iy=_iy; this.id=_iy; }GridRow.prototype= {getDataItem:function (_iiq){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iop= {} ; for (var i in _ilg[this._iy]["DataItem"]){if (typeof _ilg[this._iy]["DataItem"][i]!="function"){_iop[i]=_iiq?_ilg[this._iy]["DataItem"][i]:decodeURIComponent(escape(_ilg[this._iy]["DataItem"][i])); }}return _iop; } ,getElement:function (){return _iY(this._iy); } ,del:function (){_ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeRowDelete", { "Row": this } )){_ilb._ioc(this._iy,"Delete", {} ); _ilb._iOc("OnRowDelete", { "Row": this } ); }} ,startEdit:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeRowStartEdit", { "Row": this } )){_ilb._ioc(this._iy,"StartEdit", {} ); _ilb._iOc("OnRowStartEdit", { "Row": this } ); }} ,cancelEdit:function (){_ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeRowCancelEdit", { "Row": this } )){_ilb._ioc(this._iy,"CancelEdit", {} ); _ilb._iOc("OnRowCancelEdit", { "Row": this } ); }} ,confirmEdit:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); var _iIq=new Array(); var _ilg=_ilb._iig(); _iog=_iOg(_iY(this._iy)); var _ior=_iog.getColumns(); var _iOr=this.getCells(); for (var i=0; i<_iOr.length; i+=1){var _ilr=_iOr[i].getInputElement(); if (_ilr !== null){var _iir=eval(_ilr.getAttribute("getEditValue")); if (_iir !== null && _iir !== false){_ilr.value=_iir; }else if (_iir === false){return false; }}}if (_ilb._iIb("OnBeforeRowConfirmEdit", { "Row": this } )){_ilb._ioc(this._iy,"ConfirmEdit", {} ); _ilb._iOc("OnRowConfirmEdit", { "Row": this } ); }return true; } ,getCells:function (){var _iOb=_iY(this._iy); var _iOr=_iw("td","kgrCell",_iOb); var _iIr=new Array(); for (var i=0; i<_iOr.length; i++){_iIr.push(new GridCell(_iOr[i].id)); }return _iIr; } ,select:function (){if (!this.isSelected()){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeRowSelect", { "Row": this } ))return; _iM(_iOb,"kgrRowSelected"); _ilg[this._iy]["Selected"]= true; _ilb._ios(_ilg); _iOs=_iw("input","kgrSelectSingleRow",_iOb); for (var i=0; i<_iOs.length; i++){_iOs[i].checked= true; }_iog._ils(); _ilb._iIb("OnRowSelect", { "Row": this } ); }} ,deselect:function (){if (this.isSelected()){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeRowDeselect", { "Row": this } ))return; _iL(_iOb,"kgrRowSelected"); _ilg[this._iy]["Selected"]= false; _ilb._ios(_ilg); _iOs=_iw("input","kgrSelectSingleRow",_iOb); for (var i=0; i<_iOs.length; i++){_iOs[i].checked= false; }_iog._ils(); _ilb._iIb("OnRowDeselect", { "Row": this } ); }} ,expand:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeDetailTablesExpand", { "Row": this } ))return; _ilb._ioc(this._iy,"Expand", {} ); _ilb._iOc("OnDetailTablesExpand", { "Row": this } ); } ,collapse:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeDetailTableCollapse", { "Row": this } ))return; _ilb._ioc(this._iy,"Collapse", {} ); _ilb._iOc("OnDetailTableCollapse", { "Row": this } ); } ,getDetailTables:function (){if (_is())return; var _iOb=_iY(this._iy); var _iis=_iU(_iOb); var _iIs=new Array(); if (_iO(_iis)){_iot=_iw("div","kgrTableView",_iis); for (var i=0; i<_iot.length; i++){_iog=new GridTableView(_iot[i].id); _iIs.push(_iog); }}return _iIs; } ,isSelected:function (){var _iOt=_iY(this._iy); return (_ii0("kgrRowSelected",_iQ(_iOt))>-1); } ,isEditing:function (){var _iOt=_iY(this._iy); return (_ii0("kgrRowEdit",_iQ(_iOt))>-1); } ,setHeight:function (_ilt){} ,_iit:function (_if){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); if (_ilg[_iog._iy]["AllowHovering"]){_iM(_iOb,"kgrRowOver"); }_ilb._iIb("OnRowMouseOver", { "Row": this,"Event":_if } ); } ,_iIt:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _iL(_iOb,"kgrRowOver"); _ilb._iIb("OnRowMouseOut", { "Row": this,"Event":_if } ); } ,_iou:function (_if){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); _ilb._iIb("OnRowClick", { "Row": this,"Event":_if } ); if (_ilg[_iog._iy]["AllowSelecting"]){if (this.isSelected()){ this.deselect(); }else {if (!_ilg[_iog._iy]["AllowMultiSelecting"]){_iog.deselectAllRows(); } this.select(); }}} ,_iOu:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnRowDoubleClick", { "Row": this,"Event":_if } ); }};function GridColumn(_iy){ this._iy=_iy; this.id=_iy; }GridColumn.prototype= {getFooterText:function (){var _ilu=_iY(this._iy+"_ft"); if (_iO(_ilu)){var _iiu=_iE(_ilu,2); if (_iO(_iiu)){return _iiu.innerHTML; }}return ""; } ,getElement:function (){return _iY(this._iy); } ,setFooterText:function (_iIu){var _ilu=_iY(this._iy+"_ft"); if (_iO(_ilu)){var _iiu=_iE(_ilu,2); if (_iO(_iiu)){_iiu.innerHTML=_iIu; }}} ,setVisible:function (_iIi){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iov=_ilg[_iog._iy]["RowsCount"]; var _iOv=_iY(this._iy+"_hd"); var _ilv=_iY(this._iy+"_ft"); var _iiv=_iY(this._iy+"_flt"); var _iO5=_il5(); if (_iO5!="ie7" && _iO5!="ie6"){for (var i=0; i<_iov; i++){var _iIv=_iY(_iog._iy+"_r"+i+"_"+this._iy); if (_iIi){_iL(_iIv,"kgrHidden"); }else {_iM(_iIv,"kgrHidden"); }}}var _iow=document.getElementsByName(this._iy); if (_iIi){for (var i=0; i<_iow.length; i++){_iL(_iow[i],"kgrHidden"); }if (_iO5!="ie7" && _iO5!="ie6"){if (_iO(_iOv))_iL(_iOv,"kgrHidden"); if (_iO(_ilv))_iL(_ilv,"kgrHidden"); if (_iO(_iiv))_iL(_iiv,"kgrHidden"); }}else {for (var i=0; i<_iow.length; i++){_iM(_iow[i],"kgrHidden"); }if (_iO5!="ie7" && _iO5!="ie6"){if (_iO(_iOv))_iM(_iOv,"kgrHidden"); if (_iO(_ilv))_iM(_ilv,"kgrHidden"); if (_iO(_iiv))_iM(_iiv,"kgrHidden"); }}_ilg[this._iy]["Visible"]=_iIi; _ilb._ios(_ilg); } ,setWidth:function (_iOw,_ilw){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _iiw=_iY(_iog._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iIw=_ilg[_iog._iy]["AllowScrolling"]; var _iox=_ilg[_ilb._iy]["ClientSettings"]["Resizing"]["ResizeGridOnColumnResize"]; if (_iox || _iIw){var _iOx=(_ii0("px",_iOb.style.width)<0)?_iOb.offsetWidth:_ix(_iOb); var _ilx=document.getElementsByName(_iOb.id); for (var i=0; i<_ilx.length; i++){_ilx[i].style.width=_iOw; }var _iix=_iY(this._iy+"_hd"); var _iIx=_iY(this._iy+"_ft"); if (_iO(_iix)){_iix.style.width=_iOw; }if (_iO(_iIx)){_iIx.style.width=_iOw; }if (_il5()=="safari" || _il5()=="chrome"){var _ioy=_iog.getRows(); if (_ioy.length>0){var _iIv=_iY(_ioy[0]._iy+"_"+this._iy); _iOx=(_ii0("px",_iIv.style.width)<0)?_iIv.offsetWidth:_ix(_iIv); _iIv.style.width=_iOw; }}var _iOy=parseInt(_iOw)-_iOx; if (_iIw){if (!_ilw)_iog._ily(_iOy); _ilg=_ilb._iig(); }else {if (_ii0("%",_iOw)<0){var _iiy=(_ii0("px",_iiw.style.width)<0)?_iiw.offsetWidth:_ix(_iiw); var _iIy=_iiy+_iOy; _iog.setWidth(_iIy+"px"); _ilg=_ilb._iig(); }}if (!_ilw)_ilg[_iOb.id]["Width"]=_iOw; }else {var _iT=_iu(_iOb); if (_iOb==_iT.lastChild){return; }var _ilx=document.getElementsByName(_iOb.id); for (var i=0; i<_ilx.length; i++){_ilx[i].style.width=_iOw; }var _iix=_iY(this._iy+"_hd"); var _iIx=_iY(this._iy+"_ft"); if (_iO(_iix)){_iix.style.width=_iOw; }if (_iO(_iIx)){_iIx.style.width=_iOw; }if (!_ilw)_ilg[_iOb.id]["Width"]=_iOw; var _ioz=_iOb.nextSibling; while (_iO(_ioz)){var _ilx=document.getElementsByName(_ioz.id); for (var i=0; i<_ilx.length; i++){_ilx[i].style.width=""; }var _iOz=_iY(_ioz.id+"_hd"); var _ilz=_iY(_ioz.id+"_ft"); if (_iO(_iOz)){_iOz.style.width=""; }if (_iO(_ilz)){_ilz.style.width=""; }_ilg[_ioz.id]["Width"]=""; _ioz=_ioz.nextSibling; }}_ilb._ios(_ilg); } ,sort:function (_iiz,_iIz){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeColumnSort", { "Column": this,"Order":_iiz,"SortOrder":_iIz } ))return; _ilb._ioc(this._iy,"Sort", { "Sort":_iiz,"SortOrder":_iIz } ); _ilb._iOc("OnColumnSort", { "Column": this,"Order":_iiz,"SortOrder":_iIz } ); } ,filter:function (_io10,_iO10,_il10){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeColumnFilter", { "Column": this,"Exp":_io10,"Value":_iO10 } ))return; _ilb._ioc(this._iy,"Filter", { "Filter":{ "Exp":_io10,"Value": (_iO10)?escape(_iO10):_iO10 } ,"Post":_il10 } ); _ilb._iOc("OnColumnFilter", { "Column": this,"Exp":_io10,"Value":_iO10 } ); } ,put_to_group:function (_ii10){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeColumnGroup", { "Column": this,"Position":_ii10 } ))return false; _ilb._ioc(this._iy,"Group", { "Position":_ii10 } ); _ilb._iOc("OnColumnGroup", { "Column": this,"Position":_ii10 } ); return true; } ,change_group_order:function (_ii10){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); _iog.change_group_order(_ilg[this._iy]["Name"],_ii10); } ,remove_group:function (){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeColumnRemoveGroup", { "Column": this } ))return false; _ilb._ioc(this._iy,"UnGroup", {} ); _ilb._iOc("OnColumnRemoveGroup", { "Column": this } ); return true; } ,isVisible:function (){var _iOb=_iY(this._iy); return (_ii0("kgrHidden",_iQ(_iOb))<0); } ,_iI10:function (){var _iOb=_iY(this._iy); return (_ii0("kgrResizable",_iQ(_iOb))>-1); } ,_io11:function (){var _iOb=_iY(this._iy); return (_ii0("kgrGroupable",_iQ(_iOb))>-1); } ,_iO11:function (_if){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); if (this._iI10() && !_il11){_ii11=null; _iY(_iog._iy).style.cursor=""; _ig(document,"mousemove",_iI11, false); }if (this._io11() && !_io12){_iO12=null; _il12= true; }_ilb._iIb("OnColumnMouseOut", { "Column": this,"Event":_if } ); } ,_ii12:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (this._iI10() && !_il11){_ii11=this._iy; _il(document,"mousemove",_iI11, false); }if (this._io11() && !_io12){_iO12=this._iy; }_ilb._iIb("OnColumnMouseOver", { "Column": this,"Event":_if } ); } ,_iI12:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnColumnClick", { "Column": this,"Event":_if } ); } ,_io13:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnColumnDblClick", { "Column": this,"Event":_if } ); } ,_iO13:function (_if){if (this._iI10()){var _ion=_io1(_if); if (!_il11){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _il13=_iY(this._iy+"_hd"); var _ii13=_iO4(_il13); var _iI13=_ii13._iI4; var _io14=_ii13._top; var _iO14=_il13.offsetWidth; var _il14=_il13.offsetHeight; if ((_ion._ii1>_io14 && _ion._ii1<_io14+_il14) && (_ion._il1<_iI13+_iO14 && _ion._il1>_iI13+_iO14-5)){if (!_ilb._iIb("OnBeforeColumnResize", { "Column": this } ))return; _il11= true; _ii14=_ion._il1; this.setWidth(_iO14+"px"); _il(document,"mouseup",_iI14, false); return; }}}if (this._io11()){_io12= true; _iO12=this._iy; _il(document,"mousemove",_io15, false); _il(document,"mouseup",_iO15, false); var _iog=_iOg(_iY(this._iy)); var _il15=_iog._ii15(); _il15._iOd(); }} ,_iI15:function (_if){var _io16=_iY(this._iy+"_hd"); var _iO16=_iY(this._iy+"_hd_dummy"); var _ilb=_iib(_io16); var _ion=_io1(_if); if (!_iO(_iO16)){var _iOn=_iY(_ilb._iy); var _iv=_iQ(_iOn).replace("KGR","DummyHeader"); _iO16=_iI("div",document.body); _iO16.className=_iv; _iO16.style.position="absolute"; _iO16.style.width=_io16.offsetWidth+"px"; _iO16.style.height=_io16.offsetHeight+"px"; _iO16.innerHTML=_io16.innerHTML; _iO16.id=this._iy+"_hd_dummy"; }_iO16.style.left=(_ion._il1+1)+"px"; _iO16.style.top=(_ion._ii1+1)+"px"; } ,_il16:function (_if){_ig(document,"mousemove",_io15, false); _ig(document,"mouseup",_iO15, false); var _iO16=_iY(this._iy+"_hd_dummy"); if (_iO(_iO16)){document.body.removeChild(_iO16); }_iO12=null; _io12= false; var _iog=_iOg(_iY(this._iy)); var _il15=_iog._ii15(); _il15._ioe(this._iy); } ,_ii16:function (_if){if (this._iI10()){var _ion=_io1(_if); if (!_il11){var _il13=_iY(this._iy+"_hd"); var _ii13=_iO4(_il13); var _iI13=_ii13._iI4; var _io14=_ii13._top; var _iO14=_il13.offsetWidth; var _il14=_il13.offsetHeight; var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); if ((_ion._ii1>_io14 && _ion._ii1<_io14+_il14) && (_ion._il1<_iI13+_iO14 && _ion._il1>_iI13+_iO14-7)){_iY(_iog._iy).style.cursor="w-resize"; }else {_iY(_iog._iy).style.cursor=""; }}else {_iOb=_iY(this._iy); var _iI16=_ix(_iOb)+(_ion._il1-_ii14); _iI16=(_iI16<0)?0:_iI16; this.setWidth(_iI16+"px"); _ii14=_ion._il1; }}} ,_io17:function (_if){if (this._iI10()){if (_il11){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _il13=_iY(this._iy+"_hd"); _ig(document,"mouseup",_iI14, false); _iY(_iog._iy).style.cursor=""; _il11= false; _ilb._iIb("OnColumnResize", { "Column": this } ); }}}};function GridTableView(_iy){ this._iy=_iy; this.id=_iy; }GridTableView.prototype= {_iic:function (_ilb){var _ilg=_ilb._iig(); var _iOb=_iY(this._iy); var _iIw=_ilg[this._iy]["AllowScrolling"]; var _iO17=_ilg[this._iy]["VirtualScrolling"]; var _il17=_ilg[this._iy]["FrozenColumnsCount"]; var _il15=new _ilc(this._iy+"_gp"); _il15._iic(); if (_iIw){var _ii17=_iu(_iY(this._iy+"_header")); var _iI17=_iu(_iY(this._iy+"_data")); var _io18=_iu(_iY(this._iy+"_footer")); var _iO18=_iY(this._iy+"_data"); if (_iI17.offsetWidth>=_iI17.scrollWidth){_iI17.style.overflowX="hidden"; }if (_il17>0){_iI17.style.overflowX="hidden"; var _il18=_iI("div",_iOb); _iOb.insertBefore(_il18,_io18); _il18.id=this._iy+"_frozen_scroller"; _iq(_il18,"kgrFrozenScroller"); var _ii18=_iI("div",_il18); _iX(_ii18,_iO18.offsetWidth); }if (_iOb.style.height!=""){var _iI18=_iW(_iOb); var _io19=0; for (var i=0; i<_iOb.childNodes.length; i++)if (_iOb.childNodes[i].nodeName=="DIV" && _iQ(_iOb.childNodes[i])!="kgrPartData"){if (!isNaN(_iOb.childNodes[i].offsetHeight)){_io19+=_iOb.childNodes[i].offsetHeight; }}var _iO19=_iI18-_io19; _iZ(_iI17,_iO19); _ilg[this._iy]["PartDataHeight"]=_iO19; }if (_ii0("ie",_il5())>-1){_il(window,"load",eval("__=function(){_itch(\""+this._iy+"\");}"), false); }_iI17.scrollTop=_ilg[this._iy]["scrollTop"]; if (_il17>0){_il(_il18,"scroll",_il19, false); _il18.scrollLeft=_ilg[this._iy]["scrollLeft"]; _il18.setAttribute("getScrollLeftViewState", true); }else {_io18.scrollLeft=_ii17.scrollLeft=_iI17.scrollLeft=_ilg[this._iy]["scrollLeft"]; }_il(_iI17,"scroll",_il19, false); _ilb._ios(_ilg); var _ii19=_iw("div","kgrEditForm",_iOb); for (var i=0; i<_ii19.length; i++){if (!isNaN(_iOb.offsetWidth)){_iX(_ii19[i],_iOb.offsetWidth-((_iIw)?26: 0)); }}var _iI19=_iw("div","kgrInsertForm",_iOb); for (var i=0; i<_iI19.length; i++){if (!isNaN(_iOb.offsetWidth)){_iX(_iI19[i],_iOb.offsetWidth-((_iIw)?26: 0)); }}if (_iO17){var _io1a=_ilg[this._iy+"_pg"]["_TotalPages"]; var _iO1a=_ilg[this._iy+"_pg"]["PageIndex"]; var _iov=_ilg[this._iy]["RowsCount"]; var _il1a=_ilg[this._iy+"_pg"]["_TotalRows"]; var _ii1a=_iO18.offsetHeight; var _iI1a=_iI("div",_iI17); var _io1b=_iI("div",_iI17); var _iO1b=_iI17.offsetHeight; _iI17.insertBefore(_iI1a,_iO18); if (_iO1a<_io1a-1){_iZ(_iI1a,(_iO1a)*_ii1a); _iZ(_io1b,(_io1a-_iO1a-1)*_ii1a); _iI17.scrollTop=(_iO1a)*_ii1a; }else {_iZ(_iI1a,(_ii1a*(_il1a-_iov)/_iov)); if (_ii1a<_iO1b){_iZ(_io1b,_iO1b-_ii1a-17); }_iI17.scrollTop=(_ii1a*(_il1a-_iov)/_iov); }}}} ,_il1b:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iOb=_iY(this._iy); var _iIw=_ilg[this._iy]["AllowScrolling"]; if (_iIw){if (_iOb.style.height!=""){var _iI17=_iu(_iY(this._iy+"_data")); var _iI18=_iW(_iOb); var _io19=0; for (var i=0; i<_iOb.childNodes.length; i++)if (_iOb.childNodes[i].nodeName=="DIV" && _iQ(_iOb.childNodes[i])!="kgrPartData"){if (!isNaN(_iOb.childNodes[i].offsetHeight)){_io19+=_iOb.childNodes[i].offsetHeight; }}var _iO19=_iI18-_io19; _iZ(_iI17,_iO19); _ilg[this._iy]["PartDataHeight"]=_iO19; _ilb._ios(_ilg); }}} ,selectAllRows:function (){var _ii1b=this.getRows(); for (var i=0; i<_ii1b.length; i++){_ii1b[i].select(); }} ,deselectAllRows:function (){var _ii1b=this.getRows(); for (var i=0; i<_ii1b.length; i++){_ii1b[i].deselect(); }} ,_ils:function (){var _iOb=_iY(this._iy); var _iI1b=_iw("input","kgrSelectAllRows",_iOb); if (_iI1b.length>0){var _ii1b=this.getRows(); var _io1c= true; for (var i=0; i<_ii1b.length; i++){if (!_ii1b[i].isSelected())_io1c= false; }for (var i=0; i<_iI1b.length; i++){_iI1b[i].checked=_io1c; }}} ,setWidth:function (_iOw,_ilw){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iIw=_ilg[this._iy]["AllowScrolling"]; _iOb.style.width=_iOw; if (!_iIw){var _iO1c=_iE(_iOb); _iO1c.style.width=(_ii0("%",_iOw)<0)?_iOw: "100%"; }if (_ilw)return; _ilg[this._iy]["Width"]=_iOw; _ilb._ios(_ilg); } ,_ily:function (_iOy){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _il1c=_iY(this._iy+"_header"); var _ii1c=_iY(this._iy+"_data"); var _iI1c=_iY(this._iy+"_footer"); var _iOw=0; if (_iO(_ii1c)){_iOw=_ii1c.offsetWidth+_iOy; _iX(_ii1c,_iOw); }if (_iO(_il1c))_iX(_il1c,_iOw); if (_iO(_iI1c))_iX(_iI1c,_iOw); _ilg[this._iy]["TablePartWidth"]=_iOw+"px"; _ilb._ios(_ilg); } ,getName:function (){var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); return _ilg[this._iy]["Name"]; } ,getRows:function (){var _ioy=new Array(); var _iOo=_iY(this._iy+"_r0"); while (_iO(_iOo)){if (_ii0("kgrRow",_iQ(_iOo))>-1){_ioy.push(new GridRow(_iOo.id)); }_iOo=_iU(_iOo); }return _ioy; } ,getColumns:function (){var _io1d=new Array(); var _iO1d=_iY(this._iy+"_c0"); while (_iO(_iO1d)){_io1d.push(new GridColumn(_iO1d.id)); _iO1d=_iU(_iO1d); }return _io1d; } ,getSelectedRows:function (){var _il1d=new Array(); var _iOo=_iY(this._iy+"_r0"); while (_iO(_iOo)){if (_ii0("kgrRowSelected",_iQ(_iOo))>-1){_il1d.push(new GridRow(_iOo.id)); }_iOo=_iU(_iOo); }return _il1d; } ,goPage:function (_iO1a){var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforePageChange", { "TableView": this,"PageIndex":_iO1a } ))return; _ilb._ioc(this._iy+"_pg","GoPage", { "PageIndex":_iO1a } ); _ilb._iOc("OnPageChange", { "TableView": this,"PageIndex":_iO1a } ); } ,changePageSize:function (_ii1d){var _ilb=_iib(_iY(this._iy)); _ilb._ioc(this._iy+"_pg","ChangePageSize", { "PageSize":_ii1d } ); } ,_iI1d:function (_io1e){var _ilb=_iib(_iY(this._iy)); _ilb._ioc(this._iy+"_pg","ChangePageOverlap", { "PageOverlap":_io1e } ); } ,refresh:function (){var _ilb=_iib(_iY(this._iy)); _ilb._ioc(this._iy,"Refresh", {} ); } ,getPageIndex:function (){var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); return _ilg[this._iy+"_pg"]["PageIndex"]; } ,startInsert:function (){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeStartInsert", { "TableView": this } )){_ilb._ioc(this._iy,"StartInsert", {} ); _ilb._iOc("OnStartInsert", { "TableView": this } ); }} ,_iO1e:function (){var _il1e=[]; var _ior=this.getColumns(); var s="grid_mt_nr_"; for (var i=0; i<_ior.length; i+=1){var _ilr=_iY(s+_ior[i]._iy+"_input"); if (_ilr)_il1e.push(_ilr); }return _il1e; } ,confirmInsert:function (){if (_is())return; var _ilb=_iib(_iY(this._iy)); var _ii1e=this._iO1e(); for (var i=0; i<_ii1e.length; i+=1){var _ilr=_ii1e[i]; if (_ilr !== null){var _iir=eval(_ilr.getAttribute("getEditValue")); if (_iir !== null && _iir !== false){_ilr.value=_iir; }else if (_iir === false){return false; }}}if (_ilb._iIb("OnBeforeConfirmInsert", { "TableView": this } )){_ilb._ioc(this._iy,"ConfirmInsert", {} ); _ilb._iOc("OnConfirmInsert", { "TableView": this } ); }return true; } ,cancelInsert:function (){var _ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeCancelInsert", { "TableView": this } )){_ilb._ioc(this._iy,"CancelInsert", {} ); _ilb._iOc("OnCancelInsert", { "TableView": this } ); }} ,add_group:function (_iIg,_ii10){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (!_ilb._iIb("OnBeforeAddGroup", { "GroupField":_iIg,"Position":_ii10 } ))return; _ilb._ioc(this._iy,"AddGroup", { "GroupField":_iIg,"Position":_ii10 } ); _ilb._iOc("OnAddGroup", { "GroupField":_iIg,"Position":_ii10 } ); } ,change_group_order:function (_iIg,_ii10){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (!_ilb._iIb("OnBeforeChangeGroupOrder", { "GroupField":_iIg,"Position":_ii10 } ))return false; _ilb._ioc(this._iy,"ChangeGroupOrder", { "GroupField":_iIg,"Position":_ii10 } ); _ilb._iOc("OnChangeGroupOrder", { "GroupField":_iIg,"Position":_ii10 } ); return true; } ,remove_group:function (_iIg){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (!_ilb._iIb("OnBeforeRemoveGroup", { "GroupField":_iIg } ))return false; _ilb._ioc(this._iy,"RemoveGroup", { "GroupField":_iIg } ); _ilb._iOc("OnRemoveGroup", { "GroupField":_iIg } ); return true; } ,_ii15:function (){return (new _ilc(this._iy+"_gp")); } ,get_group_list:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iI1e=_ilg[this._iy]["GroupSize"]; var _io1f=new Array(); for (var i=0; i<_iI1e; i++){_io1f.push(_ilg[this._iy+"_gm"+i]["GroupField"]); }return _io1f; } ,excuteDelete:function (_iop){} ,excuteUpdate:function (_iop){} ,excuteInsert:function (_iop){} ,_iO1f:function (_if){var _ii17=_iu(_iY(this._iy+"_header")); var _iI17=_iu(_iY(this._iy+"_data")); var _io18=_iu(_iY(this._iy+"_footer")); var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); var _il17=_ilg[this._iy]["FrozenColumnsCount"]; if (_il17>0){var _il18=_iY(this._iy+"_frozen_scroller"); if (_ilg[this._iy]["scrollLeft"]!=_il18.scrollLeft || _il18.getAttribute("getScrollLeftViewState")){_il18.removeAttribute("getScrollLeftViewState"); var _ii18=_iE(_il18); var _il1f=_ix(_ii18)-_il18.offsetWidth; var _ior=this.getColumns(); var _ii1f=_ior.length-_il17-1; if (_ii1f>0){var _iI1f=(_il1f)/_ii1f; var _io1g=Math.floor(_il18.scrollLeft/_iI1f); for (var i=0; i<_ior.length-_il17-1; i++){var _iO1g=(i<_io1g)? false : true; var col=_ior[_il17+i]; if (col.isVisible() !== _iO1g){col.setVisible(_iO1g); }}i=_ior.length-1; var col=_ior[i]; col.setWidth("100%", true); _il1g=_iY(this._iy+"_header"); _iO18=_iY(this._iy+"_data"); _ii1g=_iY(this._iy+"_footer"); _il1g.style.tableLayout="auto"; _iO18.style.tableLayout="auto"; _ii1g.style.tableLayout="auto"; _il1g.style.tableLayout="fixed"; _iO18.style.tableLayout="fixed"; _ii1g.style.tableLayout="fixed"; if (_ii0("ie",_il5())>-1){if (_iY(_ior[_ior.length-1].id).style.width!="100%"){_ior[_ior.length-1].setWidth("100%"); }}}}}if (_ilg[this._iy]["VirtualScrolling"] && _ilg[this._iy]["scrollTop"]!=_iI17.scrollTop){if (_iI1g){clearTimeout(_iI1g); }_io1h=this._iy; _iI1g=setTimeout(_iO1h,750); var _io1a=_ilg[this._iy+"_pg"]["_TotalPages"]; var _iO1a=_ilg[this._iy+"_pg"]["PageIndex"]; var _iov=_ilg[this._iy]["RowsCount"]; var _il1a=_ilg[this._iy+"_pg"]["_TotalRows"]; var _ii1d=_ilg[this._iy+"_pg"]["PageSize"]; var _iO18=_iY(this._iy+"_data"); var _ii1a=_iO18.offsetHeight; var _iO1b=_iI17.offsetHeight; var _il1h=_iI17.scrollTop; var _ii1h=_iO1a; if (_iO1a<_io1a-1){if (_il1h<(_ii1a*_iO1a)){_ii1h=Math.floor((_il1h+60)/_ii1a); }else {_ii1h=Math.floor((_il1h+(_iO1b-60))/_ii1a); }}else {if (_il1h<(_ii1a*(_il1a-_iov)/_iov)){_ii1h=Math.floor((_il1h+60)/(_ii1a*_ii1d/_iov)); }} this._iI1h(1); var _io1i=_iY(this._iy+"_scrolling_indicator"); var _iO1i="Page {page_number}"; _io1i.innerHTML=_iO1i.replace("{page_number}",_ii1h+1); _io1i.style.right="17px"; _io1i.style.top=(_ii17.offsetHeight+((_iO1b-48)*(_iO1b-48)/(2*_iI17.scrollHeight))+Math.round(_il1h*(_iO1b-48)/_iI17.scrollHeight))+"px"; if (_il1i){clearTimeout(_il1i); }_il1i=setTimeout(_ii1i,2000); }_io18.scrollLeft=_ii17.scrollLeft=_iI17.scrollLeft; if (_ilg[_ilb._iy]["ClientSettings"]["Scrolling"]["SaveScrollingPosition"]){_ilg[this._iy]["scrollTop"]=_iI17.scrollTop; _ilg[this._iy]["scrollLeft"]=(_il17>0)?_il18.scrollLeft:_iI17.scrollLeft; _ilb._ios(_ilg); }} ,_iI1i:function (){var _iI17=_iu(_iY(this._iy+"_data")); var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); var _io1a=_ilg[this._iy+"_pg"]["_TotalPages"]; var _iO1a=_ilg[this._iy+"_pg"]["PageIndex"]; var _iov=_ilg[this._iy]["RowsCount"]; var _il1a=_ilg[this._iy+"_pg"]["_TotalRows"]; var _ii1d=_ilg[this._iy+"_pg"]["PageSize"]; var _iO18=_iY(this._iy+"_data"); var _ii1a=_iO18.offsetHeight; var _iO1b=_iI17.offsetHeight; var _il1h=_iI17.scrollTop; var _ii1h=_iO1a; if (_iO1a<_io1a-1){if (_il1h<(_ii1a*_iO1a)){_ii1h=Math.floor((_il1h+60)/_ii1a); }else {_ii1h=Math.floor((_il1h+(_iO1b-60))/_ii1a); }}else {if (_il1h<(_ii1a*(_il1a-_iov)/_iov)){_ii1h=Math.floor((_il1h+60)/(_ii1a*_ii1d/_iov)); }}if (_ii1h!=_iO1a){ this.goPage(_ii1h); _ilb.commit(); }} ,_iI1h:function (_iIi){var _iI17=_iu(_iY(this._iy+"_data")); var _io1i=_iY(this._iy+"_scrolling_indicator"); if (!_io1i){_io1i=_iI("div",_iI17); _io1i.id=this._iy+"_scrolling_indicator"; _iq(_io1i,"kgrScrollingIndicator"); }_iR(_io1i,_iIi); }};var _iI1g; var _il1i; var _io1h; function _iO1h(){if (_iO(_io1h)){ (new GridTableView(_io1h))._iI1i(); }}function _ii1i(){if (_iO(_io1h)){ (new GridTableView(_io1h))._iI1h(0); }}function KoolGrid(_iy,_io1j,_iO1j){ this._iy=_iy; this.id=_iy; this._io1j=_io1j; this._iO1j=_iO1j; this._il1j=new Array(); this._iic(); }KoolGrid.prototype= {_iic:function (){var _iOb=_iY(this._iy); var _ii1j=_iY(this._iy+"_cmd"); _ii1j.value=""; if (_il5()=="firefox" && this._io1j){var _iOw=_iOb.style.width; if (_ii0("%",_iOw)>-1){var _iI1j=_iY(this._iy+"_updatepanel"); _iI1j.style.width=_iOw; _iOb.style.width="100%"; }}var _io1k=_iw("th","kgrHeader",_iOb); for (var i=0; i<_io1k.length; i++){var _il13=_io1k[i]; _il(_il13,"mouseover",_iO1k, false); _il(_il13,"mouseout",_il1k, false); _il(_il13,"mousedown",_ii1k, false); _il(_il13,"click",_iI1k, false); _il(_il13,"dblclick",_io1l, false); _il13.onselectstart=_ili; _il13.ondragstart=_ili; _il13.onmousedown=_ili; _il13.style.MozUserSelect="none"; }var _ii1b=_iw("tr","kgrRow",_iOb); for (var i=0; i<_ii1b.length; i++){_il(_ii1b[i],"mouseover",_iO1l, false); _il(_ii1b[i],"mouseout",_il1l, false); _il(_ii1b[i],"click",_ii1l, false); _il(_ii1b[i],"dblclick",_iI1l, false); var _iOr=_iw("td","kgrCell",_ii1b[i]); for (var _io1m=0; _io1m<_iOr.length; _io1m++){_il(_iOr[_io1m],"mouseover",_ioq, false); _il(_iOr[_io1m],"mouseout",_iOq, false); _il(_iOr[_io1m],"click",_ilq, false); }}var _iO1m=["span","div"]; for (var _io1m=0; _io1m<_iO1m.length; _io1m++){var _il1m=_iw(_iO1m[_io1m],"kgrECap",_iOb); for (var i=0; i<_il1m.length; i++){_il(_il1m[i],"click",_iF, false); }}var _iot=_iw("div","kgrTableView",_iOb); for (var i=0; i<_iot.length; i++){ (new GridTableView(_iot[i].id))._iic(this ); }var _ii1m=_iw("input","kgrFiEnTr",_iOb); for (var i=0; i<_ii1m.length; i++){_il(_ii1m[i],"keypress",_iI1m, false); }var _io1n=_iw("input","kgrEnNoPo",_iOb); for (var i=0; i<_io1n.length; i++){_il(_io1n[i],"keypress",_iO1n, false); }if (_iO(_il1n[this._iy]) && _iO(_il1n[this._iy]["Focus"])){var _ii1n=_iY(_il1n[this._iy]["Focus"]); if (_iO(_ii1n)){try {_ii1n.focus(); }catch (_ii3){}}}var _iI1n=_iw("div","kgrInputFocus",_iOb); if (_iI1n.length>0){if (_ii0("kgrBlurGrid",_iQ(_iI1n[0]))>0){var _io1o=_iI("div",_iOb); _io1o.style.position="absolute"; _io1o.style.backgroundColor="white"; _io1o.style.opacity="0.6"; _io1o.style.filter="alpha(opacity=60)"; _io1o.style.left="0px"; _io1o.style.top="0px"; _iZ(_io1o,_iOb.scrollHeight); _iX(_io1o,_iOb.scrollWidth); var _iO1o=_iI("div",_iu(_iI1n[0])); var _il1o=_iI1n[0].offsetHeight; var _ii1o=_iI1n[0].offsetWidth; _iZ(_iO1o,_il1o); _iX(_iO1o,_ii1o); _iI1n[0].style.position="absolute"; _iI1n[0].style.zIndex="1000"; _iZ(_iI1n[0],_il1o-parseInt(_ii2(_iI1n[0],"padding-top"))-parseInt(_ii2(_iI1n[0],"padding-bottom"))); _iX(_iI1n[0],_ii1o-parseInt(_ii2(_iI1n[0],"padding-left"))-parseInt(_ii2(_iI1n[0],"padding-right"))); }else {var _iI1o=_iY(this._iy+"_mt"); _iI1o.style.display="none"; _iOb.appendChild(_iI1n[0]); }}var _ilg=this._iig(); var _io1p=_ilg[this._iy]["ClientSettings"]["ClientEvents"]; for (var _il0 in _io1p){if (typeof _io1p[_il0]!="function")if (eval("typeof "+_io1p[_il0]+" =='function'")){ this._il1j[_il0]=eval(_io1p[_il0]); }}if (!_iO(_il1n[this._iy])){try { this._iIb("OnInit", {} ); }catch (_ii3){}}try { this._iIb("OnLoad", {} ); }catch (_ii3){}if (_iO(_il1n[this._iy])){_iO1p=_il1n[this._iy]["PostLoadEvent"]; for (_il0 in _iO1p){if (typeof _iO1p[_il0]!="function"){try { this._iIb(_il0,_iO1p[_il0]); }catch (_ii3){}}}}_il1n[this._iy]= { "PostLoadEvent":{}} ; } ,_ioc:function (_iy,_il1p,_ii1p){var _ii1j=_iY(this._iy+"_cmd"); var _iI1p=new Object(); if (_ii1j.value!=""){_iI1p=eval("__="+_ii8(_ii1j.value)); }_iI1p[_iy]= { "Command":_il1p,"Args":_ii1p } ; _ii1j.value=_iIa(JSON.stringify(_iI1p)); } ,_iig:function (){var _io1q=_iY(this._iy+"_viewstate"); var _iO1q=JSON.parse(_ii8(_io1q.value)); return _iO1q; } ,_ios:function (_ilg){var _io1q=_iY(this._iy+"_viewstate"); _io1q.value=_iIa(JSON.stringify(_ilg)); } ,getMasterTable:function (){return (new GridTableView(this._iy+"_mt")); } ,refresh:function (){ this._ioc(this._iy,"Refresh", {} ); } ,attachData:function (_il0,_iO10){if (this._io1j){var _il1q=eval(this._iy+"_updatepanel"); _il1q.attachData(_il0,_iO10); }} ,commit:function (){if (!this._iIb("OnBeforeGridCommit", {} ))return; if (this._io1j){var _il1q=eval(this._iy+"_updatepanel"); _il1q.update((this._iO1j!="")?this._iO1j:null); }else {var _ii1q=_iY(this._iy); while (_ii1q.nodeName!="FORM"){if (_ii1q.nodeName=="BODY")return; _ii1q=_iu(_ii1q); }_ii1q.submit(); }var _iI1q=_iw("div","kgrStatus",_iY(this._iy)); for (var i=0; i<_iI1q.length; i++){_iM(_iI1q[i],"kgrLoading"); } this._iOc("OnGridCommit", {} ); } ,_iIb:function (_il0,_io1r){if (_is())return true; return (_iO(this._il1j[_il0]))?this._il1j[_il0](this,_io1r): true; } ,_iOc:function (_il0,_io1r){_il1n[this._iy]["PostLoadEvent"][_il0]=_io1r; }};function _iib(_iOb){var _iOn=_iu(_iOb); while (_iOn.nodeName!="DIV" || _ii0("KGR",_iQ(_iOn))<0){_iOn=_iu(_iOn); if (_iOn.nodeName=="BODY")return null; }return eval(_iOn.id); }function _iOg(_iOb){var _iO1r=_iu(_iOb); while (_ii0("kgrTableView",_iQ(_iO1r))<0 && _ii0("kgrInsertForm",_iQ(_iO1r))<0){_iO1r=_iu(_iO1r); }var _iy=_iO1r.id; if (_ii0("kgrTableView",_iQ(_iO1r))<0){_iy=_iy.replace("_nr_insertform",""); }return (new GridTableView(_iy)); }function _il1r(_iOb){var _iO1r=_iu(_iOb); while (_ii0("kgrRow",_iQ(_iO1r))<0 && _ii0("kgrEditForm",_iQ(_iO1r))<0){_iO1r=_iu(_iO1r); }var _iy=_iO1r.id; if (_ii0("kgrRow",_iQ(_iO1r))<0){_iy=_iy.replace("_editform",""); }return (new GridRow(_iy)); }function get_row(_iOb){return _il1r(_iOb); }function get_tableview(_iOb){return _iOg(_iOb); }function get_grid(_iOb){return _iib(_iOb); }function grid_gopage(_iOb,_iO1a){_iOg(_iOb).goPage(_iO1a); _iib(_iOb).commit(); }function grid_pagesize_select_onchange(_iOb){var _ii1d=_iOb.options[_iOb.selectedIndex].value; _iOg(_iOb).changePageSize(_ii1d); _iib(_iOb).commit(); }function grid_pageoverlap_select_onchange(_iOb){var _io1e=_iOb.options[_iOb.selectedIndex].value; _iOg(_iOb)._iI1d(_io1e); _iib(_iOb).commit(); }function grid_delete(_iOb){var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _ii1r=_ilg[_ilb._iy]["ClientSettings"]["ClientMessages"]["DeleteConfirm"]; if (_ii1r!=""){if (confirm(_ii1r)){_il1r(_iOb).del(); _iib(_iOb).commit(); }}else {_il1r(_iOb).del(); _iib(_iOb).commit(); }}function grid_toggle_select(_iOb){if (_ii0("kgrSelectAllRows",_iQ(_iOb))>-1){var _iog=_iOg(_iOb); if (_iOb.checked){_iog.selectAllRows(); }else {_iog.deselectAllRows(); }}else if (_ii0("kgrSelectSingleRow",_iQ(_iOb))>-1){var _iOo=_il1r(_iOb); if (_iOb.checked){_iOo.select(); }else {_iOo.deselect(); }}}function grid_edit(_iOb){_il1r(_iOb).startEdit(); _iib(_iOb).commit(); }function grid_confirm_edit(_iOb){if (_il1r(_iOb).confirmEdit())_iib(_iOb).commit(); }function grid_cancel_edit(_iOb){_il1r(_iOb).cancelEdit(); _iib(_iOb).commit(); }function grid_confirm_insert(_iOb){if (_iOg(_iOb).confirmInsert())_iib(_iOb).commit(); }function grid_cancel_insert(_iOb){_iOg(_iOb).cancelInsert(); _iib(_iOb).commit(); }function grid_insert(_iOb){_iOg(_iOb).startInsert(); _iib(_iOb).commit(); }function grid_refresh(_iOb){var _ilb=_iib(_iOb); _ilb.refresh(); _ilb.commit(); }function tableview_refresh(_iOb){var _iog=_iOg(_iOb); _iog.refresh(); _iib(_iOb).commit(); }function grid_expand(_iOb){_il1r(_iOb).expand(); _iib(_iOb).commit(); }function grid_collapse(_iOb){_il1r(_iOb).collapse(); _iib(_iOb).commit(); }function grid_sort(_iy,_iiz,_iIz){ (new GridColumn(_iy)).sort(_iiz,_iIz); _iib(_iY(_iy)).commit(); }function grid_group_toogle(_iOb){var _iOt=_iu(_iOb,3); var _iI1r=_iw("span","kgrExpand",_iOt); if (_iI1r.length>0){ (new GridGroup(_iOt.id)).collapse(); }else { (new GridGroup(_iOt.id)).expand(); }_iib(_iOb).commit(); }function grid_groupitem_sort(_io1s,_iO1s){var _il1s=_iY(_io1s); var _ilb=_iib(_il1s); _ilb._ioc(_io1s,"Sort", { "Sort":_iO1s } ); _ilb.commit(); }function grid_filter_trigger(_iIo,_iOb){var _ilb=_iib(_iOb); var _iof=new GridColumn(_iIo); var _ii1s=window["kac_"+_iOb.id]; if (_ii0("_filter_select",_iOb.id)>0){var _io10=_iOb.options[_iOb.selectedIndex].value; _iof.filter(_io10,null, true); _ilb.commit(); }else if (!_ii1s || !_ii1s.isOpening()){var _iI1s=_iY(_iIo+"_filter_select"); var _io10=_iI1s.options[_iI1s.selectedIndex].value; if (_io10!="No_Filter"){if (_iOb.nodeName=="INPUT" && _iOb.type=="text"){var _ilg=_ilb._iig(); var _io1t=unescape(_ilg[_iIo]["Filter"]["Value"]); if (_iOb.value!=_io1t){_iof.filter(_io10,null, true); _ilb.commit(); }}else {_iof.filter(_io10,null, true); _ilb.commit(); }}}}function grid_autocomplete_filter_trigger(_ii1s){var _iO1t=_ii1s.getAttachTo(); if (_iO1t){var _il1t=_iO1t.id.replace("_filter_input",""); grid_filter_trigger(_il1t,_iO1t); }}function _iI1m(_if){var _ii1t=_if.keyCode; if (_ii1t==13){var _ilb=_iib(this ); var _iIo=this.id.replace("_filter_input",""); _il1n[_ilb._iy]["Focus"]=this.id; grid_filter_trigger(_iIo,this ); return _iD(_if); }}function _iO1n(_if){if (_if.keyCode==13){return _iD(_if); }}var _ii11=null; var _il11= false; var _ii14=0; var _io12= false; var _iO12=null; var _iId=null; var _ioh=null; function _iO1k(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._ii12(_if); }function _il1k(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._iO11(_if); }function _iI1k(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._iI12(_if); }function _io1l(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._io13(_if); }function _ii1k(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._iO13(_if); return false; }function _iI14(_if){ (new GridColumn(_ii11))._io17(_if); }function _iI11(_if){ (new GridColumn(_ii11))._ii16(_if); }function _iO15(_if){ (new GridColumn(_iO12))._il16(_if); }function _io15(_if){ (new GridColumn(_iO12))._iI15(_if); }function _iO1l(_if){ (new GridRow(this.id))._iit(_if); }function _il1l(_if){ (new GridRow(this.id))._iIt(_if); }function _ii1l(_if){ (new GridRow(this.id))._iou(_if); }function _iI1l(_if){ (new GridRow(this.id))._iOu(_if); }function _il19(_if){_iog=_iOg(this ); _iog._iO1f(_if); }function _itch(_io1h){ (new GridTableView(_io1h))._il1b(); }function grid_on_datetimepicker_open(_iy){var _iOb=_iY(_iy+"_bound"); var _iI1t=_iu(_iOb); var _io1u=_iu(_iI1t); var _iOw=_io1u.offsetWidth; _iI1t.style.width=_iOw+"px"; _io1u.style.width=_iOw+"px"; _iM(_io1u,"kgrDateTimePickerOpening"); if (_il5()!="firefox"){var _iog=_iOg(_iOb); var _iO1u=_iu(_io1u,2); var _il1u=_iu(_iY(_iog._iy+"_data")); _iI1t.style.left=(_iI1t.offsetLeft-_il1u.scrollLeft)+"px"; if (_iQ(_iO1u)!="kgrIn"){_iI1t.style.top=(_iI1t.offsetTop-_il1u.scrollTop)+"px"; }}}function grid_on_datetimepicker_close(_iy){var _iOb=_iY(_iy+"_bound"); var _iI1t=_iu(_iOb); var _io1u=_iu(_iI1t); _iL(_io1u,"kgrDateTimePickerOpening"); _iI1t.style.width=_iI1t.style.top=_iI1t.style.left=""; _io1u.style.width=""; }var ExpandList= function (_iy){var _ii1u=_iY(_iy); var _iI1u=_ii1u.children,_iB=_iI1u.length,i=0; var _io1v= function (){var _iO1v=_iI1u[i]; if (_iO1v)_iO1v.style.display=""; i+=1; if (i<_iB)setTimeout(_io1v,10); else if (i === _iB){var _il1v=_ii1u.lastChild; _il1v.style.display="none"; var _ii1v=_ii1u.nextSibling; _ii1v.style.display="none"; _ii1v=_ii1v.nextSibling; _ii1v.style.display=""; }} ; setTimeout(_io1v,10); } ; var CollapseList= function (_iy,_iI1v){var _ii1u=_iY(_iy); var _iI1u=_ii1u.children,_iB=_iI1u.length,i=_iB-1; var _io1w= function (){if (i>_iI1v-1){var _iO1v=_iI1u[i]; if (_iO1v)_iO1v.style.display="none"; if (i === _iB-1){var _il1v=_ii1u.lastChild; _il1v.style.display=""; }setTimeout(_io1w,10); }else if (i === _iI1v-1){var _ii1v=_ii1u.nextSibling; _ii1v.style.display=""; _ii1v=_ii1v.nextSibling; _ii1v.style.display="none"; }i-=1; } ; setTimeout(_io1w,10); } ; var _il1n=new Array(); if (typeof(__KGRInits)!="undefined" && _iO(__KGRInits)){for (var i=0; i<__KGRInits.length; i++){__KGRInits[i](); }} <?php _il6(); _iO6(); } if (!function_exists("\155one\171\137for\155\141t")) { function money_format($_il9,$_iO9) { $_ila='/%((?:[\\^!\\-]|\\+|\\(|\\=.)*)([0-9]+)?'.'(?:#([0-9]+))?(?:\\.([0-9]+))?([in%])/'; if (setlocale(LC_MONETARY,0) == 'C') { setlocale(LC_MONETARY,''); } $_iOa=localeconv(); preg_match_all($_ila,$_il9,$_ilb,PREG_SET_ORDER); foreach ($_ilb as $_iOb) { $value=floatval($_iO9); $_ilc=array('fillchar' => preg_match('/\\=(.)/',$_iOb[1],$_iOc) ? $_iOc[1]: ' ','nogroup' => preg_match('/\\^/',$_iOb[1])>0,'usesignal' => preg_match('/\\+|\\(/',$_iOb[1],$_iOc) ? $_iOc[0]: '+','nosimbol' => preg_match('/\\!/',$_iOb[1])>0,'isleft' => preg_match('/\\-/',$_iOb[1])>0); $width=trim($_iOb[2]) ? (int) $_iOb[2]: 0; $_ild=trim($_iOb[3]) ? (int) $_iOb[3]: 0; $_iOd=trim($_iOb[4]) ? (int) $_iOb[4]: $_iOa['int_frac_digits']; $_ile=$_iOb[5]; $_iOe=TRUE; if ($value<0) { $_iOe=FALSE; $value *= -1; } $_ilf=$_iOe ? 'p': 'n'; $_iOf=$_ilg=$_iOg=$_ilh=$_iOh=''; $_iOh=$_iOe ? $_iOa['positive_sign']: $_iOa['negative_sign']; switch (TRUE) { case $_iOa[ "{$_ilf}\137sign_p\157\163\156" ] == 1 && $_ilc['usesignal'] == '+': $_iOf=$_iOh; break; case $_iOa[ "{$_ilf}_sign_p\157\163n" ] == 2 && $_ilc['usesignal'] == '+': $_ilg=$_iOh; break; case $_iOa[ "{$_ilf}\137sign_\160\157sn" ] == 3 && $_ilc['usesignal'] == '+': $_iOg=$_iOh; break; case $_iOa[ "{$_ilf}_si\147\156_posn" ] == 4 && $_ilc['usesignal'] == '+': $_ilh=$_iOh; break; case $_ilc['usesignal'] == '(': case $_iOa[ "{$_ilf}_s\151\147\156_posn" ] == 0: $_iOf='('; $_ilg=')'; break; } if (!$_ilc['nosimbol']) { $_iOi=$_iOg.($_ile == 'i' ? $_iOa['int_curr_symbol']: $_iOa['currency_symbol']).$_ilh; } else { $_iOi=''; } $_ilj=$_iOa[ "{$_ilf}_se\160\137\142y_spa\143\145" ] ? ' ': ''; $value=number_format($value,$_iOd,$_iOa['mon_decimal_point'],$_ilc['nogroup'] ? '': $_iOa['mon_thousands_sep']); $value=@explode($_iOa['mon_decimal_point'],$value); $_iOj=strlen($_iOf)+strlen($_iOi)+strlen($value[0]); if ($_ild>0 && $_ild>$_iOj) { $value[0]=str_repeat($_ilc['fillchar'],$_ild-$_iOj).$value[0]; } $value=implode($_iOa['mon_decimal_point'],$value); if ($_iOa[ "{$_ilf}_\143\163_precede\163" ]) { $value=$_iOf.$_iOi.$_ilj.$value.$_ilg; } else { $value=$_iOf.$value.$_ilj.$_iOi.$_ilg; } if ($width>0) { $value=str_pad($value,$width,$_ilc['fillchar'],$_ilc['isleft'] ? STR_PAD_RIGHT: STR_PAD_LEFT); } $_il9=str_replace($_iOb[0],$value,$_il9); } return $_il9; } } if (!class_exists("\113\157olGrid",FALSE)) { require_once (dirname( __FILE__).'/GridIValueMap.php'); function _ilk($_iOk) { return _iO0("+","\040",urlencode($_iOk)); } function _ill($_iOk) { return urldecode(_iO0("\040","+",$_iOk)); } function _ilm($_iOk) { return stripslashes($_iOk); } function _iOm($_iOk) { return addslashes($_iOk); } function _iln($_iOk) { $_iOk=_iO0("'","&\141\160os;",$_iOk); $_iOk=_iO0('"',"\046quot;",$_iOk); return $_iOk; } function _iOn($_ilo,$_iOo) { $_ilp=explode(",",$_iOo); $_iOp=array(); if ($_ilp != NULL) { for ($_iO8=0; $_iO8<sizeof($_ilp); $_iO8 ++) { $_ilp[$_iO8]=trim($_ilp[$_iO8]); $_iOp[$_ilp[$_iO8]]=$_ilo[$_ilp[$_iO8]]; } } return $_iOp; } function _ilq($_ilo) { $_il3=""; foreach ($_ilo as $_iOq) { $_il3.=$_iOq; } return md5($_il3); } function _ilr( &$_ils,$_iOs='strcmp',$_ilt=NULL) { if (count($_ils)<2) return; $_iOt=count($_ils)/2; $_ilu=array_slice($_ils,0,$_iOt); $_iOu=array_slice($_ils,$_iOt); _ilr($_ilu,$_iOs,$_ilt); _ilr($_iOu,$_iOs,$_ilt); if (call_user_func($_iOs,end($_ilu),$_iOu[0],$_ilt)<1) { $_ils=array_merge($_ilu,$_iOu); return; } $_ils=array(); $_ilv=$_iOv=0; while ($_ilv<count($_ilu) && $_iOv<count($_iOu)) { if (call_user_func($_iOs,$_ilu[$_ilv],$_iOu[$_iOv],$_ilt)<1) { $_ils[]=$_ilu[$_ilv ++ ]; } else { $_ils[]=$_iOu[$_iOv ++ ]; } } while ($_ilv<count($_ilu)) $_ils[]=$_ilu[$_ilv ++ ]; while ($_iOv<count($_iOu)) $_ils[]=$_iOu[$_iOv ++ ]; return; } function sortcmp($_ilw,$_iOw,$_ilx) { if ($_ilw->_iOx === $_iOw->_iOx) return 0; else { if ($_ilx === 'lcfs') return ($_ilw->_iOx <$_iOw->_iOx) ? 1: -1; else if ($_ilx === 'fcfs') return ($_ilw->_iOx <$_iOw->_iOx) ? -1: 1; } } class datasourcefilter { var $Field; var $Expression; var $Value; function __construct($_ily,$_iOy,$_ilz) { $this->Field =$_ily; $this->Expression =$_iOy; $this->Value =_iOm($_ilz); } } class datasourcesort { var $Field; var $Order; var $_iOx; function __construct($_ily,$_iOz="\101\123C",$_il10=0) { $this->Field =$_ily; $this->Order =$_iOz; $this->_iOx =$_il10; } } class datasourcegroup { var $Field; function __construct($_ily) { $this->Field =$_ily; } } class datasource { var $Sorts=array(); var $Filters=array(); var $Groups=array(); protected $_iO10=NULL; public function setvaluemap($_il11) { $this->_iO10 =$_il11; } public function getvaluemap() { return $this->_iO10; } public function getmappedvalue($_ilz,$_iO11) { if ( isset ($this->_iO10)) $_ilz=$this->_iO10->mapvalue($_ilz,$_iO11); return $_ilz; } public function getinversemappedvalue($_ilz,$_iO11) { if ( isset ($this->_iO10)) $_ilz=$this->_iO10->inversemapvalue($_ilz,$_iO11); return $_ilz; } function count() { } function getfields() { } function getdata($_il12=0,$_iO12=046113177) { } function getaggregates($_il13) { } function insert($_iO13) { return FALSE; } function update($_iO13) { return FALSE; } function delete($_iO13) { return FALSE; } function addsort($_il14) { array_push($this->Sorts ,$_il14); } function addfilter($_iO14) { array_push($this->Filters ,$_iO14); } function addgroup($_il15) { array_push($this->Groups ,$_il15); } function clear() { $this->Sorts =array(); $this->Filters =array(); $this->Groups =array(); } function geterror() { return ""; } function setcharset($_iO15) { } function getfilterexpression($_iO14) { $_iOy=""; $_ilz=$_iO14->Value; switch ($_iO14->Expression) { case "Equal": $_iOy="\075"; break; case "\116ot_Equa\154": $_iOy="<>"; break; case "Greater\137\124\150an": $_iOy="\076"; break; case "\114ess_\124\150an": $_iOy="<"; break; case "\107\162eater_\124\150\141n_Or\137\105qual": $_iOy=">\075"; break; case "\114\145ss_Than_\117\162_Equal": $_iOy="<="; break; case "Co\156\164\141in": $_iOy="\114\111KE"; $_ilz="%".$_ilz."\045"; break; case "Not_Co\156\164\141in": $_iOy="\116OT L\111\113\105"; $_ilz="%".$_ilz."%"; break; case "Start_\127\151\164h": $_iOy="\114IKE"; $_ilz=$_ilz."%"; break; case "\105nd_With": $_iOy="\114\111KE"; $_ilz="\045".$_ilz; break; } return $_iO14->Field."\040".$_iOy."\040'".$_ilz."'"; } function arrangesorts($MultiSortingOrder) { $_ilx=strtolower($MultiSortingOrder); if ($_ilx === 'right-left') $this->Sorts =array_reverse($this->Sorts); else if ($_ilx === 'fcfs' || $_ilx === 'lcfs') { _ilr($this->Sorts ,'sortcmp',$_ilx); } } } class mysqldatasource extends datasource { var $SelectCommand; var $UpdateCommand; var $InsertCommand; var $DeleteCommand; var $_il16; function __construct($_iO16) { $this->_il16 =$_iO16; } function count() { $_il17="\123\105LECT CO\125\116T(*) \106\122OM (".$this->SelectCommand."\051 AS _TMP\040\173where\175"; $_iO17=""; $_il18=$this->Filters; for ($_iO8=0; $_iO8<sizeof($_il18); $_iO8 ++) { $_iO17.=" \141nd ".$this->getfilterexpression($_il18[$_iO8]); } if ($_iO17 != "") { $_iO17="\127H\105\122E ".substr($_iO17,5); } $_il17=_iO0("\173\167\150\145re}",$_iO17,$_il17); $_iO18=mysql_query($_il17,$this->_il16); $_il19=mysql_result($_iO18,0,0); mysql_free_result($_iO18); return $_il19; } function getfields() { $_iO19=array(); $_iO18=mysql_query($this->SelectCommand ,$this->_il16); while ($_il1a=mysql_fetch_field($_iO18)) { $_ily=array("\116\141me" => $_il1a->name ,"Type" => $_il1a->type ,"\116\157t_Null" => $_il1a->not_null); array_push($_iO19,$_ily); } mysql_free_result($_iO18); return $_iO19; } function _iO1a() { $_iO18=mysql_query($this->SelectCommand ,$this->_il16); $_il1b=array(); while ($_iO1b=mysql_fetch_assoc($_iO18)) { array_push($_il1b,$_iO1b); } mysql_free_result($_iO18); return $_il1b; } function getdata($_il1c=0,$_il19=046113177) { $_iO1c="\123ELECT *\040\106ROM (\173\123\145lect\103\157mmand}\051\040AS \137\124MP \173\167\150ere} \173\157\162derb\171\175 \173gr\157\165pby} \173\154imit}"; $_iO17=""; $_il18=$this->Filters; for ($_iO8=0; $_iO8<sizeof($_il18); $_iO8 ++) { $_iO17.="\040and ".$this->getfilterexpression($_il18[$_iO8]); } if ($_iO17 != "") { $_iO17="WHERE ".substr($_iO17,5); } $_il1d=""; $_iO1d=$this->Sorts; for ($_iO8=0; $_iO8<sizeof($_iO1d); $_iO8 ++) { $_il1d.=", ".$_iO1d[$_iO8]->Field."\040".$_iO1d[$_iO8]->Order; } if ($_il1d != "") { $_il1d="O\122DER B\131\040".substr($_il1d,2); } $_il1e=""; $_iO1e=$this->Groups; for ($_iO8=0; $_iO8<sizeof($_iO1e); $_iO8 ++) { $_il1e.=", ".$_iO1e[$_iO8]->Field; } if ($_il1e != "") { $_il1e="\107ROUP BY ".substr($_il1e,2); } $_il1f="LIMIT ".$_il1c." \054\040".$_il19; $_iO1f=_iO0("\173\123electCo\155\155\141nd}",$this->SelectCommand ,$_iO1c); $_iO1f=_iO0("\173where}",$_iO17,$_iO1f); $_iO1f=_iO0("\173orderby}",$_il1d,$_iO1f); $_iO1f=_iO0("\173gro\165\160\142y}",$_il1e,$_iO1f); $_iO1f=_iO0("\173\154\151mit}",$_il1f,$_iO1f); $_iO18=mysql_query($_iO1f,$this->_il16); $_il1b=array(); while ($_iO1b=mysql_fetch_assoc($_iO18)) { foreach ($_iO1b as $_iO11 => &$_ilz) $_ilz=$this->getmappedvalue($_ilz,$_iO11); array_push($_il1b,$_iO1b); } mysql_free_result($_iO18); return $_il1b; } function getaggregates($_il13) { $_iO1c="SE\114\105CT \173t\145\170t} FRO\115\040(\173S\145\154\145ctC\157\155mand\175\051 AS _\124\115\120 \173w\150\145re} \173\157\162derb\171\175\040\173g\162\157\165pby}"; $_il3=""; $_il1g=array(); foreach ($_il13 as $_iO1g) { if (strpos("\055\174min|ma\170\174\146irst|\154\141st|co\165\156t|sum\174\141vg|","\174".strtolower($_iO1g["\101ggrega\164\145"])."\174")>0) { $_il3.=", ".$_iO1g["\101\147gregate"]."(".$_iO1g["\104\141\164aFiel\144"]."\051\040as ".$_iO1g["K\145\171"]; } } if ($_il3 != "") { $_il3=substr($_il3,2); $_iO17=""; $_il18=$this->Filters; for ($_iO8=0; $_iO8<sizeof($_il18); $_iO8 ++) { $_iO17.=" a\156\144 ".$this->getfilterexpression($_il18[$_iO8]); } if ($_iO17 != "") { $_iO17="WHERE\040".substr($_iO17,5); } $_il1d=""; $_iO1d=$this->Sorts; for ($_iO8=0; $_iO8<sizeof($_iO1d); $_iO8 ++) { $_il1d.="\054 ".$_iO1d[$_iO8]->Field." ".$_iO1d[$_iO8]->Order; } if ($_il1d != "") { $_il1d="\117\122DER BY ".substr($_il1d,2); } $_il1e=""; $_iO1e=$this->Groups; for ($_iO8=0; $_iO8<sizeof($_iO1e); $_iO8 ++) { $_il1e.="\054 ".$_iO1e[$_iO8]->Field; } if ($_il1e != "") { $_il1e="\107ROUP \102\131\040".substr($_il1e,2); } $_iO1f=_iO0("\173Selec\164\103\157mman\144\175",$this->SelectCommand ,$_iO1c); $_iO1f=_iO0("\173t\145\170\164}",$_il3,$_iO1f); $_iO1f=_iO0("\173\167\150\145re}",$_iO17,$_iO1f); $_iO1f=_iO0("\173o\162\144\145rby}",$_il1d,$_iO1f); $_iO1f=_iO0("\173\147roupby\175",$_il1e,$_iO1f); $_iO18=mysql_query($_iO1f,$this->_il16); $_il1g=mysql_fetch_assoc($_iO18); foreach ($_il1g as $_iO11 => &$_ilz) $_ilz=$this->getmappedvalue($_ilz,$_iO11); mysql_free_result($_iO18); } return $_il1g; } function insert($_iO13,$_il1h=array(),&$_iO1h=array()) { $_il1i=explode(";",$this->InsertCommand); foreach ($_iO13 as $_iO1i => $_ilz) { $_ilz=$this->getinversemappedvalue($_ilz,$_iO1i); for ($_iO8=0; $_iO8<sizeof($_il1i); $_iO8 ++) { $_il1i[$_iO8]=preg_replace("\057(@".$_iO1i."\051([\134\051\134'\042\135*[\134\163;,]\051\057",preg_quote(addslashes($_ilz))."\044\062",$_il1i[$_iO8]); $_il1i[$_iO8]=preg_replace("\057\050@".$_iO1i."\051\050[\134)\134\047\042]*\044\051\057",preg_quote(addslashes($_ilz))."\044\062",$_il1i[$_iO8]); } } foreach ($_il1i as $_il1j) { $_il1j=trim($_il1j); if (!empty($_il1j)) if (mysql_query($_il1j,$this->_il16) == FALSE) { return FALSE; } } foreach ($_il1h as $_iO1j) { if ( isset ($_iO13[$_iO1j->IdColumn ])) { array_push($_iO1h,$_iO13[$_iO1j->IdColumn ]); } else { array_push($_iO1h,mysql_insert_id($this->_il16)); } } return TRUE; } function update($_iO13) { $_il1k=explode("\073",$this->UpdateCommand); foreach ($_iO13 as $_iO1i => $_ilz) { $_ilz=$this->getinversemappedvalue($_ilz,$_iO1i); for ($_iO8=0; $_iO8<sizeof($_il1k); $_iO8 ++) { $_il1k[$_iO8]=preg_replace("\057\050@".$_iO1i."\051\050[\134)\134\047\042]*[\134\163;,])/",preg_quote(addslashes($_ilz))."\0442",$_il1k[$_iO8]); $_il1k[$_iO8]=preg_replace("/(@".$_iO1i."\051\050[\134)\134\047\042]*\044\051\057",preg_quote(addslashes($_ilz))."\044\062",$_il1k[$_iO8]); } } foreach ($_il1k as $_iO1k) { if (mysql_query($_iO1k,$this->_il16) == FALSE) { return FALSE; } } return TRUE; } function delete($_iO13) { $_il1l=explode(";",$this->DeleteCommand); foreach ($_iO13 as $_iO1i => $_ilz) { $_ilz=$this->getinversemappedvalue($_ilz,$_iO1i); for ($_iO8=0; $_iO8<sizeof($_il1l); $_iO8 ++) { $_il1l[$_iO8]=preg_replace("/(@".$_iO1i.")([\134)\134\047\042]*[\134\163;,])/",preg_quote(addslashes($_ilz))."\0442",$_il1l[$_iO8]); $_il1l[$_iO8]=preg_replace("/(@".$_iO1i.")(\133\134)\134'\042\135\052\044)\057",preg_quote(addslashes($_ilz))."\0442",$_il1l[$_iO8]); } } foreach ($_il1l as $_iO1l) { if (mysql_query($_iO1l,$this->_il16) == FALSE) { return FALSE; } } return TRUE; } function geterror() { return mysql_error($this->_il16); } function setcharset($_iO15) { mysql_set_charset($_iO15,$this->_il16); } } class arraydatasource extends datasource { var $_il1m; function __construct($_iO1m) { $this->_il1m =$_iO1m; } function count() { return sizeof($this->_il1m); } function getfields() { $_iO19=array(); $_il1n=$this->_il1m[0]; foreach ($_il1n as $_iO1n => $_il1o) { $_ily=array("Nam\145" => $_iO1n,"\124\171\160e" => "","\116ot_Nul\154" => FALSE); array_push($_iO19,$_ily); } return $_iO19; } function getdata($_il12=0,$_iO12=046113177) { $_iO1o=array(); if ($_il12>$this->count()) return $_iO1o; if ($_il12+$_iO12>$this->count()) { $_iO12=$this->count()-$_il12; } for ($_iO8=0; $_iO8<$_iO12; $_iO8 ++) { array_push($_iO1o,$this->_il1m[$_il12+$_iO8]); } return $_iO1o; } } interface _il1p { function _iO1p(); function _il1q(); } class _iO1q { var $_il1r; var $_il1m; var $_iO1r=TRUE; var $_il1s=FALSE; function _iO1s($_il1t) { $this->_il1r =$_il1t; $this->_il1s =$_il1t->KeepViewStateInSession; $_iO1t=( isset ($_POST[$this->_il1r->_il1u."_views\164\141\164e"])) ? $_POST[$this->_il1r->_il1u."_viewst\141\164e"]: ""; if ($this->_il1s && $_iO1t == "") { $_iO1t=( isset ($_SESSION[$this->_il1r->_il1u."\137views\164\141\164e"])) ? $_SESSION[$this->_il1r->_il1u."\137\166iewst\141\164\145"]: ""; $this->_il1r->_iO1u->_il1v =TRUE; } if ($_iO1t != "" && $this->_iO1r) { $_iO1t=base64_decode($_iO1t); } $_iO1t=_iO0("\134","",$_iO1t); $this->_il1m =json_decode($_iO1t,TRUE); } function _iO1v() { $_il1w=json_encode($this->_il1m); if ($this->_iO1r) { $_il1w=base64_encode($_il1w); } if ($this->_il1s) { $_SESSION[$this->_il1r->_il1u."\137view\163\164\141te"]=$_il1w; } $_iO1w="\074\151nput id\075\047\173id}\047\040name=\047\173id}' \164\171pe='\150\151dden'\040\166alue='\173\166\141lue}\047\040autoco\155\160lete=\047\157ff' /\076"; $_il1x=_iO0("\173id}",$this->_il1r->_il1u."_\166\151\145wsta\164\145",$_iO1w); $_il1x=_iO0("\173\166\141lue}",$_il1w,$_il1x); return $_il1x; } } class _iO1x { var $_il1y; var $_iO1y; function __construct() { $this->_il1y =array("Inser\164" => "Add\040\116\145w Re\143\157\162d","Delete" => "\104\145lete","\103onfir\155" => "\103\157\156firm","\105\144it" => "\105\144\151t","\103ancel" => "\103\141ncel","\122efres\150" => "\122efr\145sh","\104one" => "\104\157ne","Loading" => "L\157\141\144ing...","G\157" => "Go","\116\145xt" => "\116\145xt","Prev" => "\120\162ev","\114\141\163t" => "\114\141\163t","\106\151rst" => "Fir\163\164","\116o_Filt\145\162" => "[No F\151\154\164er]","Equ\141\154" => "\105\161\165al","\116\157t_Equal" => "\116ot Equ\141\154","\107\162\145ater_\124\150\141n" => "\107\162\145ater T\150\141\156","\114\145\163s_Than" => "\114\145ss Than","Greate\162\137\124han_O\162\137\105qual" => "\107reater \124\150\141n Or\040\105qual","Les\163\137Than_\117\162_Eq\165\141l" => "Le\163\163\040Than\040\117r Equa\154","\103ontain" => "Conta\151\156","N\157\164\137Contai\156" => "Not Cont\141\151\156","\123tart_Wit\150" => "\123\164art Wi\164\150","\105nd_Wit\150" => "\105\156d With"); $this->_iO1y =array("\104\145leteConf\151\162\155" => "\101\162e you \163\165\162e to \144\145lete \164\150\151s r\157\167?","PageInf\157\124\145mplat\145" => "Pag\145\040<strong>\173\120\141geIn\144\145x}</st\162\157ng> i\156\040<str\157\156g>\173T\157\164\141lPag\145\163\175</st\162\157ng>, i\164\145ms <st\162\157\156g>\173\106\151rstIn\144\145\170InPa\147\145\175</st\162\157\156g> t\157\040<stro\156\147\076\173\114\141stInd\145\170InPage\175\074/stro\156\147> of <\163\164rong>\173\124\157tal\122\157\167s}</\163\164rong>.","Ma\156\165\141lPager\124\145\155plat\145" => "\103\150\141nge pa\147\145\072 \173\124\145xtBox}\040\050of \173\124\157tal\120\141\147e} p\141\147\145s) \173\107\157PageB\165\164ton}","Page\123\151\172eText" => "P\141\147\145 Size:","P\141\147\145Overl\141\160\124ext" => "\120age O\166\145\162lap:","NextPage\124\157\157lTip" => "\116\145xt Page","\120\162\145vPage\124\157\157lTip" => "\120reviou\163\040\120age","Firs\164\120\141geToo\154\124\151p" => "\106irst P\141\147\145","LastPa\147\145\124oolTi\160" => "\114ast Pag\145","Sort\110\145\141derTo\157\154\124ip" => "Click h\145\162\145 to s\157\162\164","So\162\164\101scToo\154\124\151p" => "Sort \101\163\143","S\157\162\164DescTo\157\154\124ip" => "S\157\162\164 Desc","So\162\164\116oneToo\154\124\151p" => "No so\162\164","Order" => "Order","\111\156ser\164\106orm\137\103on\146\151rm\102\165tt\157\156T\157\157l\124\151p" => "\103\157nfir\155\040In\163\145rt","I\156\163ertFo\162\155\137Can\143\145lButt\157\156ToolT\151\160" => "\103\141\156cel \111\156\163ert","EditFor\155\137\103onfir\155\102\165tton\124\157\157lTip" => "\103\157\156firm C\150\141\156ges","EditForm\137\103\141ncelB\165\164\164onTo\157\154\124ip" => "\103ancel\040\103\150anges","\122equiredF\151\145\154dVali\144\141\164or_E\162\162orMess\141\147e" => "\106ield is\040\162\145quire\144\041","Re\147\165\154arExp\162\145\163sion\126\141\154idat\157\162_Erro\162\115essa\147\145" => "\116ot vali\144\041","\122\141ngeValid\141\164\157r_Er\162\157\162Mess\141\147e" => "\126\141lue mus\164\040be in \162\141\156ge [\173\115\151nVa\154\165e},\173\115\141xValu\145\175\135","\107\162oupPane\154\107\165ideT\145\170\164" => "Dr\141\147\040a col\165\155\156 hea\144\145\162 and\040\144rop \151\164 here\040\164o gro\165\160\040by t\150\141\164 col\165\155n","\107roupIte\155\124\157olTi\160" => "Drag out\040\157\146 the \142\141\162 to \165\156\147roup","Virt\165\141\154Scroll\151\156\147Page\124\157\157lTip" => "\120age \173\160\141\147e_ind\145\170\175"); } function load($_il1z) { $_iO1z=new domdocument(); $_iO1z->load($_il1z); $_il20=$_iO1z->getelementsbytagname("comman\144\163"); if ($_il20->length >0) { foreach ($_il20->item(0)->attributes as $_iO20) { $this->_il1y[$_iO20->name ]=$_iO20->value; } } $_il20=$_iO1z->getelementsbytagname("messag\145\163"); if ($_il20->length >0) { foreach ($_il20->item(0)->attributes as $_iO20) { $this->_iO1y[$_iO20->name ]=$_iO20->value; } } } } class _il21 { var $_il1u; var $_il1r; var $_il1y; function __construct($_il1t) { $this->_il1u =$_il1t->_il1u."\137\143md"; $this->_iO21(); } function _iO21() { if ( isset ($_POST[$this->_il1u ])) { $_iO1t=$_POST[$this->_il1u ]; $_iO1t=base64_decode($_iO1t); $_iO1t=_iO0("\134","",$_iO1t); $this->_il1y =json_decode($_iO1t,TRUE); } } function _iO1v() { $_il22="<inp\165\164\040id\075\047\173id\175\047 name=\047\173id}' \164\171pe=\047\150idden\047\040value\075\047' />"; $_iO22=_iO0("\173id}",$this->_il1u ,$_il22); return $_iO22; } } class gridrow implements _il1p { var $_il1u; var $_il23; var $_iO23; var $_il24=array(); var $_iO24; var $DataItem; var $Selected=FALSE; var $Expand=FALSE; var $EditMode=FALSE; var $TableView; var $CssClass=""; var $_il25=FALSE; function _iO1s($_iO25) { $this->_iO23 =$_iO25; $this->TableView =$_iO25; $this->_il23 =$_iO25->_il23; } function getuniqueid() { return $this->_il1u; } function _iO1p() { if ( isset ($this->_il23->_il1m[$this->_il1u ])) { $_il26=$this->_il23->_il1m[$this->_il1u ]; $this->Selected =$_il26["Select\145\144"]; $this->Expand =$_il26["\105xpand"]; $this->EditMode =$_il26["E\144\151\164Mode"]; $_iO26=$_il26["\104ataIte\155"]; $this->DataItem =array(); foreach ($_iO26 as $_il27 => $_iO27) { $this->DataItem[$_il27]=_ill($_iO27); } } } function _il1q() { $_iO26=array(); foreach ($this->DataItem as $_il27 => $_iO27) { $_iO26[$_il27]=_ilk($_iO27); } $this->_il23->_il1m[$this->_il1u ]=array("Selec\164\145\144" => $this->Selected ,"Expand" => $this->Expand ,"Data\111\164\145m" => $_iO26,"\105\144itMode" => $this->EditMode); foreach ($this->_il24 as $_il28) { $_il28->_il1q(); } } function _iO28($_iO25) { $_iO25->_il1u =$this->_il1u."_d\164".sizeof($this->_il24); array_push($this->_il24 ,$_iO25); } function getinstancedetailtables() { return $this->_il24; } function gettableview() { return $this->_iO23; } function _il29() { $this->_iO1p(); if ($this->EditMode) { $this->_iO24 =$this->_iO23->EditSettings->_iO29(); $this->_iO24->_iO1s($this->_iO23); $this->_iO24->_il2a =$this; } if ($this->Expand) { foreach ($this->_iO23->_iO2a as $_il28) { $_il2b=$_il28->_iO29(); $this->_iO28($_il2b); $_il2b->_iO1s($this->_iO23->_il1r ,$this); $_il2b->_il29(); } } } function _iO2b($_iO22) { if ( isset ($_iO22->_il1y[$this->_il1u ])) { $_il2c=$_iO22->_il1y[$this->_il1u ]; switch ($_il2c["\103\157mmand"]) { case "\123elect": $this->Selected =TRUE; break; case "Uns\145\154\145ct": $this->Selected =FALSE; break; case "Exp\141\156\144": if ($this->_iO23->_il1r->EventHandler->onbeforedetailtablesexpand($this,array()) == TRUE) { $this->Expand =TRUE; $this->_iO23->_il1r->EventHandler->ondetailtablesexpand($this,array()); } break; case "Colla\160\163\145": if ($this->_iO23->_il1r->EventHandler->onbeforedetailtablescollapse($this,array()) == TRUE) { $this->Expand =FALSE; $this->_il24 =array(); $this->_iO23->_il1r->EventHandler->ondetailtablescollapse($this,array()); } break; case "\123tartEdit": if ($this->_iO23->AllowEditing) { if ($this->_iO23->_il1r->EventHandler->onbeforerowstartedit($this,array()) == TRUE) { $this->EditMode =TRUE; $this->_iO24 =$this->_iO23->EditSettings->_iO29(); $this->_iO24->_iO2c ="S\164\141\162tEdi\164"; $this->_iO24->_iO1s($this->_iO23); $this->_iO24->_il2a =$this; $this->_iO23->_il1r->EventHandler->onrowstartedit($this,array()); } } break; case "\103onfirmE\144\151\164": if ($this->EditMode) { $this->_iO24->_iO2c ="\103\157nfirmEd\151\164"; $this->_iO24->_il2d(); } break; case "\103\141ncelEd\151\164": if ($this->_iO23->_il1r->EventHandler->onbeforerowcanceledit($this,array()) == TRUE) { $this->EditMode =FALSE; $this->_iO23->_il1r->EventHandler->onrowcanceledit($this,array()); } break; case "Delete": if ($this->_iO23->AllowDeleting) { if ($this->_iO23->_il1r->EventHandler->onbeforerowdelete($this,array()) == TRUE) { $_iO22->_il1y[$this->_il1u ]["Com\155\141\156d"]="\116\157More"; $_iO2d=$this->_iO23->DataSource->delete($this->DataItem); $this->_iO23->_il1v =TRUE; $_il2e=$this->_iO23->DataSource->geterror(); if ($_il2e != "") $this->_iO23->_il1r->EventHandler->ondatasourceerror($this,array("\105rror" => $_il2e)); $this->_iO23->_il1r->EventHandler->onrowdelete($this,array("\123uccessf\165\154" => $_iO2d,"Error" => $_il2e)); } } break; } } $this->_iO23->_il1r->EventHandler->onrowprerender($this,array()); if ($this->Expand && sizeof($this->_il24) == 0) { foreach ($this->_iO23->_iO2a as $_il28) { $_il2b=$_il28->_iO29(); $this->_iO28($_il2b); $_il2b->_iO1s($this->_iO23->_il1r ,$this); } } foreach ($this->_il24 as $_il28) { $_il28->_iO2b($_iO22); } } function _iO1v() { $_iO2e="<\164\162 id='\173\162\157wid}'\040\143lass\075\047kgrRo\167\040\173a\154\164} \173\163\145lected\175\040\173css\143\154\141ss}'\076\173tds}<\057\164r>"; $_il2f="<\164\162\076<td \143\154\141ss=\047\153grCell\040\173alt}'\076\046#16\060\073</td>\074\164d cols\160\141\156='\173\143\157lspan\175\047 clas\163\075'kgrDe\164\141ilTabl\145\163Panel'\076\173table\163\175\074/td>\074\057tr>"; $_iO2f="<div cl\141\163\163='kg\162\104\145sc'\076\173\164ext\175\074/div>"; $_il2g=""; if ($this->EditMode) { $_il2g=$this->_iO24->_iO1v(); } else { $_iO2g=""; for ($_iO8=0; $_iO8<sizeof($this->_iO23->_il2h); $_iO8 ++) { $_iO2h=$this->_iO23->_il2h[$_iO8]; $_il2i=$_iO2h->_iO1v($this); $_iO2g.=$_il2i; } $_il2g=_iO0("\173t\144\163\175",$_iO2g,$_iO2e); } $_il2g=_iO0("\173rowid}",$this->_il1u ,$_il2g); $_il2g=_iO0("\173\163elect\145\144\175",$this->Selected ? "\153grRowSe\154\145\143ted": "",$_il2g); $_il2g=_iO0("\173alt\175",$this->_il25 ? "\153\147rAltRo\167": "",$_il2g); $_il2g=_iO0("\173\143ssclass}",$this->CssClass ,$_il2g); if (sizeof($this->_il24)>0) { $_iO2i=""; foreach ($this->_il24 as $_il28) { $_il2j=""; if ($_il28->_iO2j !== NULL) { $_il2j=_iO0("\173text\175",$_il28->_iO2j ,$_iO2f); foreach ($this->DataItem as $_iO1n => $_il1o) { $_il2j=_iO0("\173".$_iO1n."\175",$_il1o,$_il2j); } } $_il2k=$_il2j.$_il28->_iO1v(); $_iO2i.=$_il2k; } $_iO2k=_iO0("\173colspan\175",sizeof($this->_iO23->_il2h)-1,$_il2f); $_iO2k=_iO0("\173\141lt}",$this->_il25 ? "kgrAl\164\122\157w": "",$_iO2k); $_iO2k=_iO0("\173\164\141bles}",$_iO2i,$_iO2k); $_il2g.=$_iO2k; } return $_il2g; } } class _il2l { var $Wrap; var $Align; var $Valign; function _iO1s($_iO2h) { if ($this->Wrap === NULL) $this->Wrap =$_iO2h->Wrap; if ($this->Align === NULL) $this->Align =$_iO2h->Align; if ($this->Valign === NULL) $this->Valign =$_iO2h->Valign; } function _iO2l() { return "\167hite\055\163pace:".(($this->Wrap) ? "\156\157\162mal": "now\162\141\160")."\073"; } function _il2m() { return ($this->Align) ? "text-\141\154\151gn:".$this->Align.";": ""; } function _iO2m() { return ($this->Valign) ? "val\151\147\156='".$this->Valign."' ": ""; } } class gridvalidator { var $ErrorMessage; function validate($_ilz,$_iO26=NULL,$_iO1b=NULL,$_iO2h=NULL) { return TRUE; } } class requiredfieldvalidator extends gridvalidator { function validate($_ilz,$_iO26=NULL,$_iO1b=NULL,$_iO2h=NULL) { if ($_ilz === NULL || $_ilz == "") { if ($this->ErrorMessage === NULL) $this->ErrorMessage =$_iO2h->_iO23->_il1r->Localization->_iO1y["\122\145quired\106\151\145ldVal\151\144ator_\105\162\162orMe\163\163age"]; return FALSE; } return TRUE; } } class regularexpressionvalidator extends gridvalidator { var $ValidationExpression=""; function validate($_ilz,$_iO26=NULL,$_iO1b=NULL,$_iO2h=NULL) { if (!preg_match($this->ValidationExpression ,$_ilz)) { if ($this->ErrorMessage === NULL) $this->ErrorMessage =$_iO2h->_iO23->_il1r->Localization->_iO1y["\122egula\162\105\170press\151\157nValid\141\164or_Er\162\157\162Mes\163\141ge"]; return FALSE; } return TRUE; } } class rangevalidator extends gridvalidator { var $MinValue; var $MaxValue; function __construct($_il2n=NULL,$_iO2n=NULL) { if ($_il2n !== NULL) $this->MinValue =$_il2n; if ($_iO2n !== NULL) $this->MaxValue =$_iO2n; } function validate($_ilz,$_iO26=NULL,$_iO1b=NULL,$_iO2h=NULL) { if ($_ilz>$this->MaxValue || $_ilz<$this->MinValue) { if ($this->ErrorMessage === NULL) $this->ErrorMessage =$_iO2h->_iO23->_il1r->Localization->_iO1y["\122\141\156geVal\151\144\141tor\137\105\162rorM\145\163\163age"]; $this->ErrorMessage =_iO0("\173\115inValue\175",$this->MinValue ,$this->ErrorMessage); $this->ErrorMessage =_iO0("\173MaxV\141\154\165e}",$this->MaxValue ,$this->ErrorMessage); return FALSE; } return TRUE; } } class customvalidator extends gridvalidator { var $ValidateFunction; function validate($_ilz,$_iO26=NULL,$_iO1b=NULL,$_iO2h=NULL) { $_il2o=$this->ValidateFunction; if ($_il2o !== NULL) { $_iO2o=$_il2o($_ilz); if ($_iO2o !== NULL) { $this->ErrorMessage =$_iO2o; return FALSE; } } return TRUE; } } class gridcolumn implements _il1p { var $_il1u; var $_il23; var $_iO23; var $_il2p; var $ReadOnly=FALSE; var $TableView; var $AllowSorting; var $AllowResizing; var $AllowFiltering; var $AllowGrouping; var $AllowExporting=TRUE; var $Width; var $Visible=TRUE; var $Filter; var $FilterOptions; var $HeaderText; var $FooterText; var $DataField; var $DataFieldPrefix; var $Sort=0; var $_iOx=0; var $Group=FALSE; var $GroupIndex=0; var $GroupSettings; var $HeaderStyle; var $ItemStyle; var $FooterStyle; var $Wrap; var $Align; var $Valign; var $CssClass=""; var $DefaultValue=NULL; var $NullDisplayText; var $Aggregate; var $_iO2p; function __construct() { $this->HeaderStyle =new _il2l(); $this->FooterStyle =new _il2l(); $this->ItemStyle =new _il2l(); $this->_il2p =array(); $this->GroupSettings =new _il2q(); } function getuniqueid() { return $this->_il1u; } function _iO1s($_iO25) { $this->_iO23 =$_iO25; $this->TableView =$_iO25; $this->_il23 =$_iO25->_il23; if ($this->AllowSorting === NULL) $this->AllowSorting =$this->_iO23->AllowSorting; if ($this->AllowResizing === NULL) $this->AllowResizing =$this->_iO23->AllowResizing; if ($this->AllowFiltering === NULL) $this->AllowFiltering =$this->_iO23->AllowFiltering; if ($this->AllowGrouping === NULL) $this->AllowGrouping =$this->_iO23->AllowGrouping; if ($this->Width === NULL) $this->Width =$this->_iO23->ColumnWidth; if ($this->Wrap === NULL) $this->Wrap =$this->_iO23->ColumnWrap; if ($this->Align === NULL) $this->Align =$this->_iO23->ColumnAlign; if ($this->Valign === NULL) $this->Valign =$this->_iO23->_iO2q; if ($this->FilterOptions === NULL) $this->FilterOptions =$this->_iO23->FilterOptions; $this->HeaderStyle->_iO1s($this); $this->FooterStyle->_iO1s($this); $this->ItemStyle->_iO1s($this); if ($this->Filter === NULL) { $this->Filter =array("\126alu\145" => "","Exp" => "\116o_Filt\145\162"); } $this->GroupSettings->_il2r =$this; } function addvalidator($_iO2r) { array_push($this->_il2p ,$_iO2r); } function _iO1p() { if ( isset ($this->_il23->_il1m[$this->_il1u ])) { $_il26=$this->_il23->_il1m[$this->_il1u ]; $this->Sort =$_il26["S\157\162\164"]; $this->_iOx =$_il26["SortOrde\162"]; $this->Group =$_il26["Gr\157\165\160"]; $this->Width =$_il26["\127idth"]; $this->Visible =$_il26["Visib\154\145"]; $this->_iO2p =_ill($_il26["\101ggRes"]); $_iO14=$_il26["Filt\145\162"]; $_iO14["\126\141lue"]=_ill($_iO14["Value"]); $this->Filter =$_iO14; } } function _il1q() { $_iO14=$this->Filter; $_iO14["Va\154\165\145"]=_ilk($_iO14["\126\141lue"]); $this->_il23->_il1m[$this->_il1u ]=array("\116\141me" => $this->DataField ,"\123\157\162t" => $this->Sort ,"So\162\164\117rder" => $this->_iOx ,"G\162\157\165p" => $this->Group ,"Visib\154\145" => $this->Visible ,"\106ilter" => $_iO14,"Width" => $this->Width ,"\101ggRes" => _ilk($this->_iO2p)); } function _iO2b($_iO22) { $_il2s=$this->_iO23; $_il1t=$_il2s->_il1r; $_iO2s=$_il1t->EventHandler; if ( isset ($_iO22->_il1y[$this->_il1u ])) { $_il2c=$_iO22->_il1y[$this->_il1u ]; switch ($_il2c["\103\157\155mand"]) { case "\123\157rt": if ($_iO2s->onbeforecolumnsort($this,array("NewSort" => $_il2c["\101rgs"]["\123ort"])) == TRUE) { if ($_il2s->SingleColumnSorting) { foreach ($_il2s->_il2h as $_iO2h) { $_iO2h->Sort =0; } $_il2s->DataSource->Sorts =array(); } $this->Sort =$_il2c["\101rgs"]["Sort"]; $this->_iOx =$_il2c["Args"]["SortOrde\162"]; $_il2s->_il1v =TRUE; $_iO2s->oncolumnsort($this,array()); } break; case "Filte\162": if ($_iO2s->onbeforecolumnfilter($this,array("Filter\126\141\154ue" => $_il2c["Arg\163"]["\106ilter"]["\126\141\154ue"],"Filter\105\170p" => $_il2c["Args"]["\106\151lter"]["\105\170\160"])) == TRUE) { $this->Filter["Ex\160"]=$_il2c["\101\162gs"]["Fi\154\164\145r"]["Exp"]; if ($_il2c["\101\162gs"]["Post"]) { $this->Filter["\126alue"]=$this->getfiltervalue(); } else { $this->Filter["Value"]=_ill($_il2c["Args"]["Filt\145\162"]["Value"]); } $_il2s->_il1v =TRUE; $_iO2s->oncolumnfilter($this,array()); } break; case "G\162\157\165p": if ($this->Group == FALSE) { $_il2t=$_il2c["Ar\147\163"]["P\157\163\151tion"]; if ($_iO2s->onbeforecolumngroup($this,array("Positio\156" => $_il2t)) == TRUE && $_iO2s->onbeforeaddgroup($_il2s,array("Pos\151\164\151on" => $_il2t)) == TRUE) { $_iO2t=$this->GroupSettings; $_iO2t->_iO1s($_il2s); if ($_il2t === NULL || ($_il2t>=sizeof($this->TableView->_il2u))) { array_push($_il2s->_il2u ,$_iO2t); } else { $_iO2u=array(); for ($_iO8=0; $_iO8<sizeof($_il2s->_il2u); $_iO8 ++) { if ($_il2t == $_iO8) { array_push($_iO2u,$_iO2t); } array_push($_iO2u,$_il2s->_il2u[$_iO8]); } $_il2s->_il2u =$_iO2u; } for ($_iO8=0; $_iO8<sizeof($_il2s->_il2u); $_iO8 ++) { $_il2s->_il2u[$_iO8]->_il1u =$_il2s->_il1u."_g\155".$_iO8; } $this->Group =TRUE; $_iO2s->oncolumngroup($this,array("Po\163\151tion" => $_il2t)); $_iO2s->onaddgroup($_il2s,array("\120\157sitio\156" => $_il2t)); $_il2s->_il1v =TRUE; } } break; case "UnGroup": if ($_iO2s->onbeforecolumnremovegroup($this,array()) == TRUE && $_iO2s->onbeforeremovegroup($_il2s,array("\107\162oupFie\154\144" => $this->DataField)) == TRUE) { $_iO2u=array(); for ($_iO8=0; $_iO8<sizeof($_il2s->_il2u); $_iO8 ++) { if ($_il2s->_il2u[$_iO8]->GroupField != $this->DataField) { array_push($_iO2u,$_il2s->_il2u[$_iO8]); } } $_il2s->_il2u =$_iO2u; for ($_iO8=0; $_iO8<sizeof($_il2s->_il2u); $_iO8 ++) { $_il2s->_il2u[$_iO8]->_il1u =$_il2s->_il1u."_gm".$_iO8; } $this->Group =FALSE; $_iO2s->oncolumnremovegroup($this,array()); $_iO2s->onremovegroup($_il2s,array("\107roupFie\154\144" => $this->DataField)); $_il2s->_il1v =TRUE; } break; } } if ($_il2s->_il2v <$this->_iOx) $_il2s->_il2v =$this->_iOx; if ($_il2s->_iO2v >$this->_iOx) $_il2s->_iO2v =$this->_iOx; if ($this->Sort != 0) { $_il2s->DataSource->addsort(new datasourcesort($this->DataFieldPrefix.$this->DataField ,($this->Sort <0) ? "DESC": "\101SC",$this->_iOx)); } if ($this->Filter["Exp"] != "\116o_Filter") { $_il2s->DataSource->addfilter(new datasourcefilter($this->DataFieldPrefix.$this->DataField ,$this->Filter["\105\170p"],$this->Filter["V\141\154\165e"])); } } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridcolumn(); } $_il2w->ReadOnly =$this->ReadOnly; $_il2w->HeaderText =$this->HeaderText; $_il2w->FooterText =$this->FooterText; $_il2w->DataField =$this->DataField; $_il2w->DataFieldPrefix =$this->DataFieldPrefix; $_il2w->AllowSorting =$this->AllowSorting; $_il2w->AllowResizing =$this->AllowResizing; $_il2w->AllowFiltering =$this->AllowFiltering; $_il2w->AllowGrouping =$this->AllowGrouping; $_il2w->AllowExporting =$this->AllowExporting; $_il2w->Width =$this->Width; $_il2w->Visible =$this->Visible; $_il2w->Sort =$this->Sort; $_il2w->Filter =$this->Filter; $_il2w->FilterOptions =$this->FilterOptions; $_il2w->Wrap =$this->Wrap; $_il2w->Align =$this->Align; $_il2w->Valign =$this->Valign; $_il2w->HeaderStyle =$this->HeaderStyle; $_il2w->FooterStyle =$this->FooterStyle; $_il2w->ItemStyle =$this->ItemStyle; $_il2w->CssClass =$this->CssClass; $_il2w->_il2p =$this->_il2p; $_il2w->Aggregate =$this->Aggregate; $_il2w->DefaultValue =$this->DefaultValue; $_il2w->NullDisplayText =$this->NullDisplayText; $_il2w->Group =$this->Group; $_il2w->GroupIndex =$this->GroupIndex; $_il2w->GroupSettings =$this->GroupSettings->_iO29(); return $_il2w; } function inlineeditrender($_iO1b) { return $this->render($_iO1b); } function formeditrender($_iO1b) { return $this->inlineeditrender($_iO1b); } function format($_ilz) { return mb_check_encoding($_ilz,'UTF-8') ? $_ilz: utf8_encode($_ilz); } function render($_iO1b) { return $this->format($_iO1b->DataItem[$this->DataField ]); } function renderexport($_iO1b) { return $this->render($_iO1b); } function _iO1v($_iO1b) { $_iO2w="<td i\144\075'\173id\175\047 clas\163\075'kgrCe\154\154 \173so\162\164ed} \173\166isibl\145\175\040\173cs\163\143lass} \173\143sscla\163\163\145s}' \173\166\141lign\175\076<div c\154\141ss='kg\162\111\156' st\171\154\145='\173\167\162ap}\173\141\154\151gn}\047\076\173ce\154\154}</div\076\074/td>"; $_il2i=_iO0("\173\151\144}",$_iO1b->_il1u."\137".$this->_il1u ,$_iO2w); $_il2x=strtolower($_SERVER["\110TTP_USE\122\137\101GENT"]); $_iO2x=(strpos($_il2x,"\155\163\151e 6") !== FALSE) && (strpos($_il2x,"msie 7") === FALSE) && (strpos($_il2x,"\155sie 8") === FALSE) && (strpos($_il2x,"opera") === FALSE); $_il2y=(strpos($_il2x,"msie 7") !== FALSE) && (strpos($_il2x,"\157\160\145ra") === FALSE); $_il2i=_iO0("\173visible\175",($this->Visible || $_iO2x || $_il2y) ? "": "k\147\162\110idden",$_il2i); $_il2i=_iO0("\173\167\162\141p}",$this->ItemStyle->_iO2l(),$_il2i); $_il2i=_iO0("\173\141lign}",$this->ItemStyle->_il2m(),$_il2i); $_il2i=_iO0("\173\166\141lign}",$this->ItemStyle->_iO2m(),$_il2i); $_il2i=_iO0("\173\163orted}",($this->Sort != 0) ? "\153\147\162Sorte\144": "",$_il2i); $_il2i=_iO0("\173\143ssclass}",$this->CssClass ,$_il2i); $_iO2y=$this->_iO23->CssClasses; $_il2i=_iO0("\173cssclas\163\145\163}",isset ($_iO2y['cell']) ? $_iO2y['cell']: '',$_il2i); if ($this->DataField !== NULL && $this->NullDisplayText !== NULL) { $_il2i=_iO0("\173cell}",($_iO1b->DataItem[$this->DataField ] === NULL) ? $this->NullDisplayText : $this->render($_iO1b),$_il2i); } else { $_il2i=_iO0("\173ce\154\154\175",$this->render($_iO1b),$_il2i); } return $_il2i; } function _il2z($_iO1b) { $_iO2w="<t\144\040id='\173\151\144\175' c\154\141ss='kg\162\103ell \173\166isibl\145\175 \173cs\163\143\154asse\163\175\047 \173\166\141lign}\076\074div c\154\141\163s='k\147\162\111n' s\164\171le='\173\167\162ap}\173\141\154\151gn}'\040\076\173cel\154\175</div>\074\057td>"; $_il2i=_iO0("\173id}",$_iO1b->_il1u."_".$this->_il1u ,$_iO2w); $_il2i=_iO0("\173\143\145ll}",$this->inlineeditrender($_iO1b),$_il2i); $_il2x=strtolower($_SERVER["HTTP_USE\122\137\101GENT"]); $_iO2x=(strpos($_il2x,"m\163\151\145 6") !== FALSE) && (strpos($_il2x,"m\163\151\145 7") === FALSE) && (strpos($_il2x,"m\163\151e 8") === FALSE) && (strpos($_il2x,"\157\160era") === FALSE); $_il2y=(strpos($_il2x,"\155sie 7") !== FALSE) && (strpos($_il2x,"\157\160\145ra") === FALSE); $_il2i=_iO0("\173visib\154\145\175",($this->Visible || $_iO2x || $_il2y) ? "": "\153\147rHidden",$_il2i); $_il2i=_iO0("\173\167\162\141p}",$this->ItemStyle->_iO2l(),$_il2i); $_il2i=_iO0("\173\141\154ign}",$this->ItemStyle->_il2m(),$_il2i); $_il2i=_iO0("\173\166align}",$this->ItemStyle->_iO2m(),$_il2i); $_iO2y=$this->_iO23->CssClasses; $_il2i=_iO0("\173csscl\141\163ses}",isset ($_iO2y['cell']) ? $_iO2y['cell']: '',$_il2i); return $_il2i; } function _iO2z($_iO1b) { $_iO2e="\074tr st\171\154\145='whi\164\145-space\072\156owrap\047\076<td\040\166alig\156\075'top' \163\164\171le='\167\151\144th:2\160\170;'><l\141\142\145l c\154\141ss=\047\153grCa\160\164ion\047\040fo\162\075'\173\151\144}'>\173\164ext}:\074\057label>\074\057td><\164\144 vali\147\156\075'to\160\047><div\040\143\154ass\075\047kgrIn\160\165\164'>\173\151\156put}<\057\144iv></\164\144\076</t\162\076"; $_il2g=_iO0("\173te\170\164\175",$this->HeaderText ,$_iO2e); $_il2g=_iO0("\173\151d}",$_iO1b->_il1u."_".$this->_il1u."_inp\165\164",$_il2g); $_il2g=_iO0("\173\151\156pu\164\175",$this->formeditrender($_iO1b),$_il2g); return $_il2g; } function geteditvalue($_iO1b) { $_ilz=$_POST[$_iO1b->_il1u."\137".$this->_il1u."_\151\156\160ut"]; if ($this->_iO23->_il1r->AjaxEnabled === TRUE) { $_ilz=iconv("\125TF-8",$this->_iO23->_il1r->CharSet ,$_ilz); } return $_ilz; } function _il30() { $_iO30="<co\154\040id='\173i\144\175' name\075\047\173id\175\047 styl\145\075'\173w\151\144th}' \143\154\141ss='\173\162\145sizab\154\145} \173v\151\163ible} \173\147roupab\154\145\175'/>"; $_iO2h=_iO0("\173\151d}",$this->_il1u ,$_iO30); $_iO2h=_iO0("\173\162esizabl\145\175",($this->AllowResizing) ? "kgrResiz\141\142\154e": "",$_iO2h); $_iO2h=_iO0("\173\147\162oupable\175",($this->AllowGrouping) ? "kgrGro\165\160\141ble": "",$_iO2h); $_iO2h=_iO0("\173width\175",($this->Width != NULL) ? "\167idth:".$this->Width.";": "",$_iO2h); $_iO2h=_iO0("\173visible\175",($this->Visible) ? "": "\153grHid\144\145\156",$_iO2h); return $_iO2h; } function renderheader() { $_il2s=$this->_iO23; $_il31=$_il2s->_il1r->Localization->_iO1y; $_iO31="\074th id='\173\151\144}' cl\141\163s='kgr\110\145ader \173\166isib\154\145} \173s\157\162ted} \173\143\163sclas\163\145s}' \173\166\141lign\175\076\074div\040\143lass='\153\147rIn' s\164\171le='\173\167\162ap}\173\141\154\151gn}\047\076\173tex\164\175\046#1\066\060;\173si\147\156}</di\166\076</th>"; $_il32="\074\141 href='\152\141\166ascr\151\160t:void\040\060\047 cl\141\163\163\075'\153\147rSo\162tHe\141der\124\145xt\047\040on\143\154ick\075\047gri\144\137sort(\042\173id}\042\054\173sort}, \173\163\157rtOr\144\145\162})' \164\151\164le=\047\173\164itle\175\047>\173t\145\170t}</a\076"; $_iO32="<\151\156\160ut ty\160\145='butt\157\156' clas\163\075'node\143\157r k\147\162Sort\173\144\151r}' o\156\143\154ick=\047\147rid_s\157\162\164(\042\173\151\144}\042\054\173sort}\054\040\173sor\164\117\162der}\051\047 titl\145\075'\173ti\164\154\145}' /\076"; $_il33=_iO0("\173\151\144}",$this->_il1u."_hd",$_iO31); if ($this->AllowSorting) { $_il14=0; $_il10=$_il2s->_il2v +1; $_iO33="\116one"; switch ($this->Sort) { case 0: $_il14=1; $_iO33="None"; break; case 1: $_il14=-1; $_iO33="Asc"; break; case -1: $_il14=0; $_iO33="D\145\163\143"; break; } $_il34=_iO0("\173id}",$this->_il1u ,$_il32); $_il34=_iO0("\173\163ort}",$_il14,$_il34); $_il34=_iO0("\173sor\164\117\162der}",$_il10,$_il34); $_il34=_iO0("\173\164ext}",$this->HeaderText ,$_il34); $_il34=_iO0("\173tit\154\145\175",$_il31["SortHea\144\145\162ToolT\151\160"],$_il34); $_iO34=_iO0("\173\151\144}",$this->_il1u ,$_iO32); $_iO34=_iO0("\173sort}",$_il14,$_iO34); $_iO34=_iO0("\173\163or\164\117rder}",$_il10,$_iO34); $_iO34=_iO0("\173\144\151r}",$_iO33,$_iO34); $_iO34=_iO0("\173\164\151tle}",$_il31["Sort".$_iO33."\124\157olTip"].($this->Sort !== 0 ? ' '.$_il31["Ord\145\162"].' '.$this->_iOx : ''),$_iO34); $_il33=_iO0("\173text\175",$_il34,$_il33); $_il33=_iO0("\173\163ign}",$_iO34,$_il33); } else { $_il33=_iO0("\173tex\164\175",$this->HeaderText ,$_il33); $_il33=_iO0("\173sign}","",$_il33); } $_il2x=strtolower($_SERVER["HTTP_US\105\122\137AGEN\124"]); $_iO2x=(strpos($_il2x,"\155\163ie 6") !== FALSE) && (strpos($_il2x,"m\163\151\145 7") === FALSE) && (strpos($_il2x,"\155\163ie 8") === FALSE) && (strpos($_il2x,"\157pera") === FALSE); $_il2y=(strpos($_il2x,"\155\163ie 7") !== FALSE) && (strpos($_il2x,"\157pera") === FALSE); $_il33=_iO0("\173\166\151\163ible}",($this->Visible || $_iO2x || $_il2y) ? "": "\153grHidde\156",$_il33); $_il33=_iO0("\173\163\157\162ted}",($this->Sort != 0) ? "kgrS\157\162\164ed": "",$_il33); $_il33=_iO0("\173wra\160\175",$this->HeaderStyle->_iO2l(),$_il33); $_il33=_iO0("\173\141lign}",$this->HeaderStyle->_il2m(),$_il33); $_il33=_iO0("\173\166\141\154ign}",$this->HeaderStyle->_iO2m(),$_il33); $_iO2y=$this->_iO23->CssClasses; $_il33=_iO0("\173\143ssclas\163\145\163}",isset ($_iO2y['header']) ? $_iO2y['header']: '',$_il33); return $_il33; } function renderfooter() { $_il35="<td id\075\047\173id}\047\040clas\163\075'kgrFo\157\164er \173\166\151sibl\145\175' \173v\141\154\151gn}>\074\144iv cla\163\163='kgr\111\156\047 sty\154\145='\173w\162\141\160}\173a\154\151gn}'><\163\160\141n cl\141\163s='kgr\106\157oterTe\170\164'>\173t\145\170t}&#1\066\060;</sp\141\156></di\166\076\074/td\076"; $_iO35=_iO0("\173id}",$this->_il1u."_ft",$_il35); $_il3=$this->FooterText; if ($this->Aggregate !== NULL) { $_il36=new gridrow(); $_il36->DataItem[$this->DataField ]=$this->_iO2p; $_il3.=$this->render($_il36); } $_iO35=_iO0("\173t\145\170t}",$_il3,$_iO35); $_il2x=strtolower($_SERVER["HTTP_\125\123\105R_AGE\116\124"]); $_iO2x=(strpos($_il2x,"msie \066") !== FALSE) && (strpos($_il2x,"\155sie 7") === FALSE) && (strpos($_il2x,"\155\163ie 8") === FALSE) && (strpos($_il2x,"\157\160\145ra") === FALSE); $_il2y=(strpos($_il2x,"msie\040\067") !== FALSE) && (strpos($_il2x,"\157\160era") === FALSE); $_iO35=_iO0("\173\166isible\175",($this->Visible || $_iO2x || $_il2y) ? "": "k\147\162Hidden",$_iO35); $_iO35=_iO0("\173wra\160\175",$this->FooterStyle->_iO2l(),$_iO35); $_iO35=_iO0("\173align}",$this->FooterStyle->_il2m(),$_iO35); $_iO35=_iO0("\173\166align}",$this->FooterStyle->_iO2m(),$_iO35); return $_iO35; } function renderfilter() { $_iO36="<d\151\166\040clas\163\075'kgrEd\151\164In'><i\156\160ut cl\141\163s='k\147\162FiEnTr\047\040type=\047\164\145xt' \151\144='\173i\144\175' nam\145\075'\173id\175\047\040val\165\145\075'\173\164\145\170t}'\040\157\156blur\075\047grid_\146\151lter_\164\162\151gge\162\050\042\173\143\157\154id}\042\054this)\047\040style\075\047width\072\06100%;'\040\057></di\166\076"; $_il37=_iO0("\173i\144\175",$this->_il1u."\137\146ilter_\151\156put",$_iO36); $_il37=_iO0("\173\143\157\154id}",$this->_il1u ,$_il37); $_il37=_iO0("\173text}",_iln($this->Filter["Val\165\145"]),$_il37); return $_il37; } function getfiltervalue() { $_ilz=$_POST[$this->_il1u."\137\146\151lter_i\156\160\165t"]; if ($this->_iO23->_il1r->AjaxEnabled === TRUE) { $_ilz=iconv("\125\124F-8",$this->_iO23->_il1r->CharSet ,$_ilz); } return $_ilz; } function _iO37() { $_il38="<td\040\151\144='\173\151\144}' cla\163\163='kgrF\151\154terCe\154\154 \173v\151\163ible} \173\143\163scla\163\163\145s}'>\074\144iv cl\141\163\163='kg\162\111n'>\173\143\157\156tent\175\074/div><\057\164d>"; $_iO38="&#1\066\060\073"; if ($this->AllowFiltering) { $_il39="\074\144iv>\173i\156\160\165t}</\144\151\166><di\166\076\173se\154\145ct}<\057\144iv>"; $_iO39="\074select\040\151d='\173i\144\175' onch\141\156\147e='\147\162\151d_f\151\154ter_t\162\151\147ger(\042\173colid}\042\054this)\047\040styl\145\075'widt\150\072\06100%\047\076\173opt\151\157\156s}</\163\145lect>"; $_il3a="<opti\157\156\040value\075\047\173val\165\145}' \173\163\145\154ect\145\144} >\173\164\145xt}</\157\160\164ion>"; $_iO3a=$this->FilterOptions; $_il3b=""; for ($_iO8=0; $_iO8<sizeof($_iO3a); $_iO8 ++) { $_iO3b=_iO0("\173\166alue}",$_iO3a[$_iO8],$_il3a); $_iO3b=_iO0("\173\164ext}",$this->_iO23->_il1r->Localization->_il1y[$_iO3a[$_iO8]],$_iO3b); $_iO3b=_iO0("\173\163\145lected\175",($this->Filter["\105\170p"] == $_iO3a[$_iO8]) ? "selec\164\145d": "",$_iO3b); $_il3b.=$_iO3b; } $_il3c=_iO0("\173\151\144}",$this->_il1u."_filt\145\162\137sele\143\164",$_iO39); $_il3c=_iO0("\173coli\144\175",$this->_il1u ,$_il3c); $_il3c=_iO0("\173\157\160tions}",$_il3b,$_il3c); $_iO38=_iO0("\173sele\143\164\175",$_il3c,$_il39); $_iO38=_iO0("\173i\156\160\165t}",$this->renderfilter(),$_iO38); } $_il2x=strtolower($_SERVER["HTTP_US\105\122\137AGENT"]); $_iO2x=(strpos($_il2x,"\155sie 6") !== FALSE) && (strpos($_il2x,"\155\163ie 7") === FALSE) && (strpos($_il2x,"\155sie 8") === FALSE) && (strpos($_il2x,"o\160\145\162a") === FALSE); $_il2y=(strpos($_il2x,"\155\163ie 7") !== FALSE) && (strpos($_il2x,"oper\141") === FALSE); $_iO14=_iO0("\173id}",$this->_il1u."_flt",$_il38); $_iO14=_iO0("\173\166\151sible\175",($this->Visible || $_iO2x || $_il2y) ? "": "\153\147rHidden",$_iO14); $_iO14=_iO0("\173\143\157ntent}",$_iO38,$_iO14); $_iO2y=$this->_iO23->CssClasses; $_iO14=_iO0("\173\143\163sclass\145\163\175",isset ($_iO2y['filter cell']) ? $_iO2y['filter cell']: '',$_iO14); return $_iO14; } } class _iO3c extends gridcolumn { var $AllowHtmlRender=FALSE; function render($_iO1b) { $_il3d=$this->format($_iO1b->DataItem[$this->DataField ]); if (!$this->AllowHtmlRender) { $_il3d=_iO0("<","&#60;",$_il3d); $_il3d=_iO0("\076","&#62;",$_il3d); } return $_il3d; } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new _iO3c(); } parent::createinstance($_il2w); $_il2w->AllowHtmlRender =$this->AllowHtmlRender; return $_il2w; } } class gridboundcolumn extends _iO3c { var $MaxLength=-1; var $_iO3d=''; var $_il3e=NULL; function _iO1s($_iO25) { parent::_iO1s($_iO25); if ($this->MaxLength >-1) { $_iO3e=new regularexpressionvalidator(); $_iO3e->ValidationExpression = "/^.\173\060\054$this->MaxLength\175\044\057"; if (!empty($this->_iO3d)) $_iO3e->ErrorMessage =$this->_iO3d; else $_iO3e->ErrorMessage = "\120lease\040\145nter le\163\163 than \157\162\040equ\141\154\040to\040$this->MaxLength\040\143\150aract\145\162\163."; $this->addvalidator($_iO3e); $this->_il3e =$_iO3e; } } function setlengtherrormessage($_il3f) { $this->_iO3d =$_il3f; if ( isset ($this->_il3e)) $this->_il3e->ErrorMessage =$_il3f; } function inlineeditrender($_iO1b) { if (!$this->ReadOnly) { $_iO3f="<div cla\163\163\075'kgr\105\144itIn k\147\162ECap'>\074\151nput\040\151d='\173\151\144}' cl\141\163\163='kg\162\105\156NoPo\047\040name\075\047\173id}\047\040type=\047\164ext' v\141\154ue='\173\166\141lue}'\040\173\155axle\156\147th}  s\164\171le='wi\144\164h:10\060\045' /><\057\144iv>"; $_il3g=_iO0("\173i\144\175",$_iO1b->_il1u."\137".$this->_il1u."_input",$_iO3f); $_il3g=_iO0("\173maxlengt\150\175",$this->MaxLength >-1 ? "maxleng\164\150\075$this->MaxLength" : "",$_il3g); $_il3g=_iO0("\173\166alue}",_iln($this->format($_iO1b->DataItem[$this->DataField ])),$_il3g); return $_il3g; } else { return $this->render($_iO1b); } } function formeditrender($_iO1b) { $_iO3f="<input\040\151d='\173\151\144\175' c\154\141\163s='k\147\162EnNo\120\157' nam\145\075'\173id\175\047 type=\047\164ext' v\141\154ue='\173\166\141lue}'\040\173maxlen\147\164\150} st\171\154e='wid\164\150\07290%\047\040/>"; $_il3g=_iO0("\173\151\144}",$_iO1b->_il1u."_".$this->_il1u."\137\151nput",$_iO3f); $_il3g=_iO0("\173\155axlengt\150\175",$this->MaxLength >-1 ? "maxle\156\147\164h=$this->MaxLength" : "",$_il3g); $_il3g=_iO0("\173\166alue}",_iln($this->format($_iO1b->DataItem[$this->DataField ])),$_il3g); return $_il3g; } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridboundcolumn(); } parent::createinstance($_il2w); $_il2w->MaxLength =$this->MaxLength; $_il2w->_iO3d =$this->_iO3d; return $_il2w; } } class gridcalculatedcolumn extends gridboundcolumn { var $Expression; function _iO1s($_iO25) { parent::_iO1s($_iO25); $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO1b) { $_iOy=$this->Expression; foreach ($_iO1b->DataItem as $_iO1n => $_il1o) { $_iOy=_iO0("\173".$_iO1n."\175",$_il1o,$_iOy); } return eval ("\162eturn ".$_iOy."\073"); } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridcalculatedcolumn(); } parent::createinstance($_il2w); $_il2w->Expression =$this->Expression; return $_il2w; } } class gridcalculatedcustomcolumn extends gridcalculatedcolumn { var $InlineEditExpression; function inlineeditrender($_iO1b) { $_iOy=$this->InlineEditExpression; foreach ($_iO1b->DataItem as $_iO1n => $_il1o) { $_iOy=_iO0("\173".$_iO1n."\175",$_il1o,$_iOy); } return eval ("retu\162\156\040".$_iOy."\073"); } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridcalculatedcustomcolumn(); } parent::createinstance($_il2w); $_il2w->InlineEditExpression =$this->InlineEditExpression; return $_il2w; } } class gridnumbercolumn extends gridboundcolumn { var $DecimalNumber=0; var $DecimalPoint="\056"; var $ThousandSeperate=","; var $FormatString="\173\156\175"; function format($_ilz) { $_iO3g= (double) $_ilz; return _iO0("\173\156}",number_format($_iO3g,$this->DecimalNumber ,$this->DecimalPoint ,$this->ThousandSeperate),$this->FormatString); } function render($_iO1b) { $_il3d=$this->format($_iO1b->DataItem[$this->DataField ]); if (!$this->AllowHtmlRender) { $_il3d=_iO0("\074","&\043\0660;",$_il3d); $_il3d=_iO0(">","&#62;",$_il3d); } return $_il3d; } function inlineeditrender($_iO1b) { if (!$this->ReadOnly) { $_iO3f="\074div \143\154\141ss='\153\147\162Edit\111\156 kgrEC\141\160'><i\156\160ut id\075\047\173id}\047\040class\075\047kgrEnN\157\120o' na\155\145\075'\173\151\144\175' ty\160\145='text\047\040value\075\047\173val\165\145\175' st\171\154\145='wi\144\164h:100%\047\040/><\057\144iv>"; $_il3g=_iO0("\173\151\144\175",$_iO1b->_il1u."\137".$this->_il1u."_i\156\160\165t",$_iO3f); $_il3g=_iO0("\173\166\141lue}",$_iO1b->DataItem[$this->DataField ],$_il3g); return $_il3g; } else { return $this->render($_iO1b); } } function formeditrender($_iO1b) { $_iO3f="<input i\144\075'\173id\175\047\040cla\163\163\075'kg\162\105\156NoP\157\047 nam\145\075'\173id\175\047\040typ\145\075\047text\047\040valu\145\075\047\173v\141\154\165e}' \163\164\171le='\167\151\144th:9\060\045' />"; $_il3g=_iO0("\173id\175",$_iO1b->_il1u."_".$this->_il1u."\137\151nput",$_iO3f); $_il3g=_iO0("\173\166\141lue}",$_iO1b->DataItem[$this->DataField ],$_il3g); return $_il3g; } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridnumbercolumn(); } parent::createinstance($_il2w); $_il2w->DecimalNumber =$this->DecimalNumber; $_il2w->DecimalPoint =$this->DecimalPoint; $_il2w->ThousandSeperate =$this->ThousandSeperate; $_il2w->FormatString =$this->FormatString; return $_il2w; } } class gridcurrencycolumn extends gridboundcolumn { var $Locale="en_US"; var $FormatString="\045\151"; function format($_ilz) { setlocale(LC_MONETARY,$this->Locale); return money_format($this->FormatString ,$_ilz); } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridcurrencycolumn(); } parent::createinstance($_il2w); $_il2w->Locale =$this->Locale; $_il2w->FormatString =$this->FormatString; return $_il2w; } } class gridtextareacolumn extends _iO3c { var $BoxHeight; function inlineeditrender($_iO1b) { if (!$this->ReadOnly) { $_iO3f="<div \143\154\141ss='\153\147\162Edit\111\156 kgrEC\141\160'><te\170\164area\040\151d='\173\151\144}' cla\163\163='kgrE\156\116\157Po'\040\156ame='\173\151\144}' s\164\171\154e='w\151\144th:100\045\073\173he\151\147\150t}'>\173\166\141lue\175\074\057tex\164\141rea>\074\057div>"; $_il3g=_iO0("\173\151\144}",$_iO1b->_il1u."\137".$this->_il1u."_inpu\164",$_iO3f); $_il3g=_iO0("\173valu\145\175",_iln($this->format($_iO1b->DataItem[$this->DataField ])),$_il3g); $_il3g=_iO0("\173\150\145\151gh\164\175",($this->BoxHeight) ? "\150\145ight\072".$this->BoxHeight."\073": "",$_il3g); return $_il3g; } else { return $this->render($_iO1b); } } function formeditrender($_iO1b) { $_iO3f="\074texta\162\145a id='\173\151d}' \143\154ass='\153\147rEnN\157\120o' \156\141me='\173\151\144}' s\164\171le='w\151\144th:90\045\073\173h\145\151ght}'\076\173valu\145\175\074/te\170\164area>"; $_il3g=_iO0("\173id}",$_iO1b->_il1u."_".$this->_il1u."\137input",$_iO3f); $_il3g=_iO0("\173valu\145\175",_iln($this->format($_iO1b->DataItem[$this->DataField ])),$_il3g); $_il3g=_iO0("\173h\145\151ght}",($this->BoxHeight) ? "\150\145\151ght:".$this->BoxHeight.";": "",$_il3g); return $_il3g; } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridtextareacolumn(); } parent::createinstance($_il2w); $_il2w->BoxHeight =$this->BoxHeight; return $_il2w; } } class griddropdowncolumn extends gridcolumn { var $_il3h=array(); function render($_iO1b) { $_ilz=$_iO1b->DataItem[$this->DataField ]; $_il3=$_iO1b->DataItem[$this->DataField ]; for ($_iO8=0; $_iO8<sizeof($this->_il3h); $_iO8 ++) { if ($_ilz == $this->_il3h[$_iO8][1]) { $_il3=$this->_il3h[$_iO8][0]; break; } } return $_il3; } function additem($_il3,$_ilz=NULL) { if ($_ilz === NULL) $_ilz=$_il3; array_push($this->_il3h ,array($_il3,$_ilz)); } function clear() { $this->_il3h =array(); } function _iO3h($_iO1b,$_iO39) { $_il3a="<o\160\164ion val\165\145\075'\173\166\141lue}'\040\173selec\164\145d}>\173\164\145xt}</\157\160\164ion>"; $_il3b=""; foreach ($this->_il3h as $_iOq) { $_iO3b=_iO0("\173t\145\170t}",$_iOq[0],$_il3a); $_iO3b=_iO0("\173\166\141lue}",_iln($_iOq[1]),$_iO3b); $_iO3b=_iO0("\173\163\145\154ected\175",($_iOq[1] == $_iO1b->DataItem[$this->DataField ]) ? "\163elected": "",$_iO3b); $_il3b.=$_iO3b; } $_il3c=_iO0("\173id}",$_iO1b->_il1u."\137".$this->_il1u."\137\151\156put",$_iO39); $_il3c=_iO0("\173\157ptions}",$_il3b,$_il3c); return $_il3c; } function inlineeditrender($_iO1b) { if (!$this->ReadOnly) { $_iO39="<span c\154\141\163s='k\147\162\105Cap\047\076<sele\143\164 id='\173\151d}' \156\141me='\173\151\144}' sty\154\145\075'wid\164\150:100%\047\076\173opt\151\157\156s}</\163\145\154ect>\074\057span>"; return $this->_iO3h($_iO1b,$_iO39); } else { return $this->render($_iO1b); } } function formeditrender($_iO1b) { $_iO39="<sel\145\143\164 id='\173\151\144}' n\141\155e='\173\151\144\175' s\164\171le='w\151\144th:90%\047\076\173opt\151\157\156s}</\163\145lect>"; return $this->_iO3h($_iO1b,$_iO39); } function renderfilter() { $_iO39="<spa\156\040class='\153\147\162ECa\160\047\076<se\154\145\143t i\144\075'\173i\144\175' nam\145\075\047\173i\144\175\047 st\171\154\145='wi\144\164h:100\045\047 oncha\156\147e='gri\144\137filter\137\164rigge\162\050\042\173c\157\154id}\042\054\164his)'\076\173opti\157\156s}</s\145\154\145ct><\057\163pan>"; $_il3a="\074\157\160tion \166\141\154ue='\173\166alue}'\040\173selec\164\145d}>\173\164\145xt}</o\160\164\151on>"; $_il3b=""; foreach ($this->_il3h as $_iOq) { $_iO3b=_iO0("\173text}",$_iOq[0],$_il3a); $_iO3b=_iO0("\173\166alue\175",$_iOq[1],$_iO3b); $_iO3b=_iO0("\173\163\145lec\164\145d}",($_iOq[1] == $this->Filter["Valu\145"]) ? "selec\164\145d": "",$_iO3b); $_il3b.=$_iO3b; } $_il3c=_iO0("\173\151\144}",$this->_il1u."_filt\145\162_in\160\165t",$_iO39); $_il3c=_iO0("\173\143ol\151\144}",$this->_il1u ,$_il3c); $_il3c=_iO0("\173op\164\151ons\175",$_il3b,$_il3c); return $_il3c; } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new griddropdowncolumn(); } parent::createinstance($_il2w); $_il2w->_il3h =$this->_il3h; return $_il2w; } } class gridrowselectcolumn extends gridcolumn { var $Align="\143enter"; function _iO1s($_iO25) { parent::_iO1s($_iO25); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO1b) { $_il3i="<span cl\141\163s='kgr\105\103\141p'>\074\151nput \164\171\160e=\047\143heck\142\157\170' cl\141\163s='kgr\123\145lectSi\156\147leRow\047\040\173che\143\153ed} on\143\154ick='g\162\151d_togg\154\145_selec\164\050this)\047\040/></s\160\141\156>"; $_iO3i=_iO0("\173\143hecked\175",$_iO1b->Selected ? "check\145\144": "",$_il3i); return $_iO3i; } function _il30() { $_iO30="\074col id='\173\151\144}' n\141\155e='\173i\144\175' sty\154\145='\173\167\151dth}'\040\143lass='\153\147\162Colu\155\156\123ele\143\164\040\173r\145\163izable\175\040\173vis\151\142\154e}'/\076"; $_iO2h=_iO0("\173\151\144}",$this->_il1u ,$_iO30); $_iO2h=_iO0("\173resi\172\141ble\175",($this->AllowResizing) ? "kgrResi\172\141\142le": "",$_iO2h); $_iO2h=_iO0("\173\167\151dth}",($this->Width != NULL) ? "\167\151\144th:".$this->Width.";": "",$_iO2h); $_iO2h=_iO0("\173vis\151\142\154e}",($this->Visible) ? "": "\153\147rHidden",$_iO2h); return $_iO2h; } function renderheader() { $_il3i="\074span \143\154\141ss='k\147\162ECap'>\074\151nput t\171\160e='c\150\145ckbox\047\040class\075\047kgrSel\145\143tAllRo\167\163' \173c\150\145cked} \157\156\143lick\075\047grid_\164\157\147gle_\163\145\154ect(\164\150\151s)' \057\076</spa\156\076"; $_il1b=$this->_iO23->_il3j; $_iO3j=TRUE; for ($_iO8=0; $_iO8<sizeof($_il1b); $_iO8 ++) { if (!$_il1b[$_iO8]->Selected) { $_iO3j=FALSE; break; } } $this->HeaderText =_iO0("\173c\150\145\143ked}",$_iO3j ? "c\150\145\143ked": "",$_il3i); return parent::renderheader(); } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridrowselectcolumn(); } parent::createinstance($_il2w); return $_il2w; } } class gridbooleancolumn extends gridcolumn { var $TrueText="\124\162ue"; var $FalseText="\106alse"; var $UseCheckBox=FALSE; function render($_iO1b) { $_il3g=""; if ($this->UseCheckBox) { $_iO3f="<i\156\160\165t typ\145\075'chec\153\142\157x' \173\143\150ecke\144\175 dis\141\142\154ed /\076"; $_il3g=_iO0("\173\143hecked}",($_iO1b->DataItem[$this->DataField ]) ? "ch\145\143\153ed": "",$_iO3f); } else { $_il3g=($_iO1b->DataItem[$this->DataField ]) ? $this->TrueText : $this->FalseText; } return $_il3g; } function inlineeditrender($_iO1b,$_il3k=FALSE) { if (!$this->ReadOnly) { $_il3g=""; if ($this->UseCheckBox) { $_iO3f="\074span cl\141\163\163='kgr\105\103ap'><i\156\160\165t  \151\144='\173\151\144}' nam\145\075'\173id\175\047\040typ\145\075\047che\143\153box' \173\143\150ecke\144\175\040/><\057\163\160an>"; $_il3g=_iO0("\173id}",$_iO1b->_il1u."_".$this->_il1u."_i\156\160ut",$_iO3f); $_il3g=_iO0("\173checke\144\175",($_iO1b->DataItem[$this->DataField ]) ? "checked": "",$_il3g); } else { $_iO39="\074span \143\154ass='k\147\162ECap\047\076<sel\145\143t id=\047\173id\175\047 nam\145\075'\173i\144\175' styl\145\075'widt\150\072\173w\151\144th}'>\173\157ption\163\175</sel\145\143t></s\160\141n>"; $_il3a="<opt\151\157n valu\145\075'\173v\141\154\165e}'\040\173sele\143\164ed}>\173\164ext}\074\057optio\156\076"; $_iO3k=_iO0("\173val\165\145\175","1",$_il3a); $_iO3k=_iO0("\173selecte\144\175",($_iO1b->DataItem[$this->DataField ]) ? "selecte\144": "",$_iO3k); $_iO3k=_iO0("\173text}",$this->TrueText ,$_iO3k); $_il3l=_iO0("\173v\141\154\165e}","0",$_il3a); $_il3l=_iO0("\173sele\143\164ed}",(!$_iO1b->DataItem[$this->DataField ]) ? "\163elect\145\144": "",$_il3l); $_il3l=_iO0("\173\164\145xt}",$this->FalseText ,$_il3l); $_il3g=_iO0("\173\151d}",$_iO1b->_il1u."_".$this->_il1u."\137\151nput",$_iO39); $_il3g=_iO0("\173\157ptions}",$_iO3k.$_il3l,$_il3g); $_il3g=_iO0("\173width}",($_il3k) ? "9\060\045": "10\060\045",$_il3g); } return $_il3g; } else { return $this->render($_iO1b); } } function formeditrender($_iO1b) { return $this->inlineeditrender($_iO1b,TRUE); } function geteditvalue($_iO1b) { if ($this->UseCheckBox) { return isset ($_POST[$_iO1b->_il1u."\137".$this->_il1u."_\151\156\160ut"]) ? 1: 0; } else { return parent::geteditvalue($_iO1b); } } function renderfilter() { $_il3g=""; if ($this->UseCheckBox) { $_iO3f="<span \143\154ass='k\147\162ECap'\076\074inpu\164\040 id=\047\173id}\047\040nam\145\075'\173i\144\175' typ\145\075'chec\153\142ox' \173\143hecke\144\175 onch\141\156ge='g\162\151d_fil\164\145r_tri\147\147er(\042\173\143olid\175\042,this\051\047 /><\057\163pan\076"; $_il3g=_iO0("\173id}",$this->_il1u."_\146\151\154ter_\151\156\160ut",$_iO3f); $_il3g=_iO0("\173\143\157lid}",$this->_il1u ,$_il3g); $_il3g=_iO0("\173\143\150ecked}",($this->Filter["Value"]) ? "che\143\153\145d": "",$_il3g); } else { $_iO39="\074span cl\141\163\163='kg\162\105Cap'>\074\163elec\164\040id='\173\151d}'\040\156ame=\047\173id}' \163\164yle='\167\151\144th:\061\0600%' \157\156chang\145\075'grid\137\146ilter\137\164rigge\162\050\042\173\143\157lid}\042\054this\051\047>\173o\160\164ions\175\074/se\154\145ct></\163\160an>"; $_il3a="\074\157ption v\141\154ue='\173\166\141lue\175\047 \173se\154\145cte\144\175>\173\164\145\170t}<\057\157ption\076"; $_iO3k=_iO0("\173\166alue}","1",$_il3a); $_iO3k=_iO0("\173sel\145\143\164ed}",($this->Filter["\126\141lue"]) ? "\163elect\145\144": "",$_iO3k); $_iO3k=_iO0("\173\164\145\170t}",$this->TrueText ,$_iO3k); $_il3l=_iO0("\173\166\141lue}","0",$_il3a); $_il3l=_iO0("\173sel\145\143\164ed}",(!$this->Filter["\126alue"]) ? "s\145\154\145cted": "",$_il3l); $_il3l=_iO0("\173text}",$this->FalseText ,$_il3l); $_il3g=_iO0("\173\151d}",$this->_il1u."\137\146ilter_i\156\160ut",$_iO39); $_il3g=_iO0("\173\143olid}",$this->_il1u ,$_il3g); $_il3g=_iO0("\173\157\160tions}",$_iO3k.$_il3l,$_il3g); } return $_il3g; } function getfiltervalue() { if ($this->UseCheckBox) { return isset ($_POST[$this->_il1u."\137\146\151lter\137\151nput"]) ? 1: 0; } else { return parent::getfiltervalue(); } } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridbooleancolumn(); } parent::createinstance($_il2w); $_il2w->TrueText =$this->TrueText; $_il2w->FalseText =$this->FalseText; $_il2w->UseCheckBox =$this->UseCheckBox; return $_il2w; } } class gridimagecolumn extends gridcolumn { var $ImageFolder=""; var $CssClass=""; function render($_iO1b) { $_iO3f="<im\147\040src='\173\163rc}' c\154\141ss='\173\143\154ass\175\047 al\164\075'' \057\076"; $_il3g=_iO0("\173\163\162\143}",(($this->ImageFolder != "") ? ($this->ImageFolder."/"): "").$_iO1b->DataItem[$this->DataField ],$_iO3f); $_il3g=_iO0("\173\143\154\141ss}",$this->CssClass ,$_il3g); return $_il3g; } function inlineeditrender($_iO1b) { return $this->render($_iO1b); } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridimagecolumn(); } parent::createinstance($_il2w); $_il2w->ImageFolder =$this->ImageFolder; $_il2w->CssClass =$this->CssClass; return $_il2w; } } class gridcustomcolumn extends gridcolumn { var $ItemTemplate; var $EditItemTemplate; var $AllowSorting=FALSE; function _iO1s($_iO25) { parent::_iO1s($_iO25); $this->ReadOnly =TRUE; } function render($_iO1b) { $_il3g=$this->ItemTemplate; foreach ($_iO1b->DataItem as $_iO1n => $_il1o) { $_il3g=_iO0("\173".$_iO1n."}",$_il1o,$_il3g); } return $_il3g; } function inlineeditrender($_iO1b) { $_il3g=$this->EditItemTemplate; foreach ($_iO1b->DataItem as $_iO1n => $_il1o) { $_il3g=_iO0("\173".$_iO1n."\175",$_il1o,$_il3g); } return $_il3g; } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridcustomcolumn(); } parent::createinstance($_il2w); $_il2w->ItemTemplate =$this->ItemTemplate; $_il2w->EditItemTemplate =$this->EditItemTemplate; return $_il2w; } } class gridcommandcolumn extends gridcolumn { var $CommandText="Comman\144"; var $OnClick=""; var $CssClass=""; function _iO1s($_iO25) { parent::_iO1s($_iO25); $this->AllowSorting =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO1b) { $_iO3f="\074span cla\163\163='kgr\105\103ap'><\151\156\160ut t\171\160e='b\165\164ton'\040\143\154ass=\047\173class}\047\040value\075\047\173te\170\164}' onc\154\151ck='\173\157\156click}\047\040/></s\160\141\156>"; $_il3g=_iO0("\173\143\154ass}",$this->CssClass ,$_iO3f); $_il3=$this->CommandText; $_iO3l=$this->OnClick; foreach ($_iO1b->DataItem as $_iO1n => $_il1o) { $_il3=_iO0("\173".$_iO1n."\175",$_il1o,$_il3); $_iO3l=_iO0("\173".$_iO1n."\175",$_il1o,$_iO3l); } $_il3g=_iO0("\173\164ext}",$_il3,$_il3g); $_il3g=_iO0("\173\157nclick\175",$_iO3l,$_il3g); return $_il3g; } function inlineeditrender($_iO1b) { return $this->render($_iO1b); } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridcommandcolumn(); } parent::createinstance($_il2w); $_il2w->CommandText =$this->CommandText; $_il2w->OnClick =$this->OnClick; $_il2w->CssClass =$this->CssClass; return $_il2w; } } class grideditdeletecolumn extends gridcolumn { var $ButtonType="A\165\164o"; var $EditButtonText; var $DeleteButtonText; var $ConfirmButtonText; var $CancelButtonText; var $EditButtonImageUrl=""; var $DeleteButtonImageUrl=""; var $ConfirmButtonImageUrl=""; var $CancelButtonImageUrl=""; var $EditButtonCssClass=""; var $ConfirmButtonCssClass=""; var $CancelButtonCssClass=""; var $DeleteButtonCssClass=""; var $ShowEditButton=TRUE; var $ShowDeleteButton=TRUE; function _iO1s($_iO25) { parent::_iO1s($_iO25); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; if ($this->EditButtonText === NULL) $this->EditButtonText =$_iO25->_il1r->Localization->_il1y["Edit"]; if ($this->DeleteButtonText === NULL) $this->DeleteButtonText =$_iO25->_il1r->Localization->_il1y["\104elete"]; if ($this->ConfirmButtonText === NULL) $this->ConfirmButtonText =$_iO25->_il1r->Localization->_il1y["\103onfirm"]; if ($this->CancelButtonText === NULL) $this->CancelButtonText =$_iO25->_il1r->Localization->_il1y["Cancel"]; } function render($_iO1b) { $_iO30="\074\163pan cla\163\163='kg\162\105Cap'\076\173edit}\040\173del\145\164e}<\057\163pan>"; $_il3m=""; switch (strtolower($this->ButtonType)) { case "\141\165to": $_iO30="<span c\154\141\163s='\153\147rECa\160\047 styl\145\075'whi\164\145-sp\141\143e:no\167\162ap;'>\173\145dit}\173\144\145lete\175\074/sp\141\156>"; $_il3m="<\141\040\164ype=\047\142utton\047\040clas\163\075'\173a\165\164ocla\163\163} \173\143\154ass}\047\040oncli\143\153='\173\157\156click\175\047 hre\146\075'java\163\143ript:\166\157id 0'\076\173text}\074\057a>"; break; case "link": $_il3m="<a typ\145\075'butto\156\047 cla\163\163='\173\143\154ass}'\040\157ncl\151\143k='\173\157\156clic\153\175' hre\146\075'java\163\143ript:\166\157id 0'\076\173text\175\074/a>"; break; case "\151mage": $_il3m="\074img \163\162\143='\173\163\162c}' \157\156click\075\047\173o\156\143lick\175\047 cla\163\163='\173c\154\141ss}' /\076"; break; case "but\164\157\156": default : $_il3m="\074inpu\164\040class=\047\173class\175\047 type\075\047butt\157\156' v\141\154ue='\173\164\145xt}'\040\157nclic\153\075'\173o\156\143lick}\047\040/>"; break; } $_iO3m=_iO0("\173\164ext}",$this->EditButtonText ,$_il3m); $_iO3m=_iO0("\173autoc\154\141ss}","\153\147rLinkEd\151\164",$_iO3m); $_iO3m=_iO0("\173\143\154ass}",$this->EditButtonCssClass ,$_iO3m); $_iO3m=_iO0("\173src\175",$this->EditButtonImageUrl ,$_iO3m); $_iO3m=_iO0("\173\157\156\143lick\175","grid_e\144\151t(this)",$_iO3m); $_il3n=_iO0("\173text}",$this->DeleteButtonText ,$_il3m); $_il3n=_iO0("\173\141utocla\163\163}","kgrLink\104\145\154ete",$_il3n); $_il3n=_iO0("\173\143\154ass}",$this->DeleteButtonCssClass ,$_il3n); $_il3n=_iO0("\173\163\162c}",$this->DeleteButtonImageUrl ,$_il3n); $_il3n=_iO0("\173on\143\154ick}","\147\162id_del\145\164e(this\051",$_il3n); $_iO2h=_iO0("\173\145dit}",($this->ShowEditButton) ? $_iO3m: "",$_iO30); $_iO2h=_iO0("\173dele\164\145}",($this->ShowDeleteButton) ? $_il3n: "",$_iO2h); return $_iO2h; } function inlineeditrender($_iO1b) { if ($this->ShowEditButton) { $_iO30="\074span \143\154ass='k\147\162ECap'\076\173confi\162\155} \173\143\141nce\154\175</spa\156\076"; $_il3m=""; switch (strtolower($this->ButtonType)) { case "\141uto": $_iO30="\074\163pan c\154\141ss='k\147\162ECap' \163\164yle=\047\167hite\055\163pac\145\072nowr\141\160\073'>\173\143\157nfir\155\175\173ca\156\143el}</\163\160an>"; $_il3m="<\141\040type='b\165\164ton' \143\154ass='\173\141utoc\154\141ss} \173\143las\163\175' oncl\151ck\075\047\173\157\156clic\153\175' hre\146\075'jav\141\163cript\072\166oid 0\047\076\173te\170\164}</a>"; break; case "link": $_il3m="<a t\171\160\145='bu\164\164on' c\154\141ss='\173\143\154ass}\047\040onc\154\151ck='\173\157\156cli\143\153}' hre\146\075'jav\141\163cript\072\166oid 0\047\076\173te\170\164}</a>"; break; case "image": $_il3m="<\151\156put typ\145\075'imag\145\047 src=\047\173src}\047\040oncl\151\143k='\173\157nclic\153\175' clas\163\075'\173c\154\141ss}'\040\057>"; break; case "button": default : $_il3m="\074input \143\154ass='\173\143\154ass}\047\040type\075\047butt\157\156' va\154\165e='\173\164\145xt}'\040\157nclic\153\075'\173o\156\143lick}\047\040/>"; break; } $_iO3n=_iO0("\173\164ext}",$this->ConfirmButtonText ,$_il3m); $_iO3n=_iO0("\173\141utocla\163\163}","kgr\114\151nkConfi\162\155",$_iO3n); $_iO3n=_iO0("\173clas\163\175",$this->ConfirmButtonCssClass ,$_iO3n); $_iO3n=_iO0("\173\163\162c}",$this->ConfirmButtonImageUrl ,$_iO3n); $_iO3n=_iO0("\173\157nclick\175","\147rid_c\157\156firm_e\144\151t(thi\163\051",$_iO3n); $_il3o=_iO0("\173tex\164\175",$this->CancelButtonText ,$_il3m); $_il3o=_iO0("\173\141\165tocl\141\163s}","\153grLinkC\141\156cel",$_il3o); $_il3o=_iO0("\173cl\141\163\163}",$this->CancelButtonCssClass ,$_il3o); $_il3o=_iO0("\173src}",$this->CancelButtonImageUrl ,$_il3o); $_il3o=_iO0("\173\157nclick\175","gri\144\137\143ance\154\137edit(\164\150is)",$_il3o); $_iO2h=_iO0("\173\143onfir\155\175",$_iO3n,$_iO30); $_iO2h=_iO0("\173cancel\175",$_il3o,$_iO2h); return $_iO2h; } else { return $this->render($_iO1b); } } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new grideditdeletecolumn(); } parent::createinstance($_il2w); $_il2w->ButtonType =$this->ButtonType; $_il2w->ReadOnly =$this->ReadOnly; $_il2w->EditButtonText =$this->EditButtonText; $_il2w->DeleteButtonText =$this->DeleteButtonText; $_il2w->ConfirmButtonText =$this->ConfirmButtonText; $_il2w->CancelButtonText =$this->CancelButtonText; $_il2w->EditButtonImageUrl =$this->EditButtonImageUrl; $_il2w->DeleteButtonImageUrl =$this->DeleteButtonImageUrl; $_il2w->ConfirmButtonImageUrl =$this->ConfirmButtonImageUrl; $_il2w->CancelButtonImageUrl =$this->CancelButtonImageUrl; $_il2w->EditButtonCssClass =$this->EditButtonCssClass; $_il2w->DeleteButtonCssClass =$this->DeleteButtonCssClass; $_il2w->ConfirmButtonCssClass =$this->ConfirmButtonCssClass; $_il2w->CancelButtonCssClass =$this->CancelButtonCssClass; $_il2w->ShowEditButton =$this->ShowEditButton; $_il2w->ShowDeleteButton =$this->ShowDeleteButton; return $_il2w; } } class gridexpanddetailcolumn extends gridcolumn { function _iO1s($_iO25) { parent::_iO1s($_iO25); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO1b) { $_iO30="<s\160\141n clas\163\075'kg\162\173stat\165\163} kgr\105\103ap'\040\157ncl\151\143k='gr\151\144_\173co\155\155and}(\164\150is)'>\040\074/sp\141\156>"; $_iO2h=_iO0("\173\163\164atus}",($_iO1b->Expand) ? "Expan\144": "Colla\160\163\145",$_iO30); $_iO2h=_iO0("\173comma\156\144}",($_iO1b->Expand) ? "\143\157\154laps\145": "\145xpand",$_iO2h); return $_iO2h; } function _il30() { $_iO30="<col i\144\075'\173id\175\047 nam\145\075'\173i\144\175' st\171\154e='\173\167idth\175\047 clas\163\075'kgrC\157\154umnEx\160\141nd \173\162\145siza\142\154e} \173\166\151sibl\145\175'/>"; $_iO2h=_iO0("\173id}",$this->_il1u ,$_iO30); $_iO2h=_iO0("\173\162\145sizab\154\145}",($this->AllowResizing) ? "kg\162\122\145siza\142\154\145": "",$_iO2h); $_iO2h=_iO0("\173\167\151dth}",($this->Width != NULL) ? "wid\164\150\072".$this->Width."\073": "",$_iO2h); $_iO2h=_iO0("\173\166\151sible\175",($this->Visible) ? "": "kgr\110\151\144den",$_iO2h); return $_iO2h; } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridexpanddetailcolumn(); } parent::createinstance($_il2w); return $_il2w; } } class _iO3o extends gridcolumn { function _iO1s($_iO25) { parent::_iO1s($_iO25); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; $this->AllowExporting =FALSE; } function _il30() { $_iO30="\074col \151\144='\173i\144\175\047 n\141\155\145='\173\151\144}' s\164\171le='\173\167idth}'\040\143lass='\153\147\162Colu\155\156Group\047\057>"; $_iO2h=_iO0("\173id}",$this->_il1u ,$_iO30); $_iO2h=_iO0("\173\167\151dth}",($this->Width != NULL) ? "\167idth:".$this->Width.";": "",$_iO2h); return $_iO2h; } function _iO1v($_iO1b) { $_iO2w="\074td id=\047\173id}' c\154\141ss='k\147\162\103ell \153\147rGro\165\160Col'>\074\144iv cl\141\163\163='kg\162\111\156' st\171\154e=''>\046\043160;</\144\151v></td\076"; $_il2i=_iO0("\173\151\144}",$_iO1b->_il1u."_".$this->_il1u ,$_iO2w); return $_il2i; } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new _iO3o(); } parent::createinstance($_il2w); return $_il2w; } } class griddatetimecolumn extends gridcolumn { var $Picker; var $FormatString; var $DatabaseFormatString="Y-m-d \110\072i:s"; function _iO1s($_iO25) { parent::_iO1s($_iO25); if ($this->FormatString === NULL) { $this->FormatString ="m/d/Y \147\072i A"; if ($this->Picker !== NULL) { switch (strtolower(get_class($this->Picker))) { case "koold\141\164\145time\160\151\143ker": $this->FormatString =$this->Picker->DateFormat." ".$this->Picker->TimeFormat; break; case "koo\154\144\141tepi\143\153\145r": $this->FormatString =$this->Picker->DateFormat; break; case "ko\157\154\164imepi\143\153\145r": $this->FormatString =$this->Picker->TimeFormat; break; } } } $this->NullDisplayText =''; } function inlineeditrender($_iO1b) { if (!$this->ReadOnly) { $_il3p=$_iO1b->DataItem[$this->DataField ]; $_iO3p=strtotime($_il3p); $_il3q=($_iO3p == NULL || mb_strpos($_il3p,'0000-00-00') !== FALSE); if ($this->Picker !== NULL) { $_iO3q="\155/d/Y\040\147:i A"; switch (strtolower(get_class($this->Picker))) { case "k\157\157\154datet\151\155\145pick\145\162": $_iO3q=$this->Picker->DateFormat."\040".$this->Picker->TimeFormat; break; case "koold\141\164\145picke\162": $_iO3q=$this->Picker->DateFormat; break; case "\153\157\157ltime\160\151\143ker": $_iO3q=$this->Picker->TimeFormat; break; } $this->Picker->id =$_iO1b->_il1u."\137".$this->_il1u."_inpu\164"; $this->Picker->Width ="\06100%"; $this->Picker->ClientEvents =array(); if ($this->_iO23->AllowScrolling == TRUE) { $this->Picker->ClientEvents["\117nBeforeD\141\164\145Pick\145\162\117pen"]=$this->Picker->id."\137onbefor\145\157\160en"; $this->Picker->ClientEvents["OnBe\146\157\162eTimeP\151\143\153erOp\145\156"]=$this->Picker->id."\137\157nbefo\162\145\157pen"; $this->Picker->ClientEvents["\117\156DatePi\143\153\145rClo\163\145"]=$this->Picker->id."\137onclo\163\145"; $this->Picker->ClientEvents["\117\156\124imePic\153\145\162Clos\145"]=$this->Picker->id."_oncl\157\163\145"; } $this->Picker->init(); if ($this->NullDisplayText !== NULL && $_il3q) { $this->Picker->Value =""; } else { $this->Picker->Value =date($_iO3q,$_iO3p); } $_iO3f="<\144\151\166 clas\163\075'kgrEC\141\160\047>\173\160\151cker}\173\152s_ed\151\164_over\146\154\157w}</\144\151\166>"; if ($this->_iO23->AllowScrolling == TRUE) { $_iO3f="<\144\151\166 clas\163\075'kgrEC\141\160\047>\173\152\163_init\137\157penc\154\157se}<di\166\040class\075\047kgrDat\145\124imePi\143\153erOut'\076\074div c\154\141\163s='k\147\162DateTi\155\145Picker\111\156'>\173p\151\143ker}</\144\151v></d\151\166\076\173\152\163_edit\137\157verflo\167\175</div\076"; } $_il3r="\074script ty\160\145='text/\152\141vascri\160\164\047>fu\156\143tion\040\173id}_o\156\142\145fore\157\160\145n()\173\147\162id_o\156\137dateti\155\145picker\137\157\160en('\173\151\144}');\162\145\164urn \164\162ue;} f\165\156ction \173\151d}_onc\154\157se()\173\147\162id_\157\156\137date\164\151\155epi\143\153\145r_cl\157\163e('\173\151\144\175');}\040\074/scr\151\160\164>"; $_iO3r="\074\163cript ty\160\145='text\057\152\141vas\143\162\151pt'>\144\157cume\156\164.getEl\145\155entByI\144\050'\173id\175\047\051.cl\141\163sName\053\075' kgrE\156\116oPo';v\141\162 _agen\164\075navig\141\164\157r.us\145\162\101gent\056\164oLowe\162\103\141se(\051\073if(!(\050\137agent\056\151\156dex\117\146\050'ms\151\145\0406')\041\075-1 ||\040\137\141gent\056\151ndexO\146\050'msie\040\067')!=-\061\051&&_ag\145\156t.ind\145\170Of('m\163\151\145 8'\051\075=-1 &\046\137agent\056\151ndexO\146\050'ope\162\141')==\055\061))\173\144\157cume\156\164.getE\154\145mentB\171\111d('\173\151\144}_bou\156\144').pa\162\145ntNod\145\056pare\156\164No\144e\056\163ty\154e.o\166erf\154ow=\047vis\151ble\047;}<\057\163cr\151\160t>"; $_il3s=_iO0("\173\151d}",$this->Picker->id ,$_iO3r); $_iO3s=_iO0("\173id}",$this->Picker->id ,$_il3r); $_il3g=_iO0("\173pic\153\145\162}",$this->Picker->render(),$_iO3f); $_il3g=_iO0("\173\152s_ini\164\137\157penc\154\157\163e}",$_iO3s,$_il3g); $_il3g=_iO0("\173js\137\145\144it_ove\162\146low}",$_il3s,$_il3g); return $_il3g; } else { if ($this->NullDisplayText != NULL && $_il3q) { $_il3t=""; } else { $_il3t=date($this->FormatString ,$_iO3p); } $_iO3f="<div c\154\141\163s='k\147\162\105ditI\156\040kgrEC\141\160'><in\160\165t id\075\047\173id\175\047\040cla\163\163\075'kgr\105\156NoPo'\040\156ame='\173\151\144}' t\171\160\145='te\170\164\047 va\154\165\145='\173\166\141\154ue}'\040\163tyle=\047\167\151dth\072\06100%'\040\057></di\166\076"; $_il3g=_iO0("\173\151\144}",$_iO1b->_il1u."\137".$this->_il1u."_\151\156\160ut",$_iO3f); $_il3g=_iO0("\173value\175",($_il3p != "") ? _iln($_il3t): "",$_il3g); return $_il3g; } } else { return $this->render($_iO1b); } } function formeditrender($_iO1b) { $_il3p=$_iO1b->DataItem[$this->DataField ]; $_iO3p=strtotime($_il3p); $_il3q=($_iO3p == NULL || mb_strpos($_il3p,'0000-00-00') !== FALSE); if ($this->Picker !== NULL) { $_iO3q="\155\057d/Y g:i\040\101"; switch (strtolower(get_class($this->Picker))) { case "koolda\164\145\164imepi\143\153\145r": $_iO3q=$this->Picker->DateFormat."\040".$this->Picker->TimeFormat; break; case "\153\157oldatepi\143\153er": $_iO3q=$this->Picker->DateFormat; break; case "\153\157\157ltime\160\151\143ker": $_iO3q=$this->Picker->TimeFormat; break; } $this->Picker->id =$_iO1b->_il1u."_".$this->_il1u."_\151\156\160ut"; $this->Picker->Width ="\071\060%"; $this->Picker->ClientEvents =array(); $this->Picker->init(); if ($this->NullDisplayText !== NULL && $_il3q) { $_il3t=""; } else { $_il3t=date($_iO3q,$_iO3p); } $this->Picker->Value =$_il3t; $_iO3f="\074\144iv cla\163\163\075'kgr\105\103ap'>\173\160\151cker}\173\152s_ed\151\164_overf\154\157w}</di\166\076"; $_iO3r="<scrip\164\040\164ype=\047\164ext/ja\166\141\163cri\160\164\047>do\143\165ment\056\147\145tEle\155\145\156tByI\144\050'\173id\175\047).cla\163\163\116ame+\075\047 kgrE\156\116\157Po';\074\057scrip\164\076"; $_il3s=_iO0("\173\151\144}",$this->Picker->id ,$_iO3r); $_il3g=_iO0("\173picke\162\175",$this->Picker->render(),$_iO3f); $_il3g=_iO0("\173js_edi\164\137\157verfl\157\167}",$_il3s,$_il3g); return $_il3g; } else { if ($this->NullDisplayText != NULL && $_il3q) { $_il3t=""; } else { $_il3t=date($_iO3q,$_iO3p); } $_iO3f="\074div cla\163\163\075'kgr\105\144itIn k\147\162ECap'>\074\151nput\040\151d='\173\151\144}' c\154\141\163s='k\147\162\105nNoP\157\047 name\075\047\173id}\047\040type=\047\164ext' \166\141\154ue='\173\166\141lue}\047\040style\075\047width\072\0710%' /\076\074/di\166\076"; $_il3g=_iO0("\173id}",$_iO1b->_il1u."_".$this->_il1u."\137input",$_iO3f); $_il3g=_iO0("\173\166\141\154ue}",($_il3p != "") ? _iln($_il3t): "",$_il3g); return $_il3g; } } function renderfilter() { $_il3p=$this->Filter["V\141\154ue"]; $_iO3p=strtotime($_il3p); if ($this->Picker !== NULL) { $_iO3q="\155\057d/Y g:\151\040A"; switch (strtolower(get_class($this->Picker))) { case "\153ooldat\145\164\151mepic\153\145r": $_iO3q=$this->Picker->DateFormat."\040".$this->Picker->TimeFormat; break; case "koolda\164\145\160icke\162": $_iO3q=$this->Picker->DateFormat; break; case "\153\157oltimep\151\143\153er": $_iO3q=$this->Picker->TimeFormat; break; } $this->Picker->id =$this->_il1u."\137\146ilter_\151\156\160ut"; $this->Picker->Width ="100%"; if ($this->_iO23->AllowScrolling == TRUE) { $this->Picker->ClientEvents["\117\156\102efore\104\141\164ePic\153\145rOpen"]=$this->Picker->id."\137\157\156befor\145\157\160en"; $this->Picker->ClientEvents["OnBefo\162\145\124imePi\143\153\145rOpe\156"]=$this->Picker->id."\137onbefo\162\145\157pen"; $this->Picker->ClientEvents["\117\156\104atePi\143\153\145rClo\163\145"]=$this->Picker->id."_o\156\143\154ose"; $this->Picker->ClientEvents["OnTime\120\151\143kerCl\157\163e"]=$this->Picker->id."\137onclose"; } $this->Picker->ClientEvents["OnSe\154\145ct"]=$this->Picker->id."_onsele\143\164"; $this->Picker->init(); $this->Picker->Value =($_il3p != "") ? date($_iO3q,$_iO3p): ""; $_iO3f="<div c\154\141\163s='kg\162\105Cap'>\173\160\151cker}\173\152s_in\151\164_onse\154\145ct}</d\151\166>"; if ($this->_iO23->AllowScrolling == TRUE) { $_iO3f="<\144\151\166 clas\163\075'kgrEC\141\160'><div\040\143lass=\047\153grDat\145\124imePi\143\153\145rOut\047\076<div c\154\141ss='k\147\162\104ateT\151\155ePicke\162\111\156'>\173\152\163_init\137\157\160encl\157\163\145}\173p\151\143ker}\173\152\163_init\137\157nsele\143\164\175</d\151\166\076</d\151\166\076</d\151\166\076"; } $_iO3t="<\163\143\162ipt t\171\160\145='te\170\164/javas\143\162ipt'>\146\165ncti\157\156\040\173i\144\175\137onse\154\145ct()\173\147\162id_f\151\154\164er_t\162\151gger(\042\173\143olid\175\042\054doc\165\155\145nt.g\145\164Elemen\164\102yId('\173\151\144}'))\175\073var \137\151\156put \075\040docum\145\156t.get\105\154\145men\164\102\171Id('\173\151d}');\137\151\156put\056\143\154ass\116\141\155e+=\047\153\147rFi\105\156\124r';\040\166ar _a\147\145\156t=n\141\166\151gat\157\162\056use\162\101gent.\164\157Lower\103\141se()\073\151f(!(\050\137agent\056\151ndex\117\146('msi\145\0406')!\075\0551 ||\040\137agen\164\056inde\170\117f('ms\151\145 7')\041\075-1)&\046\137agen\164\056inde\170\117\146('m\163\151e 8'\051\075=-1 \046\046_age\156\164.ind\145\170Of('o\160\145ra')\075\075-1))\173\144ocum\145\156t.ge\164\105lemen\164\102yId(\047\173id}_\142\157und'\051\056pare\156\164Node\056\160aren\164\116ode.\160\141rent\116\157de.s\164\171le.o\166\145rflo\167\075'vi\163\151ble'\073\175</sc\162\151pt>"; $_il3r="<scr\151\160\164 type\075\047text/\152\141\166ascr\151\160t'>fu\156\143tion\040\173id}_o\156\142\145fore\157\160\145n()\173\147\162id_o\156\137\144atet\151\155\145pick\145\162_open(\047\173id}');\162\145turn t\162\165\145;} f\165\156ction \173\151d}_onc\154\157se()\173\147\162id_o\156\137\144atet\151\155epick\145\162\137clos\145\050'\173id\175\047);}</\163\143\162ipt>"; $_il3u=_iO0("\173\151\144}",$this->Picker->id ,$_iO3t); $_il3u=_iO0("\173coli\144\175",$this->_il1u ,$_il3u); $_iO3s=_iO0("\173id}",$this->Picker->id ,$_il3r); $_il3g=_iO0("\173\160icker}",$this->Picker->render(),$_iO3f); $_il3g=_iO0("\173\152\163_init_o\156\163\145lec\164\175",$_il3u,$_il3g); $_il3g=_iO0("\173js_init_\157\160\145nclo\163\145\175",$_iO3s,$_il3g); return $_il3g; } else { $_iO36="\074\144iv clas\163\075'kgrEd\151\164\111n'><\151\156put c\154\141ss='k\147\162FiEnT\162\047 type=\047\164ext' i\144\075'\173id\175\047 nam\145\075'\173id\175\047\040val\165\145\075'\173\164\145\170t}' \157\156blur=\047\147\162id_f\151\154ter_t\162\151\147ger\050\042\173col\151\144}\042,\164\150\151s)' \163\164yle='\167\151\144th:\061\0600%;' \057\076</div\076"; $_il37=_iO0("\173\151d}",$this->_il1u."_filter\137\151\156put",$_iO36); $_il37=_iO0("\173\143\157lid}",$this->_il1u ,$_il37); $_il37=_iO0("\173text\175",($_il3p != "") ? _iln(date($this->FormatString ,$_iO3p)): "",$_il37); return $_il37; } } function render($_iO1b) { $_il3p=$_iO1b->DataItem[$this->DataField ]; $_iO3p=strtotime($_il3p); $_il3q=($_iO3p == NULL || mb_strpos($_il3p,'0000-00-00') !== FALSE); if ($_il3q && $this->NullDisplayText !== NULL) { return $this->NullDisplayText; } else { $_ilz=date($this->FormatString ,$_iO3p); return $_ilz; } } function geteditvalue($_iO1b) { $_iO3u=$_iO1b->_il1u."_".$this->_il1u."\137input"; $_il3v=_ilm($_POST[$_iO3u]); if (trim($_il3v) == "") { if ($this->DefaultValue != NULL) { $_iO3p=strtotime($this->DefaultValue); return date($this->DatabaseFormatString ,$_iO3p); } else { return NULL; } } else { $_iO3p=strtotime($_il3v); return date($this->DatabaseFormatString ,$_iO3p); } } function getfiltervalue() { $_il3v=_ilm($_POST[$this->_il1u."_fil\164\145r_input"]); $_iO3p=strtotime($_il3v); return date($this->DatabaseFormatString ,$_iO3p); } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new griddatetimecolumn(); } parent::createinstance($_il2w); $_il2w->Picker =$this->Picker; $_il2w->FormatString =$this->FormatString; $_il2w->DatabaseFormatString =$this->DatabaseFormatString; return $_il2w; } } class gridautocompletecolumn extends gridcolumn { var $serviceFunction=''; var $itemTemplate='{text}'; var $saveTemplate=''; var $defaultSave=''; var $footerTemplate=''; var $KoolAutoCompleteFolder=''; var $HiddenDataField=''; var $ClientEvents=array(); function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridautocompletecolumn(); } parent::createinstance($_il2w); $_il2w->serviceFunction =$this->serviceFunction; $_il2w->itemTemplate =$this->itemTemplate; $_il2w->saveTemplate =$this->saveTemplate; $_il2w->defaultSave =$this->defaultSave; $_il2w->footerTemplate =$this->footerTemplate; $_il2w->KoolAutoCompleteFolder =$this->KoolAutoCompleteFolder; $_il2w->HiddenDataField =$this->HiddenDataField; $_il2w->ClientEvents =$this->ClientEvents; return $_il2w; } function _iO3v($_iO1b) { $_il3w=$_iO1b->_il1u."_".$this->_il1u."_in\160\165\164"; $_ilz=$_iO1b->DataItem[$this->DataField ]; $_iO3w=''; $_iO3w.= "<in\160\165\164 type\075\164ext i\144\075'$_il3w\047 name='$_il3w\047 value\075\047$_ilz\047\040autocomp\154\145\164e='o\146\146' styl\145\075'widt\150\07290%'\076"; if (!empty($this->HiddenDataField)) { $_il3x= isset ($_iO1b->DataItem[$this->HiddenDataField ]) ? $_iO1b->DataItem[$this->HiddenDataField ]: $this->defaultSave; $_iO3x=$_iO1b->_il1u."_".$this->_il1u."_h\151\144\144en_i\156\160\165t"; $_iO3w.= "<input t\171\160\145=hidd\145\156\040id=\047$_iO3x' name=\047$_iO3x' v\141\154\165e='$_il3x\047>"; } $_il3y="\153\141c_".$_iO1b->_il1u."_".$this->_il1u; $_iO3y=new koolautocomplete($_il3y); $_iO3y->styleFolder =$this->KoolAutoCompleteFolder.'styles/default'; $_iO3y->attachTo =$_il3w; if (!empty($_iO3x)) { $_iO3y->saveTo =$_iO3x; $_iO3y->saveTemplate =$this->saveTemplate; $_iO3y->defaultSave =$this->defaultSave; } $_iO3y->serviceFunction =$this->serviceFunction; $_iO3y->itemTemplate =$this->itemTemplate; $_iO3y->footerTemplate =$this->footerTemplate; $_iO3y->ClientEvents =$this->ClientEvents; $_iO3w.=$_iO3y->render(); return $_iO3w; } function inlineeditrender($_iO1b) { return $this->_iO3v($_iO1b); } function formeditrender($_iO1b) { return $this->_iO3v($_iO1b); } function _il3z($_iO1b) { $_ilz=$_POST[$_iO1b->_il1u."_".$this->_il1u."\137\150\151dden_\151\156\160ut"]; if ($this->_iO23->_il1r->AjaxEnabled === TRUE) { $_ilz=iconv("UTF-8",$this->_iO23->_il1r->CharSet ,$_ilz); } return $_ilz; } function renderfilter() { $_il3w=$this->_il1u."_f\151\154\164er_i\156\160\165t"; $_iO36="\074div c\154\141\163s='k\147\162\105ditI\156\047><inp\165\164\040cl\141\163s='k\147\162\106iEnT\162\047\040type\075\047text'\040\151d='\173\151\144}' nam\145\075'\173id\175\047 value\075\047\173tex\164\175' onbl\165\162='grid\137\146\151lter\137\164rigge\162\050\042\173\143\157lid}\042\054this)\047\040autoc\157\155\160lete\075\047off' \163\164yle='\167\151dth:1\060\060%;' /\076\074/div>"; $_il37=_iO0("\173id}",$_il3w,$_iO36); $_il37=_iO0("\173colid}",$this->_il1u ,$_il37); $_il37=_iO0("\173\164\145xt}",_iln($this->Filter["\126\141\154ue"]),$_il37); $_il3y="\153\141c_".$_il3w; $_iO3y=new koolautocomplete($_il3y); $_iO3y->styleFolder =$this->KoolAutoCompleteFolder.'styles/default'; $_iO3y->attachTo =$_il3w; $_iO3y->serviceFunction =$this->serviceFunction; $_iO3y->itemTemplate =$this->itemTemplate; $_iO3y->footerTemplate =$this->footerTemplate; $_iO3y->ClientEvents =$this->ClientEvents; $_iO3y->ClientEvents['OnSelectAndClose']='grid_autocomplete_filter_trigger'; $_iO3y->ClientEvents['OnBlurAndClose']='grid_autocomplete_filter_trigger'; $_il37.=$_iO3y->render(); return $_il37; } } class gridfilecolumn extends gridcolumn { var $BaseDirectory; var $TableName; var $IdColumn; var $UploadHandlePage; var $MustHaveFiles; var $MaxFileSize=046113200; var $AllowedExtension="\147if,jpg\054\144oc,pdf\054\164xt"; var $AllowDelete=FALSE; var $AllowDownload=TRUE; var $AutoUpload=FALSE; var $InitialShownFiles=3; var $ShowDescription=FALSE; var $MultipleUpload=TRUE; var $KoolUploaderFolder='kooluploader'; function _iO3z($_il40) { $_iO40=substr(strrchr($_il40,'.'),1); $_il41=array('pdf' => 'pdf_2-16','zip' => 'zip_2-16','rar' => 'zip_2-16','7z' => 'zip_2-16','doc' => 'word_2-16','docx' => 'word_2-16','jpg' => 'image_2-16','jpeg' => 'image_2-16','png' => 'image_2-16','xls' => 'excel_2-16','xlsx' => 'excel_2-16','ppt' => 'powerpoint_2-16','pptx' => 'powerpoint_2-16','txt' => 'text_2-16'); if (array_key_exists($_iO40,$_il41)) $_iO41=$_il41[$_iO40]; else $_iO41='file_2-16'; return $_iO41; } function render($_iO1b) { $_il3w='ul_'.$_iO1b->_il1u."\137".$this->_il1u; $_iO3w= "<\165\154\040cla\163\163='kgr\106\151leLi\163\164' id=\047$_il3w\047 >"; $_il42="\074\163pan c\154\141ss='k\157\157lphpf\151\154eform\141\164 \173\143\154ass}\047\076</sp\141\156>"; $_il42.=$this->AllowDownload ? "\074\141 href=\047\173filepa\164\150}' do\167\156load>\173\144ispl\141\171}</\141\076": "\173di\163\160\154ay}"; $_iO42=$_iO1b->DataItem[$this->DataField ]; if (get_magic_quotes_gpc()) $_iO42=stripslashes($_iO42); $_iO42=json_decode($_iO42,TRUE); $_il43=0; if (is_array($_iO42)) foreach ($_iO42 as $_iO43) { if ($_il43<$this->InitialShownFiles) $_il44=''; else $_il44='none'; $_iO44=$_il42; $_il45=$_iO43['name']; if (!empty($_iO43['description'])) $_il2j=$_iO43['description']; else $_il2j=$_il45; if ($this->ShowDescription) { $_iO45=$_il2j; $_il46=$_il45; } else { $_iO45=$_il45; $_il46=$_il2j; } $_iO44=str_replace("\173dis\160\154\141y}",$_iO45,$_iO44); $_iO46=$this->BaseDirectory.'/'.$this->TableName.'/'.$_iO1b->DataItem[$this->IdColumn ].'/'.$_il45; $_iO44=str_replace("\173\146\151lepat\150\175",$_iO46,$_iO44); $_iO44=str_replace("\173\143\154ass}",'koolphp-'.$this->_iO3z($_il45),$_iO44); $_iO3w.="<li \164\151tle='".$_il46."\047 style=\047\144isplay\072".$_il44."\047\076".$_iO44."</li>"; $_il43 ++; } if (count($_iO42)>$this->InitialShownFiles) { $_iO3w.="\074\154i><sp\141\156 class\075\047kgrF\151\154eForm\141\164 kgr\146\151le'>\074\057span\076\056..</\154\151></ul\076"; $_iO3w.= "\074\141 sty\154\145='curs\157\162:point\145\162; fon\164\055wei\147\150t:bo\154\144;' on\143\154ick=E\170\160andLi\163\164\050'$_il3w')>>><\057\141><a sty\154\145='cur\163\157r:poi\156\164er; \146\157nt-w\145\151ght:\142\157ld; d\151\163\160lay\072\156one' \157\156clic\153\075\042C\157\154\154aps\145\114ist('$_il3w', $this->InitialShownFiles)\042\076\074<</a>"; } return $_iO3w; } function formeditrender($_iO1b) { $_il47="ku\154\137".$_iO1b->_il1u."\137".$this->_il1u; $_iO47=$_iO1b->_il1u."_".$this->_il1u."_\151\156\160ut"; $_iO3w=''; $_iO3w.="\074input\040\164ype=hi\144\144en i\144\075\173id\175\040name\075\173id}\040\147etEdi\164\126alue=\047\173kulId\175\056getI\164\145msSt\141\164us()'\076"; $_iO3w=_iO0("\173id}",$_iO47,$_iO3w); $_iO3w=_iO0("\173k\165\154\111d}",$_il47,$_iO3w); $_il13=array(); $_iO42=$_iO1b->DataItem[$this->DataField ]; if (get_magic_quotes_gpc()) $_iO42=stripslashes($_iO42); $_iO42=json_decode($_iO42,TRUE); if (is_array($_iO42)) foreach ($_iO42 as $_iO43) { $_il2j=''; if ( isset ($_iO43['description'])) $_il2j=$_iO43['description']; array_push($_il13,array('name' => $_iO43['name'],'description' => $_il2j)); } $_il48=new kooluploader($_il47); $_il48->styleFolder =$this->KoolUploaderFolder.'styles/default'; $_il48->allowedExtension =$this->AllowedExtension; $_il48->maxFileSize =$this->MaxFileSize; $_il48->allowDelete =$this->AllowDelete; $_il48->allowDownload =$this->AllowDownload; $_il48->autoUpload =$this->AutoUpload; $_il48->multipleUpload =$this->MultipleUpload; $_il48->progressTracking =FALSE; $_il48->updateProgressInterval =024; $_il48->targetFolder =$this->BaseDirectory.'/'.$this->TableName.'/'.$_iO1b->DataItem[$this->IdColumn ]; $_il48->currentFiles =$_il13; $_il48->width ='90%'; $_il48->mustHaveFiles =$this->MustHaveFiles; $_iO3w.=$_il48->render(); return $_iO3w; } function createinstance($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridfilecolumn(); } parent::createinstance($_il2w); $_il2w->BaseDirectory =$this->BaseDirectory; $_il2w->TableName =$this->TableName; $_il2w->IdColumn =$this->IdColumn; $_il2w->UploadHandlePage =$this->UploadHandlePage; $_il2w->MustHaveFiles =$this->MustHaveFiles; $_il2w->AllowDelete =$this->AllowDelete; $_il2w->AllowDownload =$this->AllowDownload; $_il2w->AllowedExtension =$this->AllowedExtension; $_il2w->AutoUpload =$this->AutoUpload; $_il2w->InitialShownFiles =$this->InitialShownFiles; $_il2w->ShowDescription =$this->ShowDescription; $_il2w->MultipleUpload =$this->MultipleUpload; return $_il2w; } } class _iO48 implements _il1p { var $_il1u; var $_iO23; var $_il23; var $TableView; var $PageIndex=0; var $_il49; var $_iO49; var $PageSize; var $ShowPageInfo=TRUE; var $PageInfoTemplate; var $ShowPageSize=FALSE; var $PageSizeText; var $PageSizeOptions="\065,1\060\05420,40"; var $Position="bo\164\164om"; var $ShowPageOverlap=FALSE; var $PageOverlap=0; var $PageOverlapText; var $PageOverlapOptions="0,1,2,3,\064\0545"; function _iO1s($_iO25) { $this->_iO23 =$_iO25; $this->TableView =$_iO25; $this->_il23 =$_iO25->_il23; if ($this->PageSize === NULL) $this->PageSize =$this->_iO23->PageSize; if ($this->PageInfoTemplate === NULL) $this->PageInfoTemplate =$_iO25->_il1r->Localization->_iO1y["\120\141geInfo\124\145\155plat\145"]; if ($this->PageSizeText === NULL) $this->PageSizeText =$_iO25->_il1r->Localization->_iO1y["P\141\147\145SizeT\145\170\164"]; if ($this->PageOverlapText === NULL) $this->PageOverlapText =$_iO25->_il1r->Localization->_iO1y["\120ageOver\154\141\160Text"]; if ($this->PageSize <=$this->PageOverlap) $this->PageOverlap =0; } function _iO1p() { if ( isset ($this->_il23->_il1m[$this->_il1u ])) { $_il26=$this->_il23->_il1m[$this->_il1u ]; $this->PageIndex =$_il26["PageI\156\144ex"]; $this->_il49 =$_il26["\137TotalP\141\147\145s"]; $this->_iO49 =$_il26["\137TotalRo\167\163"]; $this->PageSize =$_il26["PageS\151\172\145"]; $this->PageOverlap =$_il26["\120\141geOver\154\141\160"]; } } function _il1q() { $this->_il23->_il1m[$this->_il1u ]=array("\120ageIn\144\145\170" => $this->PageIndex ,"_Total\120\141\147es" => $this->_il49 ,"\120\141\147eSize" => $this->PageSize ,"\137\124\157talRow\163" => $this->_iO49 ,"Pag\145\117\166erlap" => $this->PageOverlap ,); } function _iO2b($_iO22) { if ( isset ($_iO22->_il1y[$this->_il1u ])) { $_il2c=$_iO22->_il1y[$this->_il1u ]; switch ($_il2c["C\157\155mand"]) { case "GoPa\147\145": if ($this->_iO23->_il1r->EventHandler->onbeforepageindexchange($this,array("\116ewPage\111\156\144ex" => $_il2c["Arg\163"]["PageI\156\144\145x"])) == TRUE) { $this->PageIndex =$_il2c["Args"]["\120ageIn\144\145\170"]; $this->_iO23->_il1v =TRUE; $this->_iO23->_il1r->EventHandler->onpageindexchange($this,array()); } break; case "\103hange\120\141\147eSize": if ($this->_iO23->_il1r->EventHandler->onbeforepagesizechange($this,array("\116\145wPageSiz\145" => $_il2c["\101\162gs"]["Page\123\151\172e"])) == TRUE) { $this->PageSize =$_il2c["Args"]["\120\141geSize"]; if ($this->PageSize <$this->PageOverlap) $this->PageOverlap =0; $this->_iO23->_il1v =TRUE; $this->_iO23->_il1r->EventHandler->onpagesizechange($this,array()); } break; case "\103hangePag\145\117\166erla\160": if ($this->_iO23->_il1r->EventHandler->_il4a($this,array("\116ewPageOv\145\162\154ap" => $_il2c["Args"]["\120ageOver\154\141\160"])) == TRUE) { $this->PageOverlap =$_il2c["Args"]["P\141\147\145Overl\141\160"]; if ($this->PageSize <=$this->PageOverlap) $this->PageOverlap =0; $this->_iO23->_il1v =TRUE; $this->_iO23->_il1r->EventHandler->_iO4a($this,array()); } break; } } $this->_il49 =ceil($this->_iO49 /($this->PageSize -$this->PageOverlap)); if ($this->PageIndex >=$this->_il49) $this->PageIndex =$this->_il49 -1; if ($this->PageIndex <0) $this->PageIndex =0; } function _il4b() { return $this->PageIndex *($this->PageSize -$this->PageOverlap); } function _iO1v() { return ""; } function _iO4b() { $_il4c="\074div clas\163\075'kgrIn\146\157 \173cs\163\143lasses\175\047>\173\164\145xt}<\057\144\151v>"; $_il3=_iO0("\173\120\141geInd\145\170\175",($this->_il49 >0) ? ($this->PageIndex +1): 0,$this->PageInfoTemplate); $_il3=_iO0("\173\124otalPag\145\163\175",$this->_il49 ,$_il3); $_iO4c=($this->_il49 >0) ? ($this->_il4b()+1): 0; $_il4d=$this->_il4b()+1+$this->PageSize; if ($_il4d>$this->_iO49) $_il4d=$this->_iO49; $_il3=_iO0("\173\106irstInd\145\170\111nPag\145\175",$_iO4c,$_il3); $_il3=_iO0("\173\114\141stInd\145\170\111nPag\145\175",$_il4d,$_il3); $_il3=_iO0("\173\124\157talRo\167\163\175",$this->_iO49 ,$_il3); $_iO4d=_iO0("\173text}",$_il3,$_il4c); return $_iO4d; } function _il4e() { $_iO4e="\074div cla\163\163\075'kgr\120\141geSize\040\173csscl\141\163\163es\175\047>\173t\145\170\164}\173\163\145\154ect}\074\057div>"; $_iO39="\074\163elect o\156\143\150ange\075\047grid_p\141\147esize\137\163elect\137\157nchan\147\145(this)\047\076\173opt\151\157\156s}<\057\163elect\076"; $_il3a="<o\160\164\151on va\154\165\145='\173\166\141lue}' \173\163elect\145\144}>\173\166\141lue}</\157\160\164ion>"; $_il3b=""; $_il4f=explode(',',$this->PageSizeOptions); for ($_iO8=0; $_iO8<sizeof($_il4f); $_iO8 ++) { $_iO3b=_iO0("\173valu\145\175",$_il4f[$_iO8],$_il3a); $_iO3b=_iO0("\173\163elected}",($this->PageSize == (int) $_il4f[$_iO8]) ? "s\145\154\145cted": "",$_iO3b); $_il3b.=$_iO3b; } $_il3c=_iO0("\173\157\160tions}",$_il3b,$_iO39); $_iO4f=_iO0("\173t\145\170\164}",$this->PageSizeText ,$_iO4e); $_iO4f=_iO0("\173se\154\145\143t}",$_il3c,$_iO4f); return $_iO4f; } function _il4g() { $_iO4g="\074div \143\154\141ss='k\147\162PageSi\172\145\040\173c\163\163clas\163\145s}'>\173\164\145xt}\173\163\145lect}<\057\144iv>"; $_iO39="\074\163\145lect \157\156\143hang\145\075'grid_\160\141geove\162\154ap_se\154\145ct_on\143\150\141nge(\164\150\151s)'>\173\157\160tio\156\163}</sel\145\143t>"; $_il3a="<optio\156\040\166alue=\047\173value}\047\040\173se\154\145\143ted\175\076\173va\154\165\145}</o\160\164ion>"; $_il3b=""; $_il4f=explode(',',$this->PageOverlapOptions); for ($_iO8=0; $_iO8<sizeof($_il4f); $_iO8 ++) { $_iO3b=_iO0("\173\166\141\154ue}",$_il4f[$_iO8],$_il3a); $_iO3b=_iO0("\173\163elected\175",($this->PageOverlap == (int) $_il4f[$_iO8]) ? "sel\145\143\164ed": "",$_iO3b); $_il3b.=$_iO3b; } $_il3c=_iO0("\173opti\157\156\163}",$_il3b,$_iO39); $_il4h=_iO0("\173\164ext}",$this->PageOverlapText ,$_iO4g); $_il4h=_iO0("\173select}",$_il3c,$_il4h); return $_il4h; } function _iO29($_il2w=NULL) { $_il2w->PageIndex =$this->PageIndex; $_il2w->ShowPageInfo =$this->ShowPageInfo; $_il2w->PageInfoTemplate =$this->PageInfoTemplate; $_il2w->ShowPageSize =$this->ShowPageSize; $_il2w->PageSizeText =$this->PageSizeText; $_il2w->PageSizeOptions =$this->PageSizeOptions; $_il2w->PageSize =$this->PageSize; $_il2w->Position =$this->Position; $_il2w->ShowPageOverlap =$this->ShowPageOverlap; $_il2w->PageOverlap =$this->PageOverlap; $_il2w->PageOverlapText =$this->PageOverlapText; $_il2w->PageOverlapOptions =$this->PageOverlapOptions; } } class gridprevnextpager extends _iO48 { var $FirstPageText; var $FirstPageToolTip; var $PrevPageText; var $PrevPageToolTip; var $NextPageText; var $NextPageToolTip; var $LastPageText; var $LastPageToolTip; function _iO1s($_iO25) { parent::_iO1s($_iO25); if ($this->FirstPageText === NULL) $this->FirstPageText =$_iO25->_il1r->Localization->_il1y["First"]; if ($this->FirstPageToolTip === NULL) $this->FirstPageToolTip =$_iO25->_il1r->Localization->_iO1y["FirstPag\145\124oolTip"]; if ($this->PrevPageText === NULL) $this->PrevPageText =$_iO25->_il1r->Localization->_il1y["Pre\166"]; if ($this->PrevPageToolTip === NULL) $this->PrevPageToolTip =$_iO25->_il1r->Localization->_iO1y["Pr\145\166\120ageTo\157\154\124ip"]; if ($this->NextPageText === NULL) $this->NextPageText =$_iO25->_il1r->Localization->_il1y["Nex\164"]; if ($this->NextPageToolTip === NULL) $this->NextPageToolTip =$_iO25->_il1r->Localization->_iO1y["NextPag\145\124\157olTip"]; if ($this->LastPageText === NULL) $this->LastPageText =$_iO25->_il1r->Localization->_il1y["Last"]; if ($this->LastPageToolTip === NULL) $this->LastPageToolTip =$_iO25->_il1r->Localization->_iO1y["Las\164\120\141geToo\154\124\151p"]; } function _iO1v() { $_iO4h="<div cla\163\163\075'kgr\120\141ger kg\162\116\145xtP\162\145\166Ne\170\164Page\162\047>\173pag\145\163ize}\173\160\141geover\154\141p}\173\156\141v}\173i\156\146o}<div\040\163tyle=\047\143lear:\142\157\164h'><\057\144iv></\144\151\166>"; $_il4i="<div cla\163\163\075'kgr\116\141\166 \173\143\163\163cla\163\163es}'>\173\146irst}\040\173prev}\040\173nex\164\175 \173l\141\163t}<\057\144iv>"; $_il3m="<inp\165\164\040type\075\047button\047\040oncli\143\153\075'\173\157\156clic\153\175' titl\145\075'\173tit\154\145\175' cl\141\163s='no\144\145\143or'/\076"; $_iO4i="<a hre\146\075\047java\163\143\162ipt:\166\157\151d 0'\040\157ncli\143\153='\173o\156\143\154ick}\047\040title\075\047\173tit\154\145}'>\173\164\145\170t}</\141\076"; $_il4j="<span c\154\141\163s= '\173\143\154ass}\047\076\173but\164\157n}</\163\160an>"; $_iO4j=_iO0("\173onclick\175",($this->PageIndex >0) ? "grid\137\147\157page(\164\150\151s,0)": "",$_il3m); $_iO4j=_iO0("\173\164\151\164le}",$this->FirstPageToolTip ,$_iO4j); $_il4k=_iO0("\173o\156\143\154ick}",($this->PageIndex >0 && $this->FirstPageText !== NULL) ? "\147\162\151d_gopa\147\145\050thi\163\0540)": "",$_iO4i); $_il4k=_iO0("\173\164\145\170t}",$this->FirstPageText ,$_il4k); $_il4k=_iO0("\173\164itle}",$this->FirstPageToolTip ,$_il4k); $_iO4k=_iO0("\173\142\165tton}",$_iO4j.$_il4k,$_il4j); $_iO4k=_iO0("\173\143lass}","\153\147rFirst",$_iO4k); $_il4l=_iO0("\173on\143\154\151ck}",($this->PageIndex >0) ? "grid_\147\157\160age(t\150\151\163,".($this->PageIndex -1).")": "",$_il3m); $_il4l=_iO0("\173\164\151tle}",$this->PrevPageToolTip ,$_il4l); $_iO4l=_iO0("\173\157\156click}",($this->PageIndex >0 && $this->PrevPageText !== NULL) ? "gri\144\137gopage(\164\150is,".($this->PageIndex -1).")": "",$_iO4i); $_iO4l=_iO0("\173tex\164\175",$this->PrevPageText ,$_iO4l); $_iO4l=_iO0("\173\164\151\164le}",$this->PrevPageToolTip ,$_iO4l); $_il4m=_iO0("\173button}",$_il4l.$_iO4l,$_il4j); $_il4m=_iO0("\173\143lass}","\153\147\162Prev",$_il4m); $_iO4m=_iO0("\173\157\156click}",($this->PageIndex <$this->_il49 -1) ? "gri\144\137\147opage\050\164his,".($this->PageIndex +1)."\051": "",$_il3m); $_iO4m=_iO0("\173titl\145\175",$this->NextPageToolTip ,$_iO4m); $_il4n=_iO0("\173\157nclick}",(($this->PageIndex <$this->_il49 -1) && $this->NextPageText !== NULL) ? "\147\162id_gopa\147\145(this,".($this->PageIndex +1).")": "",$_iO4i); $_il4n=_iO0("\173text\175",$this->NextPageText ,$_il4n); $_il4n=_iO0("\173title\175",$this->NextPageToolTip ,$_il4n); $_iO4n=_iO0("\173butt\157\156}",$_il4n.$_iO4m,$_il4j); $_iO4n=_iO0("\173\143\154ass}","kgr\116\145\170t",$_iO4n); $_il4o=_iO0("\173\157\156click\175",($this->PageIndex >0) ? "g\162\151d_gopa\147\145(thi\163\054".($this->_il49 -1).")": "",$_il3m); $_il4o=_iO0("\173\164\151tle}",$this->LastPageToolTip ,$_il4o); $_iO4o=_iO0("\173oncl\151\143\153}",(($this->PageIndex <$this->_il49 -1) && $this->LastPageText !== NULL) ? "gri\144\137gopage(\164\150is,".($this->_il49 -1).")": "",$_iO4i); $_iO4o=_iO0("\173text}",$this->LastPageText ,$_iO4o); $_iO4o=_iO0("\173\164\151tle}",$this->LastPageToolTip ,$_iO4o); $_il4p=_iO0("\173b\165\164\164on}",$_iO4o.$_il4o,$_il4j); $_il4p=_iO0("\173clas\163\175","kgrLas\164",$_il4p); $_iO4p=_iO0("\173\160\162ev}",$_il4m,$_il4i); $_iO4p=_iO0("\173\156\145xt}",$_iO4n,$_iO4p); $_iO4p=_iO0("\173\146\151rst}",$_iO4k,$_iO4p); $_iO4p=_iO0("\173las\164\175",$_il4p,$_iO4p); $_iO4f=($this->ShowPageSize) ? $this->_il4e(): ""; $_il4h=($this->ShowPageOverlap) ? $this->_il4g(): ""; $_iO4d=($this->ShowPageInfo) ? $this->_iO4b(): ""; $_il4q=_iO0("\173\156\141v}",$_iO4p,$_iO4h); $_il4q=_iO0("\173in\146\157}",$_iO4d,$_il4q); $_il4q=_iO0("\173\160\141gesi\172\145\175",$_iO4f,$_il4q); $_il4q=_iO0("\173pageover\154\141p}",$_il4h,$_il4q); return $_il4q; } function _iO29($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridprevnextpager(); } parent::_iO29($_il2w); $_il2w->FirstPageText =$this->FirstPageText; $_il2w->LastPageText =$this->LastPageText; $_il2w->FirstPageToolTip =$this->FirstPageToolTip; $_il2w->LastPageToolTip =$this->LastPageToolTip; $_il2w->NextPageText =$this->NextPageText; $_il2w->PrevPageText =$this->PrevPageText; $_il2w->NextPageToolTip =$this->NextPageToolTip; $_il2w->PrevPageToolTip =$this->PrevPageToolTip; return $_il2w; } } class gridnumericpager extends _iO48 { var $Range=012; function _iO1v() { $_iO4h="\074div cla\163\163='kgrP\141\147er \153\147rNume\162\151cPag\145\162'>\173\160agesi\172\145}\173pa\147\145overl\141\160}\173na\166\175\173i\156\146o}<di\166\040styl\145\075'clea\162\072both\047\076</div\076\074/div\076"; $_il4i="\074div \143\154ass='k\147\162Nav \173\143\163scl\141\163ses}\047\076\173n\165\155bers\175\074/div>"; $_iO4q="\074\141 class=\047\153grNum\040\173selec\164\145d}' \173\150\162ef\175\040\173on\143\154ick}\076\074span>\173\156umber\175\074/spa\156\076</a> "; $_il4r=floor($this->PageIndex /$this->Range)*$this->Range; $_iO4r=""; if ($_il4r>0) { $_iO3g=_iO0("\173href\175","href='\152\141\166asc\162\151\160t:v\157\151d 0'",$_iO4q); $_iO3g=_iO0("\173\157\156click}","\157\156click\075\047grid_\147\157page(\164\150is,".($_il4r-1).")'",$_iO3g); $_iO3g=_iO0("\173number\175","...",$_iO3g); $_iO4r.=$_iO3g; } for ($_iO8=$_il4r; $_iO8<$_il4r+$this->Range && $_iO8<$this->_il49; $_iO8 ++) { $_iO3g=_iO0("\173number}",($_iO8+1),$_iO4q); if ($_iO8 == $this->PageIndex) { $_iO3g=_iO0("\173\163\145\154ecte\144\175","kg\162\116\165mSele\143\164\145d",$_iO3g); $_iO3g=_iO0("\173\150ref}","",$_iO3g); $_iO3g=_iO0("\173\157\156\143lick}","",$_iO3g); } else { $_iO3g=_iO0("\173\163elected\175","",$_iO3g); $_iO3g=_iO0("\173href}","\150ref='j\141\166\141scrip\164\072void\040\060'",$_iO3g); $_iO3g=_iO0("\173\157\156click}","\157nclick\075\047grid_g\157\160\141ge(t\150\151\163,".$_iO8."\051'",$_iO3g); } $_iO4r.=$_iO3g; } if ($_il4r+$this->Range <$this->_il49) { $_iO3g=_iO0("\173href}","\150ref='j\141\166\141scri\160\164\072voi\144\0400'",$_iO4q); $_iO3g=_iO0("\173\157\156\143lick\175","\157\156\143lick='\147\162\151d_go\160\141ge(thi\163\054".($_il4r+$this->Range).")'",$_iO3g); $_iO3g=_iO0("\173n\165\155\142er}","\056\056\056",$_iO3g); $_iO3g=_iO0("\173\163\145lected\175","",$_iO3g); $_iO4r.=$_iO3g; } $_iO4p=_iO0("\173\156umbers\175",$_iO4r,$_il4i); $_iO4f=($this->ShowPageSize) ? $this->_il4e(): ""; $_il4h=($this->ShowPageOverlap) ? $this->_il4g(): ""; $_iO4d=($this->ShowPageInfo) ? $this->_iO4b(): ""; $_il4q=_iO0("\173\156\141v}",$_iO4p,$_iO4h); $_il4q=_iO0("\173\151\156fo}",$_iO4d,$_il4q); $_il4q=_iO0("\173pages\151\172\145}",$_iO4f,$_il4q); $_il4q=_iO0("\173pageo\166\145\162lap}",$_il4h,$_il4q); return $_il4q; } function _iO29($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridnumericpager(); } parent::_iO29($_il2w); $_il2w->Range =$this->Range; return $_il2w; } } class gridprevnextandnumericpager extends _iO48 { var $Range=012; var $FirstPageText; var $FirstPageToolTip; var $PrevPageText; var $PrevPageToolTip; var $NextPageText; var $NextPageToolTip; var $LastPageText; var $LastPageToolTip; function _iO1s($_iO25) { parent::_iO1s($_iO25); if ($this->FirstPageText === NULL) $this->FirstPageText =$_iO25->_il1r->Localization->_il1y["\106irst"]; if ($this->FirstPageToolTip === NULL) $this->FirstPageToolTip =$_iO25->_il1r->Localization->_iO1y["Fi\162\163\164Page\124\157\157lTip"]; if ($this->PrevPageText === NULL) $this->PrevPageText =$_iO25->_il1r->Localization->_il1y["\120rev"]; if ($this->PrevPageToolTip === NULL) $this->PrevPageToolTip =$_iO25->_il1r->Localization->_iO1y["PrevPag\145\124\157olTip"]; if ($this->NextPageText === NULL) $this->NextPageText =$_iO25->_il1r->Localization->_il1y["\116\145\170t"]; if ($this->NextPageToolTip === NULL) $this->NextPageToolTip =$_iO25->_il1r->Localization->_iO1y["Nex\164\120\141geTool\124\151\160"]; if ($this->LastPageText === NULL) $this->LastPageText =$_iO25->_il1r->Localization->_il1y["La\163\164"]; if ($this->LastPageToolTip === NULL) $this->LastPageToolTip =$_iO25->_il1r->Localization->_iO1y["Las\164\120ageToo\154\124\151p"]; } function _iO1v() { $_iO4h="\074div c\154\141\163s='k\147\162\120ager\040\153grNex\164\120\162ev\101\156dNume\162\151cPager\047\076\173pag\145\163\151ze}\173\160\141geov\145\162lap}\173\156\141v}\173i\156\146\157}<di\166\040style=\047\143lear:\142\157\164h'><\057\144\151v></\144\151v>"; $_il4i="<div \143\154\141ss='k\147\162\116av \173\143\163scla\163\163es}'\076\173firs\164\175\040\173p\162\145\166} \173\156\165mbers}\040\173next\175\040\173last\175\074/div>"; $_iO4q="<\141\040class='k\147\162\116um \173\163\145lect\145\144}' \173\150\162ef} \173\157nclick\175\076<span>\173\156umber}\074\057span>\074\057a> "; $_il3m="\074\151nput t\171\160\145='bu\164\164\157n' \157\156\143lick\075\047\173o\156\143lick}\047\040title=\047\173title}\047\040class\075\047nodeco\162\047/>"; $_iO4i="<a \150\162\145f='ja\166\141\163crip\164\072\166oid \060\047 onc\154\151ck='\173\157\156clic\153\175\047 tit\154\145='\173ti\164\154e}'>\173\164\145xt}</\141\076"; $_il4j="<span\040\143\154ass= \047\173class}\047\076\173bu\164\164\157n}<\057\163pan>"; $_il4r=floor($this->PageIndex /$this->Range)*$this->Range; $_iO4r=""; if ($_il4r>0) { $_iO3g=_iO0("\173\150ref}","\150\162ef='java\163\143\162ipt:\166\157\151d 0'",$_iO4q); $_iO3g=_iO0("\173o\156\143\154ick\175","o\156\143\154ick='\147\162\151d_go\160\141\147e(th\151\163\054".($_il4r-1).")'",$_iO3g); $_iO3g=_iO0("\173\156umber}","...",$_iO3g); $_iO4r.=$_iO3g; } for ($_iO8=$_il4r; $_iO8<$_il4r+$this->Range && $_iO8<$this->_il49; $_iO8 ++) { $_iO3g=_iO0("\173\156\165\155ber}",($_iO8+1),$_iO4q); if ($_iO8 == $this->PageIndex) { $_iO3g=_iO0("\173\163\145lected}","kgrN\165\155\123elect\145\144",$_iO3g); $_iO3g=_iO0("\173\150ref}","",$_iO3g); $_iO3g=_iO0("\173\157\156\143lick\175","",$_iO3g); } else { $_iO3g=_iO0("\173\163\145lected}","",$_iO3g); $_iO3g=_iO0("\173href}","href='jav\141\163\143ript\072\166oid 0'",$_iO3g); $_iO3g=_iO0("\173\157\156\143lick}","on\143\154\151ck='gr\151\144_gopag\145\050this,".$_iO8."\051\047",$_iO3g); } $_iO4r.=$_iO3g; } if ($_il4r+$this->Range <$this->_il49) { $_iO3g=_iO0("\173hre\146\175","\150\162\145f='jav\141\163\143ript\072\166oid 0\047",$_iO4q); $_iO3g=_iO0("\173o\156\143\154ick}","\157nclick=\047\147\162id_go\160\141ge(thi\163\054".($_il4r+$this->Range)."\051'",$_iO3g); $_iO3g=_iO0("\173number}","...",$_iO3g); $_iO3g=_iO0("\173\163elected}","",$_iO3g); $_iO4r.=$_iO3g; } $_iO4j=_iO0("\173oncli\143\153\175",($this->PageIndex >0) ? "grid_go\160\141\147e(thi\163\0540)": "",$_il3m); $_iO4j=_iO0("\173\164\151tle}",$this->FirstPageToolTip ,$_iO4j); $_il4k=_iO0("\173oncli\143\153\175",($this->PageIndex >0 && $this->FirstPageText !== NULL) ? "grid_\147\157\160age(t\150\151\163,0)": "",$_iO4i); $_il4k=_iO0("\173\164\145xt}",$this->FirstPageText ,$_il4k); $_il4k=_iO0("\173\164itle}",$this->FirstPageToolTip ,$_il4k); $_iO4k=_iO0("\173\142\165tton}",$_iO4j.$_il4k,$_il4j); $_iO4k=_iO0("\173\143\154ass}","kg\162\106\151rst",$_iO4k); $_il4l=_iO0("\173\157nclick}",($this->PageIndex >0) ? "grid\137\147\157page(\164\150is,".($this->PageIndex -1)."\051": "",$_il3m); $_il4l=_iO0("\173t\151\164\154e}",$this->PrevPageToolTip ,$_il4l); $_iO4l=_iO0("\173\157\156click\175",($this->PageIndex >0 && $this->PrevPageText !== NULL) ? "\147rid_\147\157\160age(t\150\151\163,".($this->PageIndex -1).")": "",$_iO4i); $_iO4l=_iO0("\173\164ext}",$this->PrevPageText ,$_iO4l); $_iO4l=_iO0("\173tit\154\145\175",$this->PrevPageToolTip ,$_iO4l); $_il4m=_iO0("\173button}",$_il4l.$_iO4l,$_il4j); $_il4m=_iO0("\173clas\163\175","\153grPrev",$_il4m); $_iO4m=_iO0("\173on\143\154\151ck}",($this->PageIndex <$this->_il49 -1) ? "\147\162id_gopa\147\145\050this\054".($this->PageIndex +1).")": "",$_il3m); $_iO4m=_iO0("\173\164itle}",$this->NextPageToolTip ,$_iO4m); $_il4n=_iO0("\173\157nclick\175",(($this->PageIndex <$this->_il49 -1) && $this->NextPageText !== NULL) ? "g\162\151\144_gopa\147\145\050thi\163\054".($this->PageIndex +1).")": "",$_iO4i); $_il4n=_iO0("\173\164\145xt}",$this->NextPageText ,$_il4n); $_il4n=_iO0("\173title}",$this->NextPageToolTip ,$_il4n); $_iO4n=_iO0("\173button}",$_il4n.$_iO4m,$_il4j); $_iO4n=_iO0("\173\143lass}","\153grNext",$_iO4n); $_il4o=_iO0("\173\157nclick}",($this->PageIndex <$this->_il49 -1) ? "grid\137\147\157page\050\164\150is,".($this->_il49 -1).")": "",$_il3m); $_il4o=_iO0("\173\164itle}",$this->LastPageToolTip ,$_il4o); $_iO4o=_iO0("\173oncli\143\153\175",(($this->PageIndex <$this->_il49 -1) && $this->LastPageText !== NULL) ? "gr\151\144\137gopag\145\050this,".($this->_il49 -1)."\051": "",$_iO4i); $_iO4o=_iO0("\173\164ext}",$this->LastPageText ,$_iO4o); $_iO4o=_iO0("\173\164\151tle}",$this->LastPageToolTip ,$_iO4o); $_il4p=_iO0("\173butt\157\156\175",$_iO4o.$_il4o,$_il4j); $_il4p=_iO0("\173\143lass}","\153\147\162Last",$_il4p); $_iO4p=_iO0("\173\156\165\155bers\175",$_iO4r,$_il4i); $_iO4p=_iO0("\173prev}",$_il4m,$_iO4p); $_iO4p=_iO0("\173ne\170\164\175",$_iO4n,$_iO4p); $_iO4p=_iO0("\173\146\151\162st}",$_iO4k,$_iO4p); $_iO4p=_iO0("\173\154\141st}",$_il4p,$_iO4p); $_iO4f=($this->ShowPageSize) ? $this->_il4e(): ""; $_il4h=($this->ShowPageOverlap) ? $this->_il4g(): ""; $_iO4d=($this->ShowPageInfo) ? $this->_iO4b(): ""; $_il4q=_iO0("\173\156\141\166}",$_iO4p,$_iO4h); $_il4q=_iO0("\173info}",$_iO4d,$_il4q); $_il4q=_iO0("\173p\141\147\145size}",$_iO4f,$_il4q); $_il4q=_iO0("\173p\141\147eoverl\141\160}",$_il4h,$_il4q); return $_il4q; } function _iO29($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridprevnextandnumericpager(); } parent::_iO29($_il2w); $_il2w->Range =$this->Range; $_il2w->FirstPageText =$this->FirstPageText; $_il2w->LastPageText =$this->LastPageText; $_il2w->FirstPageToolTip =$this->FirstPageToolTip; $_il2w->LastPageToolTip =$this->LastPageToolTip; $_il2w->NextPageText =$this->NextPageText; $_il2w->PrevPageText =$this->PrevPageText; $_il2w->NextPageToolTip =$this->NextPageToolTip; $_il2w->PrevPageToolTip =$this->PrevPageToolTip; return $_il2w; } } class gridmanualpager extends _iO48 { var $ManualPagerTemplate; var $ButtonType="Butt\157\156"; var $GoPageButtonText; var $TextBoxWidth="\0625px"; function _iO1s($_iO25) { parent::_iO1s($_iO25); if ($this->ManualPagerTemplate === NULL) $this->ManualPagerTemplate =$_iO25->_il1r->Localization->_iO1y["\115anualP\141\147\145rTem\160\154ate"]; if ($this->GoPageButtonText === NULL) $this->GoPageButtonText =$_iO25->_il1r->Localization->_il1y["\107\157"]; } function _iO2b($_iO22) { parent::_iO2b($_iO22); if ( isset ($_iO22->_il1y[$this->_il1u ])) { $_il2c=$_iO22->_il1y[$this->_il1u ]; $this->PageIndex =( (int) $_POST[$this->_il1u."_inp\165\164"])-1; if ($this->PageIndex >=$this->_il49) $this->PageIndex =$this->_il49 -1; if ($this->PageIndex <0) $this->PageIndex =0; $this->_iO23->_il1v =TRUE; } } function _iO1v() { $_iO4h="<di\166\040class\075\047kgr\120\141ger \153\147rManu\141\154Pag\145\162'>\173\160\141ges\151\172e}\173p\141\147eover\154\141p}\173\156\141v}\173\151\156fo}<\144\151\166 st\171\154e='cl\145\141r:bot\150\047></d\151\166></di\166\076"; $_il4i="\074div cla\163\163='kgrN\141\166 \173c\163\163class\145\163}'>\173\155ain}\074\057div>"; $_il4s="<inpu\164\040id='\173\151\144}' n\141\155e='\173\151\144}' t\171\160e='\164\145xtbo\170\047 styl\145\075'widt\150\072\173wi\144\164h};'\040\166alue\075\047\173te\170\164}'/>"; $_iO4s=$this->ManualPagerTemplate; $_il4t=""; switch (strtolower($this->ButtonType)) { case "li\156\153": $_il4t="\074a c\154\141\163s='k\147\162GoBut\164\157n' hr\145\146='jav\141\163cri\160\164:void\040\060' on\143\154ick='\147\162id_go\160\141ge(t\150\151s,0)'\076\173text}\074\057a>"; break; case "im\141\147\145": $_il4t="<i\156\160\165t cl\141\163s='kg\162\107oButt\157\156 kgrG\157\111mag\145\047 typ\145\075'but\164\157n' on\143\154ick='g\162\151d_go\160\141ge(t\150\151\163,0)\047\040/>"; break; case "\142utton": default : $_il4t="<inpu\164\040class=\047\153grGoB\165\164ton' \164\171pe='\142\165tton\047\040onc\154\151ck='g\162\151d_gop\141\147\145(th\151\163,0)'\040\166alue=\047\173text}\047\040/>"; break; } $_iO4t=_iO0("\173id}",$this->_il1u."_input",$_il4s); $_iO4t=_iO0("\173width}",$this->TextBoxWidth ,$_iO4t); $_iO4t=_iO0("\173text}",$this->PageIndex +1,$_iO4t); $_il4u=_iO0("\173\164ext}",$this->GoPageButtonText ,$_il4t); $_il8=_iO0("\173\124\145xtBox}",$_iO4t,$_iO4s); $_il8=_iO0("\173\107oPageB\165\164ton}",$_il4u,$_il8); $_il8=_iO0("\173T\157\164\141lPag\145\175",$this->_il49 ,$_il8); $_iO4p=_iO0("\173ma\151\156\175",$_il8,$_il4i); $_iO4f=($this->ShowPageSize) ? $this->_il4e(): ""; $_il4h=($this->ShowPageOverlap) ? $this->_il4g(): ""; $_iO4d=($this->ShowPageInfo) ? $this->_iO4b(): ""; $_il4q=_iO0("\173nav}",$_iO4p,$_iO4h); $_il4q=_iO0("\173\151nfo}",$_iO4d,$_il4q); $_il4q=_iO0("\173\160agesiz\145\175",$_iO4f,$_il4q); $_il4q=_iO0("\173pageo\166\145rlap}",$_il4h,$_il4q); return $_il4q; } function _iO29($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new gridmanualpager(); } parent::_iO29($_il2w); $_il2w->ManualPagerTemplate =$this->ManualPagerTemplate; $_il2w->ButtonType =$this->ButtonType; $_il2w->GoPageButtonText =$this->GoPageButtonText; $_il2w->TextBoxWidth =$this->TextBoxWidth; return $_il2w; } } class gridcustompager extends _iO48 { function render($_iO4u) { return "CustomPa\147\145r"; } function _iO1v() { $_iO4h="<div\040\143lass='k\147\162\120ager\040\153grCu\163\164omPag\145\162'>\173\160agesi\172\145}\173p\141\147\145ove\162\154ap}\173\156\141v}\173\151\156fo}\074\144iv st\171\154e='cl\145\141r:bot\150\047></di\166\076</div\076"; $_il4i="<div \143\154\141ss='k\147\162\116av \173\143\163scla\163\163\145s}\047\076\173ma\151\156\175</di\166\076"; $_il4q=$_iO4h; $_iO4u=array("\120ageInd\145\170" => $this->PageIndex ,"Tota\154\120\141ges" => $this->_il49); $_iO4p=_iO0("\173\155\141in}",$this->render($_iO4u),$_il4i); $_il4q=_iO0("\173nav\175",$_iO4p,$_il4q); $_iO4d=($this->ShowPageInfo) ? $this->_iO4b(): ""; $_il4q=_iO0("\173\151\156fo}",$_iO4d,$_il4q); $_iO4f=($this->ShowPageSize) ? $this->_il4e(): ""; $_il4h=($this->ShowPageOverlap) ? $this->_il4g(): ""; $_iO4d=($this->ShowPageInfo) ? $this->_iO4b(): ""; $_il4q=_iO0("\173\151\156fo}",$_iO4d,$_il4q); $_il4q=_iO0("\173pagesiz\145\175",$_iO4f,$_il4q); $_il4q=_iO0("\173pa\147\145\157ver\154\141p}",$_il4h,$_il4q); return $_il4q; } function _iO29($_ii02=NULL) { if ($_ii02 === NULL) { eval ("\044\137ii02 = \156\145w ".get_class($this)."()\073"); } parent::_iO29($_ii02); return $_ii02; } } interface gridtemplate { function render($_il2a); function getdata($_il2a); } class _il4v { var $Mode="\111nline"; var $HeaderCaption; var $ColumnNumber=1; var $CancelButtonText; var $ConfirmButtonText; var $CancelButtonToolTip; var $ConfirmButtonToolTip; var $Template; var $InputFocus="\156one"; function _iO29($_il2w=NULL) { $_il2w->Mode =$this->Mode; $_il2w->Template =$this->Template; $_il2w->HeaderCaption =$this->HeaderCaption; $_il2w->ColumnNumber =$this->ColumnNumber; $_il2w->CancelButtonText =$this->CancelButtonText; $_il2w->ConfirmButtonText =$this->ConfirmButtonText; $_il2w->CancelButtonToolTip =$this->CancelButtonToolTip; $_il2w->ConfirmButtonToolTip =$this->ConfirmButtonToolTip; $_il2w->InputFocus =$this->InputFocus; } } class _iO4v extends _il4v { var $_il1u; var $_iO2c; } class _il4w extends _il4v { function _iO29($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new _iO4w(); } parent::_iO29($_il2w); return $_il2w; } } class _iO4w extends _iO4v { var $_il2a; var $_il4x; function _iO1s($_iO25) { if ($this->CancelButtonText === NULL) $this->CancelButtonText =$_iO25->_il1r->Localization->_il1y["\103ance\154"]; if ($this->ConfirmButtonText === NULL) $this->ConfirmButtonText =$_iO25->_il1r->Localization->_il1y["Con\146\151\162m"]; if ($this->CancelButtonToolTip === NULL) $this->CancelButtonToolTip =$_iO25->_il1r->Localization->_iO1y["E\144\151\164Form\137\103ancelB\165\164ton\124\157olTip"]; if ($this->ConfirmButtonToolTip === NULL) $this->ConfirmButtonToolTip =$_iO25->_il1r->Localization->_iO1y["\105\144\151tFor\155\137Confir\155\102utto\156\124oolTi\160"]; } function _il2d() { $_iO26=$this->_il2a->DataItem; $_iO4x=FALSE; if (strtolower($this->Mode) == "t\145\155plate") { $_il4y=$this->Template->getdata($this->_il2a); foreach ($_il4y as $_iO1n => $_il1o) { $_iO26[$_iO1n]=$_il1o; } } else { foreach ($this->_il2a->_iO23->_il2h as $_iO2h) { if (!$_iO2h->ReadOnly) { if (!empty($_iO2h->HiddenDataField)) $_iO26[$_iO2h->HiddenDataField ]=$_iO2h->_il3z($this->_il2a); $_iO26[$_iO2h->DataField ]=$_iO2h->geteditvalue($this->_il2a); } } foreach ($this->_il2a->_iO23->_il2h as $_iO2h) { if (!$_iO2h->ReadOnly) { foreach ($_iO2h->_il2p as $_iO2r) { $_iO4y=$_iO2h->DataField; if (!$_iO2r->validate($_iO26[$_iO4y],$_iO26,$this->_il2a ,$_iO2h)) { $_iO4x=TRUE; } } } } } $this->_il4x =$_iO26; if (!$_iO4x) { if ($this->_il2a->_iO23->_il1r->EventHandler->onbeforerowconfirmedit($this->_il2a ,array("\116ewData\111\164em" => &$_iO26)) == TRUE) { $_il4z=$this->_il2a->_iO23->DataSource->update($_iO26); $_il2e=$this->_il2a->_iO23->DataSource->geterror(); $this->_il2a->_iO23->_il1v =TRUE; $this->_il2a->EditMode =FALSE; if ($_il2e != "") $this->_il2a->_iO23->_il1r->EventHandler->ondatasourceerror($this,array("Err\157r" => $_il2e)); $this->_il2a->_iO23->_il1r->EventHandler->onrowconfirmedit($this->_il2a ,array("New\104ataI\164\145m" => $_iO26,"\123ucce\163\163f\165\154" => $_il4z,"Err\157\162" => $_il2e)); } } } function _iO1v() { $_il2g=""; $_iO4z=new gridrow(); $_iO4z->_il1u =$this->_il2a->_il1u; $_iO4z->_iO1s($this->_il2a->_iO23); $_iO4z->DataItem =($this->_il4x !== NULL) ? $this->_il4x : $this->_il2a->DataItem; switch (strtolower($this->Mode)) { case "\164emp\154\141\164e": $_iO2e="\074\164r id=\047\173rowid\175\047 cla\163\163='kgr\122\157w \173\141\154t}\040\173sele\143\164ed} k\147\162RowEd\151\164\047>\173\164ds}</\164\162>"; $_il50="<t\162\076<td col\163\160an='\173\143\157lspa\156\175'><d\151\166 id=\047\173row\151d}\137\145ditfo\162\155' cla\163\163='kgr\105\144itFo\162\155 \173i\156\160utfoc\165\163}'>\173cont\145\156\164}</d\151\166\076</t\144\076</tr>"; $_iO2g=""; for ($_iO8=0; $_iO8<sizeof($this->_il2a->_iO23->_il2h); $_iO8 ++) { $_iO2h=$this->_il2a->_iO23->_il2h[$_iO8]; $_il2i=$_iO2h->_iO1v($this->_il2a); $_iO2g.=$_il2i; } $_il2g=_iO0("\173tds}",$_iO2g,$_iO2e); $_iO50=_iO0("\173\143\157ntent\175",($this->Template === NULL) ? "\074\142>Notice\074\057b>: N\157\040templ\141\164\145 fou\156\144!": $this->Template->render($this->_il2a),$_il50); $_iO50=_iO0("\173co\154\163\160an}",sizeof($this->_il2a->_iO23->_il2h),$_iO50); switch (strtolower($this->InputFocus)) { case "hidegr\151\144": $_iO50=_iO0("\173in\160\165\164focus\175","\153grInpu\164\106\157cus k\147\162HideGr\151\144",$_iO50); break; case "blurg\162\151\144": $_iO50=_iO0("\173inputfoc\165\163\175","kgrInput\106\157\143us kg\162\102\154urGr\151\144",$_iO50); break; default : $_iO50=_iO0("\173inputf\157\143\165s}","",$_iO50); break; } $_il2g.=$_iO50; break; case "\146orm": $_iO2e="<t\162\040id='\173\162\157\167id}'\040\143lass='\153\147rRow \173\141lt} \173\163elect\145\144\175 kgr\122\157\167Edit\047\076\173td\163\175</tr>"; $_il50="<tr><\164\144\040cols\160\141\156='\173\143\157lspan\175\047><div\040\151d='\173\162\157wid}\137\145\144itfo\162\155\047 cla\163\163='kgr\105\144\151tFor\155\040\173inp\165\164\146ocus\175\047>\173he\141\144\145r}\173\166\141\154idat\157\162s}\173b\151\147table\175\173foote\162\175\074/di\166\076</td><\057\164r>"; $_il51="\074div cla\163\163\075'kgr\106\157\162mHea\144\145r'>\173\164\145xt}<\057\144iv>"; $_iO51="<di\166\040\143lass\075\047kgrFor\155\106\157oter\047\076\173bu\164\164ons}<\057\144iv>"; $_il52="\074\165l c\154\141ss=\047\153gr\126\141lid\141\164or'>\173\151tems\175\074/ul>"; $_iO52="\074li><lab\145\154\040for=\047\173\151d}'>\173\150\145ade\162\175\072 \173\145\162ror}\074\057label>\074\057li>"; $_il53="<table s\164\171\154e='ta\142\154e-layo\165\164\072fix\145\144\073wid\164\150:100%\073\047><tr>\173\142\151gtab\154\145_tds}<\057\164r></t\141\142le>"; $_iO53="<td s\164\171\154e='v\145\162\164ical\055\141\154ign:\040\164op;w\151\144th:\173\167\151dth}%\047\076\173tabl\145\173n}}</t\144\076"; $_il54="<table s\164\171le='hei\147\150\164:\173\150\145\151ght}\160\170;wid\164\150:100%\073\047>\173ct\137\164\162s}</\164\141ble>"; $_il3m="<input\040\164\171pe='\142\165\164ton' \157\156click=\047\173oncl\151\143k}' t\151\164le='\173\164\151tle}' \143\154ass='n\157\144ecor'\057\076"; $_iO4i="<a href\075\047\152avas\143\162\151pt:v\157\151\144 0' \157\156clic\153\075'\173o\156\143\154ick}\047\040title=\047\173title\175\047>\173te\170\164}</a>"; $_il4j="\074span cla\163\163\075 '\173\143\154ass}'>\173\142utton\175\173a}</s\160\141n> "; $_iO54=043; $_iO2g=""; for ($_iO8=0; $_iO8<sizeof($this->_il2a->_iO23->_il2h); $_iO8 ++) { $_iO2h=$this->_il2a->_iO23->_il2h[$_iO8]; $_il2i=$_iO2h->_iO1v($this->_il2a); $_iO2g.=$_il2i; } $_il2g=_iO0("\173\164\144s}",$_iO2g,$_iO2e); $_il55=""; $_iO55=$this->HeaderCaption; if ($_iO55 != NULL) { foreach ($this->_il2a->DataItem as $_iO1n => $_il1o) { $_iO55=_iO0("\173".$_iO1n."}",$_il1o,$_iO55); } $_il55=_iO0("\173\164ext}",$_iO55,$_il51); } $_il56=""; if ($this->_il4x !== NULL && $this->_iO2c != "\123\164artEdit") { foreach ($_iO4z->_iO23->_il2h as $_iO2h) { if (!$_iO2h->ReadOnly) { foreach ($_iO2h->_il2p as $_iO2r) { if (!$_iO2r->validate($_iO4z->DataItem[$_iO2h->DataField ],$_iO4z->DataItem ,$this->_il2a ,$_iO2h)) { $_iO56=_iO0("\173\150\145ader}",$_iO2h->HeaderText ,$_iO52); $_iO56=_iO0("\173error}",$_iO2r->ErrorMessage ,$_iO56); $_iO56=_iO0("\173id}",$_iO4z->_il1u."\137".$_iO2h->_il1u."\137input",$_iO56); $_il56.=$_iO56; } } } } } $_il57=_iO0("\173item\163\175",$_il56,$_il52); $_iO57=""; for ($_iO8=0; $_iO8<$this->ColumnNumber; $_iO8 ++) { $_il58=_iO0("\173\156\175",$_iO8,$_iO53); $_il58=_iO0("\173width}",(0144/$this->ColumnNumber),$_il58); $_iO57.=$_il58; } $_iO58=_iO0("\173bigtable\137\164\144s}",$_iO57,$_il53); $_il59=array(); $_iO59=0; for ($_iO8=0; $_iO8<sizeof($_iO4z->_iO23->_il2h); $_iO8 ++) { $_iO2h=$_iO4z->_iO23->_il2h[$_iO8]; if (!$_iO2h->ReadOnly) { $_il5a=$_iO2h->_iO2z($_iO4z); array_push($_il59,$_il5a); if (is_a($_iO2h,'gridfilecolumn')) $_iO59 += 0245; if (is_a($_iO2h,'gridtextareacolumn') && !empty($_iO2h->BoxHeight)) $_iO59 += intval($_iO2h->BoxHeight)-022; } } $_iO5a=ceil(sizeof($_il59)/$this->ColumnNumber); for ($_iO8=0; $_iO8<$this->ColumnNumber; $_iO8 ++) { $_il5b=""; for ($_iO5b=0; $_iO5b<$_iO5a; $_iO5b ++) { $_il5c=$_iO5a*$_iO8+$_iO5b; if ($_il5c<sizeof($_il59)) { $_il5b.=$_il59[$_il5c]; } } $_iO5c=_iO0("\173ct\137\164\162s}",$_il5b,$_il54); $_iO5c=_iO0("\173\150eight}",$_iO5a*$_iO54+$_iO59,$_iO5c); if ($_il5b == "") $_iO5c=""; $_iO58=_iO0("\173tabl\145".$_iO8."}",$_iO5c,$_iO58); } $_iO3n=_iO0("\173\143\154ass}","\153\147rConfirm",$_il4j); $_iO3n=_iO0("\173\142utton}",$_il3m,$_iO3n); $_iO3n=_iO0("\173a}",($this->ConfirmButtonText != NULL) ? $_iO4i: "",$_iO3n); $_iO3n=_iO0("\173\157nclick\175","grid_con\146\151\162m_edi\164\050this)",$_iO3n); $_iO3n=_iO0("\173\164\151tle}",$this->ConfirmButtonToolTip ,$_iO3n); $_iO3n=_iO0("\173\164\145xt}",$this->ConfirmButtonText ,$_iO3n); $_il3o=_iO0("\173\143\154ass}","kgrCance\154",$_il4j); $_il3o=_iO0("\173butto\156\175",$_il3m,$_il3o); $_il3o=_iO0("\173\141}",($this->CancelButtonText != NULL) ? $_iO4i: "",$_il3o); $_il3o=_iO0("\173onclic\153\175","\147\162id_can\143\145\154_edit\050\164his)",$_il3o); $_il3o=_iO0("\173\164\151tle}",$this->CancelButtonToolTip ,$_il3o); $_il3o=_iO0("\173text}",$this->CancelButtonText ,$_il3o); $_il5d=_iO0("\173butto\156\163\175",$_iO3n.$_il3o,$_iO51); $_iO50=_iO0("\173header}",$_il55,$_il50); switch (strtolower($this->InputFocus)) { case "\150\151degrid": $_iO50=_iO0("\173inpu\164\146\157cus}","kgrInput\106\157\143us kg\162\110\151deGr\151\144",$_iO50); break; case "\142\154urgrid": $_iO50=_iO0("\173\151nputfocu\163\175","kgrInpu\164\106ocus k\147\162Blur\107\162id",$_iO50); break; default : $_iO50=_iO0("\173inputfo\143\165\163}","",$_iO50); break; } $_iO50=_iO0("\173\166\141lidato\162\163\175",$_il57,$_iO50); $_iO50=_iO0("\173\142\151gtable}",$_iO58,$_iO50); $_iO50=_iO0("\173\146ooter}",$_il5d,$_iO50); $_iO50=_iO0("\173\143\157lspan}",sizeof($_iO4z->_iO23->_il2h),$_iO50); $_il2g.=$_iO50; break; case "inlin\145": default : $_iO5d="\074tr><td \143\157\154span=\047\173colsp\141\156\175'><\144\151v cl\141\163s='kg\162\111nputFo\143\165\163 kgr\102\154urGrid\047\040styl\145\075'widt\150\072\06100%\047\076<table\040\143lass=\047\153grTab\154\145\047 ce\154\154\163paci\156\147='0' \163\164yle='\164\141ble-l\141\171\157ut:\040\141\165to;\145\155\160ty-c\145\154ls: s\150\157\167;wid\164\150:100%\047\076<tbo\144\171\076<t\162\040id\075\047\173r\157\167id}' \143\154ass=\047\153g\162\122ow \173\141lt}\040\173sel\145\143ted}\040\153grR\157\167Edi\164\047>\173\164\144s}<\057\164r><\057\164body\076\074/ta\142\154e></\144\151v><\057\164d></\164\162>"; $_iO2e="\074tr id=\047\173rowid\175\047 cl\141\163s='kg\162\122ow \173\141lt} \173\163elect\145\144} kgr\122\157wEdit\047\076\173td\163\175</t\162\076"; $_il5e="\074\164r cl\141\163s='kgr\126\141lidat\157\162'>\173\166\141lid_\164\144s}<\057\164r>"; $_iO5e="<\164\144\040clas\163\075'kgrC\145\154l'><d\151\166 clas\163\075'kg\162\111n' s\164\171le='w\150\151te-sp\141\143e:nor\155\141\154;'\076\173divs}\074\057div>\074\057td>"; $_il5f="\074div><\154\141\142el f\157\162='\173\151\144}'>\173\145\162ror}\074\057lab\145\154></di\166\076"; $_iO2g=""; for ($_iO8=0; $_iO8<sizeof($_iO4z->_iO23->_il2h); $_iO8 ++) { $_iO2h=$_iO4z->_iO23->_il2h[$_iO8]; $_il2i=$_iO2h->_il2z($_iO4z); $_iO2g.=$_il2i; } $_il2g=_iO0("\173tds}",$_iO2g,($this->InputFocus == "blu\162\147rid") ? $_iO5d: $_iO2e); $_il2g=_iO0("\173\143\157lspan\175",sizeof($_iO4z->_iO23->_il2h),$_il2g); $_iO5f=""; if ($this->_il4x !== NULL && $this->_iO2c != "S\164\141rtEdit") { $_il5g=""; for ($_iO8=0; $_iO8<sizeof($_iO4z->_iO23->_il2h); $_iO8 ++) { $_iO2h=$_iO4z->_iO23->_il2h[$_iO8]; $_iO5g=""; if (!$_iO2h->ReadOnly) { foreach ($_iO2h->_il2p as $_iO2r) { if (!$_iO2r->validate($_iO4z->DataItem[$_iO2h->DataField ],$_iO4z->DataItem ,$this->_il2a ,$_iO2h)) { $_il5h=_iO0("\173er\162\157\162}",$_iO2r->ErrorMessage ,$_il5f); $_il5h=_iO0("\173id}",$_iO4z->_il1u."\137".$_iO2h->_il1u."_input",$_il5h); $_iO5g.=$_il5h; } } } $_iO5h=_iO0("\173\144\151vs}",$_iO5g,$_iO5e); $_il5g.=$_iO5h; } $_iO5f=_iO0("\173valid_t\144\163}",$_il5g,$_il5e); } $_il2g.=$_iO5f; break; } return $_il2g; } } class _il5i extends _il4v { var $HeaderCaption=""; function _iO29($_il2w=NULL) { if ($_il2w === NULL) { $_il2w=new _iO5i(); } parent::_iO29($_il2w); return $_il2w; } } class _iO5i extends _iO4v { var $_iO23; var $_il4x; function _iO1s($_iO25) { $this->_iO23 =$_iO25; if ($this->CancelButtonText === NULL) $this->CancelButtonText =$_iO25->_il1r->Localization->_il1y["\103anc\145\154"]; if ($this->ConfirmButtonText === NULL) $this->ConfirmButtonText =$_iO25->_il1r->Localization->_il1y["\103onfir\155"]; if ($this->CancelButtonToolTip === NULL) $this->CancelButtonToolTip =$_iO25->_il1r->Localization->_iO1y["\111nsertFo\162\155_Cance\154\102utton\124\157olTip"]; if ($this->ConfirmButtonToolTip === NULL) $this->ConfirmButtonToolTip =$_iO25->_il1r->Localization->_iO1y["\111nser\164\106\157rm_C\157\156firmB\165\164tonTo\157\154Tip"]; } function _il5j() { $_iO26=array(); for ($_iO8=0; $_iO8<sizeof($this->_iO23->_il2h); $_iO8 ++) { if ($this->_iO23->_il2h[$_iO8]->DataField != NULL) { $_iO26[$this->_iO23->_il2h[$_iO8]->DataField ]=$this->_iO23->_il2h[$_iO8]->DefaultValue; } } $_iO5j=new gridrow(); $_iO5j->_il1u =$this->_iO23->_il1u."_nr"; $_iO5j->_iO1s($this->_iO23); $_iO4x=FALSE; if (strtolower($this->Mode) == "templa\164\145") { $_il4y=$this->Template->getdata($_iO5j); foreach ($_il4y as $_iO1n => $_il1o) { $_iO26[$_iO1n]=$_il1o; } } else { foreach ($this->_iO23->_il2h as $_iO2h) { if (!$_iO2h->ReadOnly) { if (!empty($_iO2h->HiddenDataField)) $_iO26[$_iO2h->HiddenDataField ]=$_iO2h->_il3z($_iO5j); $_iO26[$_iO2h->DataField ]=$_iO2h->geteditvalue($_iO5j); } } foreach ($this->_iO23->_il2h as $_iO2h) { if (!$_iO2h->ReadOnly) { foreach ($_iO2h->_il2p as $_iO2r) { $_iO4y=$_iO2h->DataField; if (!$_iO2r->validate($_iO26[$_iO4y],$_iO26,$_iO5j,$_iO2h)) { $_iO4x=TRUE; } } } } } if ($this->_iO23->_il5k !== NULL) { foreach ($this->_iO23->_iO5k as $_il5l) { $_iO26[$_il5l["\104etail"]]=$this->_iO23->_il5k->DataItem[$_il5l["Ma\163\164\145r"]]; } } $this->_il4x =$_iO26; if (!$_iO4x) { if ($this->_iO23->_il1r->EventHandler->onbeforeconfirminsert($this->_iO23 ,array("New\104\141\164aIte\155" => &$_iO26)) == TRUE) { $_iO5l=$this->_iO23->_il2h; $_il1h=array(); foreach ($_iO5l as $_iO1j) { if (is_a($_iO1j,'gridfilecolumn')) array_push($_il1h,$_iO1j); } $_iO1h=array(); if (count($_il1h) == 0) { $_il5m=$this->_iO23->DataSource->insert($_iO26); } else { $_il5m=$this->_iO23->DataSource->insert($_iO26,$_il1h,$_iO1h); foreach ($_il1h as $_il27 => $_iO1j) { $_iO5m=$_iO26[$_iO1j->DataField ]; if (get_magic_quotes_gpc()) $_iO5m=stripslashes($_iO5m); $_iO5m=json_decode($_iO5m,TRUE); $_il5n=$_iO1j->BaseDirectory.'/'.$_iO1j->TableName; $targetFolder=$_iO1j->BaseDirectory.'/'.$_iO1j->TableName.'/'.$_iO1h[$_il27]; mkdir($targetFolder); foreach ($_iO5m as $_iO5n) { rename($_il5n.'/'.$_iO5n['name'],$targetFolder.'/'.$_iO5n['name']); } } } $_il2e=$this->_iO23->DataSource->geterror(); $this->_iO23->_il1v =TRUE; $this->_iO23->_il5o =FALSE; if ($_il2e != "") $this->_iO23->_il1r->EventHandler->ondatasourceerror($this,array("\105rror" => $_il2e)); $this->_iO23->_il1r->EventHandler->onconfirminsert($this->_iO23 ,array("\116\145wData\111\164\145m" => $_iO26,"Succe\163\163\146ul" => $_il5m,"\105\162ror" => $_il2e)); } } } function _iO1v() { $_iO5o=""; $_iO26=array(); for ($_iO8=0; $_iO8<sizeof($this->_iO23->_il2h); $_iO8 ++) { if ($this->_iO23->_il2h[$_iO8]->DataField != NULL) { $_iO26[$this->_iO23->_il2h[$_iO8]->DataField ]=$this->_iO23->_il2h[$_iO8]->DefaultValue; } } if ($this->_il4x === NULL) { $this->_il4x =$_iO26; } $_iO5j=new gridrow(); $_iO5j->_il1u =$this->_iO23->_il1u."_nr"; $_iO5j->_iO1s($this->_iO23); $_iO5j->DataItem =$this->_il4x; switch (strtolower($this->Mode)) { case "tem\160\154\141te": $_il5p="\074tr><t\144\040\143olsp\141\156\075'\173\143\157lspan}\047\076<di\166\040id='\173\151\144}_in\163\145\162tform\047\040class\075\047kgrI\156\163\145rtFo\162\155\040\173i\156\160\165tfoc\165\163}'>\173c\157\156tent}<\057\144iv></\164\144\076</tr\076"; $_iO5o=_iO0("\173content\175",($this->Template === NULL) ? "\074\142>Notice\074\057b>: Tem\160\154ate no\164\040found\041": $this->Template->render($_iO5j),$_il5p); $_iO5o=_iO0("\173\143olspan}",sizeof($this->_iO23->_il2h),$_iO5o); $_iO5o=_iO0("\173\151\144}",$_iO5j->_il1u ,$_iO5o); switch (strtolower($this->InputFocus)) { case "\150idegrid": $_iO5o=_iO0("\173\151nputfocu\163\175","kgrInput\106\157\143us kg\162\110\151deGr\151\144",$_iO5o); break; case "blurg\162\151\144": $_iO5o=_iO0("\173\151\156putfocu\163\175","kgr\111\156\160utFoc\165\163\040kgrB\154\165rGrid",$_iO5o); break; default : $_iO5o=_iO0("\173\151nputf\157\143\165s}","",$_iO5o); break; } break; case "form": default : $_il5p="\074\164r><td \143\157\154span\075\047\173col\163\160\141n}'\076\074div \151\144='\173i\144\175\137inse\162\164\146orm'\040\143lass=\047\153grInse\162\164Form \173\151\156putfo\143\165\163}'>\173\150\145ader\175\173\166alid\141\164\157rs}\173\142\151gtab\154\145}\173fo\157\164er}</\144\151\166></\164\144\076</t\162\076"; $_iO5p="<d\151\166\040clas\163\075\047kgr\106\157rmHead\145\162'>\173t\145\170t}</\144\151\166>"; $_il5q="\074div clas\163\075'kgrFo\162\155\106oote\162\047>\173bu\164\164ons}<\057\144iv>"; $_iO5q="\074ul class\075\047kgrVal\151\144\141tor'\076\173items}\074\057ul>"; $_il5r="\074\154i><label\040\146or='\173\151\144\175'>\173\150\145ader}\072\040\173e\162\162\157r}</\154\141bel></\154\151\076"; $_iO5r="<tab\154\145\040styl\145\075\047tabl\145\055layout\072\146ixed\073\167idth:\061\0600%;'>\074\164r>\173b\151\147\164able\137\164ds}</\164\162\076</t\141\142\154e>"; $_il5s="<\164\144\040style\075\047vertic\141\154\055ali\147\156\072 to\160\073widt\150\072\173wid\164\150\175%'>\173\164\141ble\173\156\175}</td\076"; $_iO5s="<table s\164\171\154e='h\145\151\147ht:\173\150\145ight\175\160x;wid\164\150:100\045\073'>\173c\164\137\164rs}<\057\164able>"; $_il3m="<input t\171\160\145='bu\164\164\157n' on\143\154ick='\173\157\156cli\143\153}' ti\164\154\145='\173\164\151\164le}'\040\143lass=\047\156odecor\047\057>"; $_iO4i="\074\141 href='j\141\166\141scri\160\164\072void\040\060' onc\154\151ck='\173\157nclick\175\047 titl\145\075\047\173t\151\164\154e}'>\173\164ext}</\141\076"; $_il4j="<span\040\143\154ass=\040\047\173cl\141\163\163}'>\173\142utt\157\156}\173\141\175</spa\156\076 "; $_iO54=043; $_il55=""; if ($this->HeaderCaption != NULL) { $_il55=_iO0("\173\164ext}",$this->HeaderCaption ,$_iO5p); } $_il56=""; if ($this->_il4x !== NULL && $this->_iO2c != "\123\164artInse\162\164") { foreach ($this->_iO23->_il2h as $_iO2h) { if (!$_iO2h->ReadOnly) { foreach ($_iO2h->_il2p as $_iO2r) { if (!$_iO2r->validate($_iO5j->DataItem[$_iO2h->DataField ],$_iO5j->DataItem ,$_iO5j,$_iO2h)) { $_il5t=_iO0("\173\150eader}",$_iO2h->HeaderText ,$_il5r); $_il5t=_iO0("\173\145rror}",$_iO2r->ErrorMessage ,$_il5t); $_il5t=_iO0("\173\151d}",$_iO5j->_il1u."\137".$_iO2h->_il1u."\137\151nput",$_il5t); $_il56.=$_il5t; } } } } } $_il57=_iO0("\173\151tems}",$_il56,$_iO5q); $_iO57=""; for ($_iO8=0; $_iO8<$this->ColumnNumber; $_iO8 ++) { $_il58=_iO0("\173n}",$_iO8,$_il5s); $_il58=_iO0("\173\167\151\144th}",(0144/$this->ColumnNumber),$_il58); $_iO57.=$_il58; } $_iO58=_iO0("\173bigt\141\142\154e_tds\175",$_iO57,$_iO5r); $_il59=array(); $_iO59=0; for ($_iO8=0; $_iO8<sizeof($this->_iO23->_il2h); $_iO8 ++) { $_iO2h=$this->_iO23->_il2h[$_iO8]; if (!$_iO2h->ReadOnly) { $_il5a=$_iO2h->_iO2z($_iO5j); array_push($_il59,$_il5a); if (is_a($_iO2h,'gridfilecolumn')) $_iO59 += 0245; if (is_a($_iO2h,'gridtextareacolumn') && !empty($_iO2h->BoxHeight)) $_iO59 += intval($_iO2h->BoxHeight)-022; } } $_iO5a=ceil(sizeof($_il59)/$this->ColumnNumber); for ($_iO8=0; $_iO8<$this->ColumnNumber; $_iO8 ++) { $_il5b=""; for ($_iO5b=0; $_iO5b<$_iO5a; $_iO5b ++) { $_il5c=$_iO5a*$_iO8+$_iO5b; if ($_il5c<sizeof($_il59)) { $_il5b.=$_il59[$_il5c]; } } $_iO5t=_iO0("\173\143\164_trs}",$_il5b,$_iO5s); $_iO5t=_iO0("\173\150eight}",$_iO54*$_iO5a+$_iO59,$_iO5t); if ($_il5b == "") $_iO5t=""; $_iO58=_iO0("\173\164able".$_iO8."}",$_iO5t,$_iO58); } $_iO3n=_iO0("\173\143\154ass}","kgrConf\151\162\155",$_il4j); $_iO3n=_iO0("\173\142utton}",$_il3m,$_iO3n); $_iO3n=_iO0("\173\141}",($this->ConfirmButtonText != NULL) ? $_iO4i: "",$_iO3n); $_iO3n=_iO0("\173\157nclick}","\147\162\151d_con\146\151\162m_in\163\145rt(th\151\163\051",$_iO3n); $_iO3n=_iO0("\173\164\151tle}",$this->ConfirmButtonToolTip ,$_iO3n); $_iO3n=_iO0("\173text}",$this->ConfirmButtonText ,$_iO3n); $_il3o=_iO0("\173c\154\141\163s}","kgr\103\141\156cel",$_il4j); $_il3o=_iO0("\173\142utton}",$_il3m,$_il3o); $_il3o=_iO0("\173a}",($this->CancelButtonText != NULL) ? $_iO4i: "",$_il3o); $_il3o=_iO0("\173on\143\154\151ck}","\147\162id_canc\145\154\137inse\162\164(this)",$_il3o); $_il3o=_iO0("\173\164\151tle}",$this->CancelButtonToolTip ,$_il3o); $_il3o=_iO0("\173text\175",$this->CancelButtonText ,$_il3o); $_il5d=_iO0("\173butto\156\163\175",$_iO3n.$_il3o,$_il5q); $_iO5o=_iO0("\173\151d}",$_iO5j->_il1u ,$_il5p); $_iO5o=_iO0("\173he\141\144\145r}",$_il55,$_iO5o); $_iO5o=_iO0("\173validato\162\163\175",$_il57,$_iO5o); $_iO5o=_iO0("\173big\164\141\142le}",$_iO58,$_iO5o); $_iO5o=_iO0("\173fo\157\164er}",$_il5d,$_iO5o); $_iO5o=_iO0("\173col\163\160\141n}",sizeof($this->_iO23->_il2h),$_iO5o); switch (strtolower($this->InputFocus)) { case "\150\151degrid": $_iO5o=_iO0("\173inp\165\164\146ocus}","kgrInp\165\164\106ocus\040\153grHid\145\107\162id",$_iO5o); break; case "blurgri\144": $_iO5o=_iO0("\173\151nputfo\143\165\163}","kgrInpu\164\106\157cus kg\162\102lurGri\144",$_iO5o); break; default : $_iO5o=_iO0("\173\151nputfo\143\165\163}","",$_iO5o); break; } break; } return $_iO5o; } } class gridgroup { var $_il5u; var $GroupField; var $Sort=1; var $Expand=TRUE; var $InfoTemplate; var $HeaderText; function __construct() { $this->_il5u =array(); } function addinfofield($_iO5u,$_iO1g=NULL) { array_push($this->_il5u ,array("Inf\157\106iel\144" => $_iO5u,"Agg\162\145\147ate" => $_iO1g)); } function _iO29() { $_il2w=new _il2q(); $_il2w->_il5u =$this->_il5u; $_il2w->GroupField =$this->GroupField; $_il2w->Sort =$this->Sort; $_il2w->Expand =$this->Expand; $_il2w->InfoTemplate =$this->InfoTemplate; $_il2w->HeaderText =$this->HeaderText; return $_il2w; } } class _il2q extends gridgroup implements _il1p { var $_il1u; var $_iO23; var $_il23; var $_il2r; function _iO1s($_iO25) { if ($this->_il2r !== NULL) { if ($this->GroupField === NULL) $this->GroupField =$this->_il2r->DataField; if ($this->HeaderText === NULL) $this->HeaderText =$this->_il2r->HeaderText; } $this->_iO23 =$_iO25; $this->_il23 =$_iO25->_il23; if ($this->HeaderText === NULL) $this->HeaderText =$this->GroupField; if ($this->InfoTemplate === NULL) $this->InfoTemplate =$this->HeaderText."\072 \173".$this->GroupField."\175"; if (count($this->_il5u) == 0) $this->addinfofield($this->GroupField); } function _iO1p() { if ( isset ($this->_il23->_il1m[$this->_il1u ])) { $_il26=$this->_il23->_il1m[$this->_il1u ]; $this->Sort =$_il26["Sort"]; $this->GroupField =$_il26["Group\106\151\145ld"]; $this->Expand =$_il26["\105xpand"]; $this->InfoTemplate =$_il26["\111\156foTempl\141\164\145"]; $this->_il5u =$_il26["\111nfoField\163"]; $this->HeaderText =$_il26["\110\145aderText"]; } } function _il29() { $this->_iO1p(); if ( isset ($this->_il23->_il1m[$this->_il1u ])) { $_il26=$this->_il23->_il1m[$this->_il1u ]; if ($_il26["Co\154\165\155nUniqu\145\111\104"] != NULL) { for ($_iO8=0; $_iO8<count($this->_iO23->_il2h); $_iO8 ++) { if ($_il26["\103olu\155\156\125niqu\145\111D"] == $this->_iO23->_il2h[$_iO8]->_il1u) { $this->_il2r =$this->_iO23->_il2h[$_iO8]; } } } } } function _il1q() { $this->_il23->_il1m[$this->_il1u ]=array("\123\157rt" => $this->Sort ,"E\170\160\141nd" => $this->Expand ,"GroupF\151\145\154d" => $this->GroupField ,"Hea\144\145\162Text" => $this->HeaderText ,"Inf\157\106\151elds" => $this->_il5u ,"\111\156foTempl\141\164\145" => $this->InfoTemplate ,"\103olumnU\156\151\161ueID" => ($this->_il2r) ? $this->_il2r->_il1u : NULL); } function _iO2b($_iO22) { if ( isset ($_iO22->_il1y[$this->_il1u ])) { $_il2c=$_iO22->_il1y[$this->_il1u ]; switch ($_il2c["\103omman\144"]) { case "\123ort": $this->Sort =$_il2c["Args"]["Sort"]; $this->_iO23->_il1v =TRUE; break; } } } function _iO1v() { $_il5v="<th id\075\047\173i\144\175' cla\163\163='kg\162\107roupI\164\145m' \164\151tle=\047\173titl\145\175'><di\166\040class\075\047kgr\111\156'>\173t\145\170t}&#1\066\060;\173\163\157rt}</\144\151v></t\150\076"; $_iO5v="<inpu\164\040class=\047\156odeco\162\040kgrS\157\162t\173d\151\162}' t\171\160e='\142\165tton'\040\164itle=\047\173title\175\047 onc\154\151ck='g\162\151d_gro\165\160\151tem\137\163ort(\042\173\151d}\042\054\173sor\164\175\051' /\076"; $_il5w=($this->Sort <0) ? "Desc": "A\163\143"; $_il14=_iO0("\173\151\144}",$this->_il1u ,$_iO5v); $_il14=_iO0("\173d\151\162}",$_il5w,$_il14); $_il14=_iO0("\173titl\145\175",$this->_iO23->_il1r->Localization->_iO1y["S\157\162t".$_il5w."\124oolTip"],$_il14); $_il14=_iO0("\173\163\157rt}",-$this->Sort ,$_il14); $_iOq=_iO0("\173i\144\175",$this->_il1u ,$_il5v); $_iOq=_iO0("\173t\145\170\164}",$this->HeaderText ,$_iOq); $_iOq=_iO0("\173\163ort}",$_il14,$_iOq); $_iOq=_iO0("\173\164itle}",$this->_iO23->_il1r->Localization->_iO1y["\107roupIt\145\155ToolTi\160"],$_iOq); return $_iOq; } function _iO5w() { $_il15=new _il5x(); $_il15->Expand =$this->Expand; $_il15->_iO5x =$this; return $_il15; } } class _il5x implements _il1p { var $_il1u; var $_iO23; var $_il3j; var $_il5y; var $_il23; var $_iO5y=0; var $_il5z; var $_iO5z; var $_iO5x; var $_il60; var $Expand; function _iO1s($_iO25) { $this->_iO23 =$_iO25; $this->_il23 =$_iO25->_il23; $this->_il3j =array(); $this->_il5y =array(); } function _il29() { $this->_iO1p(); foreach ($this->_il5y as $_il15) { $_il15->_il29(); } } function _iO60($_iO1b) { array_push($this->_il3j ,$_iO1b); $this->_il5z =$_iO1b->DataItem[$this->_iO5x->GroupField ]; } function _il61($_il1b) { $_iO61=$this->_iO5y +1; if ( isset ($this->_iO23->_il2u[$_iO61])) { $_il62=$this->_iO23->_il2u[$_iO61]; $_il15=NULL; $_iO62=0; for ($_iO8=0; $_iO8<sizeof($_il1b); $_iO8 ++) { if ($_il15 == NULL) { $_il15=$_il62->_iO5w(); $_il15->_il1u =$this->_il1u."\137gr".$_iO62; $_il15->_iO1s($this->_iO23); $_il15->_iO5y =$_iO61; $_il15->_iO60($_il1b[$_iO8]); $_il15->_iO5z =$this; array_push($this->_il5y ,$_il15); } else { if ($_il15->_il5z == $_il1b[$_iO8]->DataItem[$_il15->_iO5x->GroupField ]) { $_il15->_iO60($_il1b[$_iO8]); } else { $_il15->_il61($_il15->_il3j); $_il15=$_il62->_iO5w(); $_iO62 ++; $_il15->_il1u =$this->_il1u."_gr".$_iO62; $_il15->_iO1s($this->_iO23); $_il15->_iO5y =$_iO61; $_il15->_iO60($_il1b[$_iO8]); $_il15->_iO5z =$this; array_push($this->_il5y ,$_il15); } } if ($_iO8 == sizeof($_il1b)-1) { $_il15->_il61($_il15->_il3j); } } } } function _iO1p() { if ( isset ($this->_il23->_il1m[$this->_il1u ])) { $_il26=$this->_il23->_il1m[$this->_il1u ]; $this->Expand =$_il26["\105xpand"]; } } function _il1q() { if ($this->_iO5y >-1) { $this->_il23->_il1m[$this->_il1u ]=array("E\170\160and" => $this->Expand); } foreach ($this->_il5y as $_il15) { $_il15->_il1q(); } } function _iO2b($_iO22) { if ( isset ($_iO22->_il1y[$this->_il1u ])) { $_il2c=$_iO22->_il1y[$this->_il1u ]; switch ($_il2c["\103om\155\141\156d"]) { case "\105\170pand": $this->Expand =TRUE; break; case "Co\154\154apse": $this->Expand =FALSE; break; } } foreach ($this->_il5y as $_il15) { $_il15->_iO2b($_iO22); } if ($this->_iO5x !== NULL) { $_il63=array(); $_iO63=array(); for ($_iO8=0; $_iO8<sizeof($this->_iO5x->_il5u); $_iO8 ++) { $_il64=$this->_iO5x->_il5u[$_iO8]; if ($_il64["\101\147gregat\145"] == NULL) { $_il63[$_iO8]=$this->_il3j[0]->DataItem[$_il64["\111\156foField"]]; } else { $_il63[$_iO8]=""; array_push($_iO63,array("K\145\171" => "_".$_iO8,"\101\147gregat\145" => $_il64["A\147\147regate"],"DataFiel\144" => $_il64["\111\156foFiel\144"])); } } if (sizeof($_iO63)>0) { $_iO64=$this->_iO23->DataSource->Filters; $_il65=$this; while ($_il65 !== $this->_iO23->_iO65) { $this->_iO23->DataSource->addfilter(new datasourcefilter($_il65->_iO5x->GroupField ,"Equa\154",$_il65->_il5z)); $_il65=$_il65->_iO5z; } $this->_iO23->DataSource->arrangesorts($this->_iO23->MultiSortingOrder); $_iO18=$this->_iO23->DataSource->getaggregates($_iO63); $_il2e=$this->_iO23->DataSource->geterror(); if ($_il2e != "") $this->_iO23->_il1r->EventHandler->ondatasourceerror($this,array("\105\162ror" => $_il2e)); if ($_iO18 !== NULL) { foreach ($_iO18 as $_iO1n => $_il1o) { $_il63[_iO0("\137","",$_iO1n)]=$_il1o; } } $this->_iO23->DataSource->Filters =$_iO64; } $this->_il60 =$_il63; } } function _iO1v() { $_il66=""; if ($this->_iO5y >-1) { $_iO2e="\074tr id='\173\151\144}' cl\141\163s='kg\162\107\162oup'\076\173gro\165\160_tds}\074\164d cla\163\163\075'kgr\103\145\154l' c\157\154span=\047\173\143olsp\141\156}'><di\166\040class=\047\153grIn' \163\164yle='w\150\151te-spa\143\145:nowra\160\073'><sp\141\156 clas\163\075\047kgr\110\145\141derT\145\170t' on\143\154\151ck='\147\162\151d_g\162\157\165p_to\157\147le(thi\163\051'>\173\143\157\156tent\175\074/span\076\074/div>\074\057td><\057\164r>"; $_iO66="\074td cla\163\163\075'kgr\103\145ll'><d\151\166 clas\163\075'kgr\111\156\047 s\164\171\154e='w\150\151\164e-sp\141\143\145:now\162\141p;'>\173\163\151gn}<\057\144iv></t\144\076"; $_il67="<spa\156\040\143lass\075\047\173sta\164\165s}' on\143\154ick='\147\162id_g\162\157up_too\147\154\145(thi\163\051'></sp\141\156\076"; $_il2g=_iO0("\173id}",$this->_il1u ,$_iO2e); $_iO67=""; for ($_iO8=0; $_iO8<$this->_iO5y; $_iO8 ++) { $_il68=_iO0("\173sign\175","\046#160;",$_iO66); $_iO67.=$_il68; } $_iO68=_iO0("\173\163tatus}",$this->Expand ? "\153\147rExpan\144": "k\147\162\103ollap\163\145",$_il67); $_il68=_iO0("\173si\147\156\175",$_iO68,$_iO66); $_iO67.=$_il68; $_il69=sizeof($this->_iO23->_il2h)-$this->_iO5y -1; $_il2g=_iO0("\173\147\162\157up_td\163\175",$_iO67,$_il2g); $_il2g=_iO0("\173\143olspan}",$_il69,$_il2g); $_iO69=$this->_iO5x->InfoTemplate; for ($_iO8=0; $_iO8<sizeof($this->_iO5x->_il5u); $_iO8 ++) { $_iO69=_iO0("\173".$this->_iO5x->_il5u[$_iO8]["\111nfoFi\145\154\144"]."\175",($this->_iO5x->_il2r !== NULL) ? $this->_iO5x->_il2r->format($this->_il60[$_iO8]): $this->_il60[$_iO8],$_iO69); } $_il2g=_iO0("\173\143ontent\175",$_iO69,$_il2g); $_il66.=$_il2g; if ($this->Expand) { if (sizeof($this->_il5y)>0) { foreach ($this->_il5y as $_il15) { $_il66.=$_il15->_iO1v(); } } else { foreach ($this->_il3j as $_iO1b) { $_il66.=$_iO1b->_iO1v(); } } } } else { foreach ($this->_il5y as $_il15) { $_il66.=$_il15->_iO1v(); } } return $_il66; } } class _il6a { var $PanelCssClass=""; var $ItemCssClass=""; var $ItemConnector="-"; function _iO29() { $_il2w=new _iO6a(); $_il2w->PanelCssClass =$this->PanelCssClass; $_il2w->ItemCssClass =$this->ItemCssClass; $_il2w->ItemConnector =$this->ItemConnector; return $_il2w; } } class _iO6a extends _il6a { var $_il1u; var $_iO23; function _iO1s($_iO25) { $this->_iO23 =$_iO25; } function _iO1v() { $_iO4s="\074div i\144\075'\173id}\047\040class\075\047kgrGr\157\165pPane\154\047 sty\154\145='posi\164\151on:rel\141\164\151ve;'\076\074span\076\074/span>\173\151ndicat\157\162s}<tab\154\145 class\075\047kgrGr\157\165pTable\047\040style\075\047width\072\061\0600%;\142\157rder\055\143ollap\163\145\072col\154\141\160se;'\076\074tr>\173\164\150s}<t\144\040\151d='\173\151\144}_ta\151\154' sty\154\145\075'wi\144\164\150:10\060\045;'>\173\147\165idete\170\164\175</td\076\074/tr>\074\057table\076\074/div\076"; $_il6b="<td>\173\143\164}</td>"; $_iO6b="<di\166\040class='\153\147\162TopI\156\144icator\047\040styl\145\075'pos\151\164ion:ab\163\157\154ute;\144\151\163play\072\156one;'\076\074/div>\074\144iv cl\141\163s='kgr\102\157ttomI\156\144\151cato\162\047 style\075\047posit\151\157n:abs\157\154\165te;\144\151splay\072\156one;'\076\074/div>"; $_il6c=_iO0("\173\143t}",$this->ItemConnector ,$_il6b); $_iO6c=""; $_iO1e=$this->_iO23->_il2u; for ($_iO8=0; $_iO8<sizeof($_iO1e); $_iO8 ++) { $_iO6c.=$_iO1e[$_iO8]->_iO1v(); if ($_iO8<sizeof($_iO1e)-1) { $_iO6c.=$_il6c; } } $_il8=_iO0("\173\151d}",$this->_il1u ,$_iO4s); $_il8=_iO0("\173\164\150s}",$_iO6c,$_il8); $_il8=_iO0("\173indicato\162\163\175",$_iO6b,$_il8); $_il8=_iO0("\173\147uidete\170\164\175",(sizeof($_iO1e)>0) ? "\046#160;": $this->_iO23->_il1r->Localization->_iO1y["GroupP\141\156\145lGuid\145\124\145xt"],$_il8); return $_il8; } } class gridtableview { var $DataSource; var $DataKeyNames; var $Name; var $_iO5k=array(); var $_il2h=array(); var $_iO2a=array(); var $_il2u=array(); var $_iO2j; var $Pager; var $ShowHeader; var $ShowFooter; var $Width; var $Height; var $EditSettings; var $InsertSettings; var $RowAlternative; var $AllowHovering; var $AllowSelecting; var $AllowMultiSelecting; var $AllowEditing; var $AllowDeleting; var $AllowScrolling; var $AllowSorting; var $AllowResizing; var $AllowFiltering; var $AllowGrouping; var $SingleColumnSorting; var $VirtualScrolling; var $FrozenColumnsCount=0; var $PageSize; var $ShowFunctionPanel=FALSE; var $FunctionPanel; var $ShowGroupPanel=FALSE; var $GroupPanel; var $AutoGenerateRowSelectColumn; var $AutoGenerateExpandColumn; var $AutoGenerateColumns; var $AutoGenerateEditColumn; var $AutoGenerateDeleteColumn; var $DisableAutoGenerateDataFields; var $KeepRowStateOnRefresh; var $KeepSelectedRecords; var $ColumnWidth; var $ColumnWrap; var $ColumnAlign; var $_iO2q; var $TableLayout; var $FilterOptions; var $_il6d; var $MultiSortingOrder='left-right'; var $_iO2v=0; var $_il2v=0; var $CssClasses=array(); function __construct($_il45="") { $this->Name =$_il45; $this->EditSettings =new _il4w(); $this->InsertSettings =new _il5i(); $this->FunctionPanel =new _iO6d(); $this->GroupPanel =new _il6a(); } function addgroup($_il15) { array_push($this->_il2u ,$_il15); } function addcolumn($_iO11) { array_push($this->_il2h ,$_iO11); } function adddetailtable($_iO25,$_il2j=NULL) { $_iO25->_iO2j =$_il2j; array_push($this->_iO2a ,$_iO25); } function addrelationfield($_il6e,$_iO6e) { array_push($this->_iO5k ,array("Detail" => $_il6e,"Maste\162" => $_iO6e)); } function _iO29() { $_il2w=new _il6f(); $_il2w->Name =$this->Name; for ($_iO8=0; $_iO8<sizeof($this->_il2u); $_iO8 ++) { $_il2w->_il2u[$_iO8]=$this->_il2u[$_iO8]->_iO29(); } $_iO6f=array(); for ($_iO8=0; $_iO8<sizeof($this->_il2h); $_iO8 ++) { $_il2w->_il2h[$_iO8]=$this->_il2h[$_iO8]->createinstance(); if ($this->_il2h[$_iO8]->Group) { $_iO6f[$_iO8]=$this->_il2h[$_iO8]->GroupIndex; } } asort($_iO6f); foreach ($_iO6f as $_iO8 => $_il6g) { $_il2w->_il2u[]=$_il2w->_il2h[$_iO8]->GroupSettings; } $_il2w->_iO2a =$this->_iO2a; $_il2w->_iO5k =$this->_iO5k; $_il2w->_iO2j =$this->_iO2j; if ($this->Pager != NULL) { $_il2w->Pager =$this->Pager->_iO29(); } $_il2w->DataSource =$this->DataSource; $_il2w->ShowHeader =$this->ShowHeader; $_il2w->ShowFooter =$this->ShowFooter; $_il2w->Width =$this->Width; $_il2w->Height =$this->Height; $_il2w->EditSettings =$this->EditSettings; $_il2w->InsertSettings =$this->InsertSettings; $_il2w->AllowHovering =$this->AllowHovering; $_il2w->AllowEditing =$this->AllowEditing; $_il2w->AllowDeleting =$this->AllowDeleting; $_il2w->AllowSelecting =$this->AllowSelecting; $_il2w->AllowMultiSelecting =$this->AllowMultiSelecting; $_il2w->AllowScrolling =$this->AllowScrolling; $_il2w->AllowSorting =$this->AllowSorting; $_il2w->AllowResizing =$this->AllowResizing; $_il2w->AllowFiltering =$this->AllowFiltering; $_il2w->AllowGrouping =$this->AllowGrouping; $_il2w->MultiSortingOrder =$this->MultiSortingOrder; $_il2w->_iO2v =$this->_iO2v; $_il2w->_il2v =$this->_il2v; $_il2w->SingleColumnSorting =$this->SingleColumnSorting; $_il2w->VirtualScrolling =$this->VirtualScrolling; $_il2w->FrozenColumnsCount =$this->FrozenColumnsCount; $_il2w->RowAlternative =$this->RowAlternative; $_il2w->AutoGenerateRowSelectColumn =$this->AutoGenerateRowSelectColumn; $_il2w->AutoGenerateExpandColumn =$this->AutoGenerateExpandColumn; $_il2w->AutoGenerateColumns =$this->AutoGenerateColumns; $_il2w->AutoGenerateEditColumn =$this->AutoGenerateEditColumn; $_il2w->AutoGenerateDeleteColumn =$this->AutoGenerateDeleteColumn; $_il2w->DisableAutoGenerateDataFields =$this->DisableAutoGenerateDataFields; $_il2w->KeepRowStateOnRefresh =$this->KeepRowStateOnRefresh; $_il2w->KeepSelectedRecords =$this->KeepSelectedRecords; $_il2w->DataKeyNames =$this->DataKeyNames; $_il2w->PageSize =$this->PageSize; $_il2w->ShowFunctionPanel =$this->ShowFunctionPanel; $_il2w->FunctionPanel =$this->FunctionPanel; $_il2w->ShowGroupPanel =$this->ShowGroupPanel; $_il2w->GroupPanel =$this->GroupPanel->_iO29(); $_il2w->ColumnWidth =$this->ColumnWidth; $_il2w->ColumnWrap =$this->ColumnWrap; $_il2w->ColumnAlign =$this->ColumnAlign; $_il2w->_iO2q =$this->_iO2q; $_il2w->TableLayout =$this->TableLayout; $_il2w->FilterOptions =$this->FilterOptions; $_il2w->CssClasses =$this->CssClasses; return $_il2w; } } class _il6f extends gridtableview implements _il1p { var $_il1r; var $_il5k; var $_il1u; var $_il23; var $Grid; var $ParentRow; var $_il3j=array(); var $_iO6g=0; var $_il1v=FALSE; var $_il6h=FALSE; var $_iO6h=0; var $_il6i=0; var $_iO6i=NULL; var $_il5o=FALSE; var $_il6j; var $_iO6j; var $_iO65; var $_il6k; var $SelectedKeys=array(); function _iO6k() { return $this->_il1u; } function _iO1s($_il1t,$_il6l) { $this->_il1r =$_il1t; $this->_il5k =$_il6l; $this->Grid =$_il1t; $this->ParentRow =$_il6l; $this->_il23 =$_il1t->_il23; if ($this->KeepSelectedRecords === NULL) $this->KeepSelectedRecords =$this->_il1r->KeepSelectedRecords; if ($this->KeepRowStateOnRefresh === NULL) $this->KeepRowStateOnRefresh =$this->_il1r->KeepRowStateOnRefresh; if ($this->AllowHovering === NULL) $this->AllowHovering =$this->_il1r->AllowHovering; if ($this->AllowEditing === NULL) $this->AllowEditing =$this->_il1r->AllowEditing; if ($this->AllowDeleting === NULL) $this->AllowDeleting =$this->_il1r->AllowDeleting; if ($this->AllowSelecting === NULL) $this->AllowSelecting =$this->_il1r->AllowSelecting; if ($this->AllowMultiSelecting === NULL) $this->AllowMultiSelecting =$this->_il1r->AllowMultiSelecting; if ($this->AllowScrolling === NULL) $this->AllowScrolling =$this->_il1r->AllowScrolling; if ($this->AllowSorting === NULL) $this->AllowSorting =$this->_il1r->AllowSorting; if ($this->AllowResizing === NULL) $this->AllowResizing =$this->_il1r->AllowResizing; if ($this->AllowFiltering === NULL) $this->AllowFiltering =$this->_il1r->AllowFiltering; if ($this->AllowGrouping === NULL) $this->AllowGrouping =$this->_il1r->AllowGrouping; if ($this->SingleColumnSorting === NULL) $this->SingleColumnSorting =$this->_il1r->SingleColumnSorting; if ($this->VirtualScrolling === NULL) $this->VirtualScrolling =$this->_il1r->VirtualScrolling; if ($this->ShowHeader === NULL) $this->ShowHeader =$this->_il1r->ShowHeader; if ($this->ShowFooter === NULL) $this->ShowFooter =$this->_il1r->ShowFooter; if ($this->RowAlternative === NULL) $this->RowAlternative =$this->_il1r->RowAlternative; if ($this->PageSize === NULL) $this->PageSize =$this->_il1r->PageSize; if ($this->DataSource === NULL) $this->DataSource =$this->_il1r->DataSource; $this->DataSource->setcharset($this->_il1r->CharSet); if ($this->Width === NULL) $this->Width ="100%"; if ($_il6l == NULL) { if ($this->Height === NULL) $this->Height =$this->_il1r->Height; } if ($this->AutoGenerateRowSelectColumn === NULL) $this->AutoGenerateRowSelectColumn =$this->_il1r->AutoGenerateRowSelectColumn; if ($this->AutoGenerateExpandColumn === NULL) $this->AutoGenerateExpandColumn =$this->_il1r->AutoGenerateExpandColumn; if ($this->AutoGenerateColumns === NULL) $this->AutoGenerateColumns =$this->_il1r->AutoGenerateColumns; if ($this->AutoGenerateEditColumn === NULL) $this->AutoGenerateEditColumn =$this->_il1r->AutoGenerateEditColumn; if ($this->AutoGenerateDeleteColumn === NULL) $this->AutoGenerateDeleteColumn =$this->_il1r->AutoGenerateDeleteColumn; if ($this->DisableAutoGenerateDataFields === NULL) $this->DisableAutoGenerateDataFields =$this->_il1r->DisableAutoGenerateDataFields; if ($this->ColumnWrap === NULL) $this->ColumnWrap =$this->_il1r->ColumnWrap; if ($this->ColumnAlign === NULL) $this->ColumnAlign =$this->_il1r->ColumnAlign; if ($this->_iO2q === NULL) $this->_iO2q =$this->_il1r->_iO2q; if ($this->TableLayout === NULL) $this->TableLayout =$this->_il1r->TableLayout; if ($this->FilterOptions === NULL) $this->FilterOptions =$this->_il1r->FilterOptions; if ($this->AllowMultiSelecting) { $this->AllowSelecting =TRUE; } if ($this->AutoGenerateRowSelectColumn) { $_iO6l=new gridrowselectcolumn(); $_iO6l->Align ="ce\156\164e\162"; $_il13=array($_iO6l); $this->_il2h =array_merge($_il13,$this->_il2h); } if ($this->AutoGenerateExpandColumn) { $_il6m=new gridexpanddetailcolumn(); $_il6m->Align ="\143\145nter"; $_il13=array($_il6m); $this->_il2h =array_merge($_il13,$this->_il2h); } if ($this->AutoGenerateColumns) { $_iO19=$this->DataSource->getfields(); $_il2e=$this->DataSource->geterror(); if ($_il2e != "") $this->_il1r->EventHandler->ondatasourceerror($this,array("Error" => $_il2e)); $_iO6m=$this->DisableAutoGenerateDataFields.","; foreach ($_iO19 as $_ily) { if (strpos($_iO6m,$_ily["\116\141me"].",") === FALSE) { $_iO2h=new gridboundcolumn(); $_iO2h->HeaderText =$_ily["\116ame"]; $_iO2h->DataField =$_ily["Name"]; if ($_ily["\116\157t_Null"] == 1) { $_iO2h->addvalidator(new requiredfieldvalidator()); } $this->addcolumn($_iO2h); } } } if ($this->AutoGenerateEditColumn) { $_il6n=new grideditdeletecolumn(); $_il6n->Align ="center"; $_il6n->ShowDeleteButton =FALSE; $this->addcolumn($_il6n); } if ($this->AutoGenerateDeleteColumn) { $_iO6n=new grideditdeletecolumn(); $_iO6n->Align ="center"; $_iO6n->ShowEditButton =FALSE; $this->addcolumn($_iO6n); } for ($_iO8=0; $_iO8<sizeof($this->_il2h); $_iO8 ++) { $this->_il2h[$_iO8]->_il1u =$this->_il1u."\137c".$_iO8; $this->_il2h[$_iO8]->_iO1s($this); } if ($this->Pager != NULL) { $this->Pager->_il1u =$this->_il1u."\137\160g"; $this->Pager->_iO1s($this); } $this->FunctionPanel->_iO1s($this); $this->GroupPanel->_il1u =$this->_il1u."_\147\160"; $this->GroupPanel->_iO1s($this); for ($_iO8=0; $_iO8<sizeof($this->_il2u); $_iO8 ++) { $this->_il2u[$_iO8]->_il1u =$this->_il1u."_gm".$_iO8; $this->_il2u[$_iO8]->_iO1s($this); } } function getparentrow() { return $this->_il5k; } function _iO1p() { if ( isset ($this->_il23->_il1m[$this->_il1u ])) { $_il26=$this->_il23->_il1m[$this->_il1u ]; $this->Width =$_il26["\127idth"]; $this->_iO6j =$_il26["\124ableP\141\162tWidth"]; $this->_iO6g =$_il26["R\157\167\163Count"]; $this->_il5o =$_il26["Insertin\147"]; $this->_iO6h =$_il26["scr\157\154\154Top"]; $this->_il6i =$_il26["\163\143rollLeft"]; if ( isset ($_il26["Sele\143\164\145dKeys"])) { $this->SelectedKeys =$_il26["\123electedK\145\171\163"]; } if ( isset ($_il26["PartD\141\164\141Heigh\164"])) { $this->_iO6i =$_il26["\120\141rtDataHe\151\147\150t"]; } $this->_il6k =$_il26["GroupSi\172\145"]; } if ($this->Pager != NULL) { $this->Pager->_iO1p(); } for ($_iO8=0; $_iO8<sizeof($this->_il2h); $_iO8 ++) { $this->_il2h[$_iO8]->_iO1p(); } } function _il1q() { $this->_il23->_il1m[$this->_il1u ]=array("RowsCou\156\164" => sizeof($this->_il3j),"Name" => $this->Name ,"\123\145lectedK\145\171\163" => $this->SelectedKeys ,"In\163\145\162ting" => $this->_il5o ,"All\157\167\110overi\156\147" => $this->AllowHovering ,"\101\154lowSelec\164\151\156g" => $this->AllowSelecting ,"\101llowMult\151\123\145lect\151\156g" => $this->AllowMultiSelecting ,"All\157\167\123crolli\156\147" => $this->AllowScrolling ,"Virtu\141\154\123croll\151\156\147" => $this->VirtualScrolling ,"\106rozenCo\154\165\155nsCou\156\164" => $this->FrozenColumnsCount ,"\163\143rollTop" => $this->_iO6h ,"\163crollLef\164" => $this->_il6i ,"W\151\144th" => $this->Width ,"\124\141\142lePar\164\127\151dth" => $this->_iO6j ,"\107\162\157upSiz\145" => sizeof($this->_il2u),); if ($this->Pager != NULL) { $this->Pager->_il1q(); } for ($_iO8=0; $_iO8<sizeof($this->_il2h); $_iO8 ++) { $this->_il2h[$_iO8]->_il1q(); } for ($_iO8=0; $_iO8<sizeof($this->_il3j); $_iO8 ++) { $this->_il3j[$_iO8]->_il1q(); } for ($_iO8=0; $_iO8<sizeof($this->_il2u); $_iO8 ++) { $this->_il2u[$_iO8]->_il1q(); } if ($this->_iO65 !== NULL) { $this->_iO65->_il1q(); } } function _iO60($_iO1b) { $_iO1b->_il1u =$this->_il1u."_r".sizeof($this->_il3j); $_iO1b->_iO1s($this); array_push($this->_il3j ,$_iO1b); } function _il29() { $this->_iO1p(); if ($this->_il5o) { $this->_il6j =$this->InsertSettings->_iO29(); $this->_il6j->_iO1s($this); } for ($_iO8=0; $_iO8<$this->_iO6g; $_iO8 ++) { $_iO1b=new gridrow(); $this->_iO60($_iO1b); $_iO1b->_il29(); } if ($this->_il6k !== NULL) { $this->_il2u =array(); for ($_iO8=0; $_iO8<$this->_il6k; $_iO8 ++) { $_il62=new _il2q(); $_il62->_il1u =$this->_il1u."\137gm".$_iO8; $_il62->_iO1s($this); $_il62->_il29(); array_push($this->_il2u ,$_il62); } } else { $this->_il6k =sizeof($this->_il2u); } } function refresh() { $this->_il6h =TRUE; $this->_il1v =TRUE; } function _iO2b($_iO22) { if (! isset ($this->_il23->_il1m[$this->_il1u ])) { $this->_il1v =TRUE; } foreach ($this->_il2u as $_il15) { $_il15->_iO2b($_iO22); } $this->DataSource->clear(); if ( isset ($_iO22->_il1y[$this->_il1u ])) { $_il2c=$_iO22->_il1y[$this->_il1u ]; switch ($_il2c["\103omman\144"]) { case "\123tartIns\145\162\164": if ($this->_il1r->EventHandler->onbeforestartinsert($this,array()) == TRUE) { $this->_il5o =TRUE; $this->_il6j =$this->InsertSettings->_iO29(); $this->_il6j->_iO1s($this); $this->_il6j->_iO2c ="\123tartIn\163\145\162t"; $this->_il1r->EventHandler->onstartinsert($this,array()); } break; case "Co\156\146\151rmIns\145\162\164": $this->_il6j->_iO2c ="C\157\156\146irmIn\163\145\162t"; $this->_il6j->_il5j(); break; case "\103ancelI\156\163\145rt": if ($this->_il1r->EventHandler->onbeforecancelinsert($this,array()) == TRUE) { $this->_il5o =FALSE; $this->_il1r->EventHandler->oncancelinsert($this,NULL); } break; case "Refresh": $this->refresh(); break; case "AddGrou\160": $_il6o=$_il2c["A\162\147\163"]["GroupF\151\145\154d"]; $_il2t=$_il2c["Args"]["Pos\151\164\151on"]; if ($this->_il1r->EventHandler->onbeforeaddgroup($this,array("Posi\164\151\157n" => $_il2t)) == TRUE) { $_iO6o=TRUE; foreach ($this->_il2u as $_il15) { if ($_il15->GroupField == $_il6o) { $_iO6o=FALSE; } } if ($_iO6o) { $_iO2t=new _il2q(); $_iO2t->GroupField =$_il6o; $_iO2t->addinfofield($_il6o); foreach ($this->_il2h as $_iO11) { if ($_iO11->DataField == $_il6o) { $_iO2t->HeaderText =$_iO11->HeaderText; } } $_iO2t->_iO1s($this); if ($_il2t === NULL || ($_il2t>=sizeof($this->_il2u))) { array_push($this->_il2u ,$_iO2t); } else { $_iO2u=array(); for ($_iO8=0; $_iO8<sizeof($this->_il2u); $_iO8 ++) { if ($_il2t == $_iO8) { array_push($_iO2u,$_iO2t); } array_push($_iO2u,$this->_il2u[$_iO8]); } $this->_il2u =$_iO2u; } for ($_iO8=0; $_iO8<sizeof($this->_il2u); $_iO8 ++) { $this->_il2u[$_iO8]->_il1u =$this->_il1u."\137gm".$_iO8; } } $this->_il1r->EventHandler->onaddgroup($this,array("Positio\156" => $_il2t)); $this->refresh(); } break; case "Chang\145\107\162oupO\162\144\145r": $_il6o=$_il2c["\101\162gs"]["GroupFi\145\154\144"]; $_il6p=$_il2c["Args"]["\120\157\163ition"]; if ($this->_il1r->EventHandler->onbeforechangegrouporder($this,array("Gro\165\160\106ield" => $_il6o,"\120\157\163ition" => $_il6p)) == TRUE) { $_iO6p=0; for ($_iO8=0; $_iO8<sizeof($this->_il2u); $_iO8 ++) { if ($this->_il2u[$_iO8]->GroupField == $_il6o) { $_iO6p=$_iO8; } } if ($_il6p === NULL || $_il6p>=sizeof($this->_il2u)) { $_il6p=sizeof($this->_il2u); } $_iO2u=array(); for ($_iO8=0; $_iO8<=sizeof($this->_il2u); $_iO8 ++) { if ($_iO8 == $_il6p) { array_push($_iO2u,$this->_il2u[$_iO6p]); } if ($_iO8 != $_iO6p && $_iO8<sizeof($this->_il2u)) { array_push($_iO2u,$this->_il2u[$_iO8]); } } $this->_il2u =$_iO2u; for ($_iO8=0; $_iO8<sizeof($this->_il2u); $_iO8 ++) { $this->_il2u[$_iO8]->_il1u =$this->_il1u."\137gm".$_iO8; } $this->_il1r->EventHandler->onchangegrouporder($this,array("GroupF\151\145\154d" => $_il6o,"P\157\163\151tion" => $_il6p)); $this->refresh(); } break; case "Remove\107\162\157up": $_il6o=$_il2c["\101rgs"]["Group\106\151\145ld"]; if ($this->_il1r->EventHandler->onbeforeremovegroup($this,array("G\162\157\165pField" => $_il6o)) == TRUE) { $_iO2u=array(); for ($_iO8=0; $_iO8<sizeof($this->_il2u); $_iO8 ++) { if ($this->_il2u[$_iO8]->GroupField != $_il6o) { array_push($_iO2u,$this->_il2u[$_iO8]); } } $this->_il2u =$_iO2u; for ($_iO8=0; $_iO8<sizeof($this->_il2u); $_iO8 ++) { $this->_il2u[$_iO8]->_il1u =$this->_il1u."_gm".$_iO8; } $this->_il1r->EventHandler->onremovegroup($this,array("\107roupFiel\144" => $_il6o)); } break; } } if ($this->_il5k !== NULL) { if ($this->_il5k->_iO23->_il6h && $this->_il5k->_iO23->KeepRowStateOnRefresh) { $this->refresh(); } } $this->_il1r->EventHandler->ontableviewprerender($this,array()); foreach ($this->_il2h as $_iO11) { $_iO11->_iO2b($_iO22); } if (sizeof($this->_il2u)>0) { $_il13=array(); for ($_iO8=0; $_iO8<sizeof($this->_il2u); $_iO8 ++) { $this->DataSource->addsort(new datasourcesort($this->_il2u[$_iO8]->GroupField ,($this->_il2u[$_iO8]->Sort <0) ? "DESC": "ASC")); $_il6q=new _iO3o(); $_il6q->_il1u =$this->_il1u."_gc".$_iO8; $_il6q->_iO1s($this); array_push($_il13,$_il6q); } $this->_il2h =array_merge($_il13,$this->_il2h); } foreach ($this->_il3j as $_iO1b) { $_iO1b->_iO2b($_iO22); } if ($this->_il5k != NULL) { foreach ($this->_iO5k as $_ily) { $this->DataSource->addfilter(new datasourcefilter($_ily["\104\145tail"],"Equal",$this->_il5k->DataItem[$_ily["\115\141ster"]])); } } if ($this->Pager != NULL) { $this->Pager->_iO49 =$this->DataSource->count(); $_il2e=$this->DataSource->geterror(); if ($_il2e != "") $this->_il1r->EventHandler->ondatasourceerror($this,array("\105\162ror" => $_il2e)); $this->Pager->_iO2b($_iO22); } $_iO6q=array(); if ($this->KeepSelectedRecords && $this->DataKeyNames !== NULL) { foreach ($this->SelectedKeys as $_il6r) { $_iO6q[_ilq($_il6r)]=$_il6r; } foreach ($this->_il3j as $_iO1b) { $_il6r=_iOn($_iO1b->DataItem ,$this->DataKeyNames); $_iO6r=_ilq($_il6r); if ($_iO1b->Selected) { $_iO6q[$_iO6r]=$_il6r; } else { if ( isset ($_iO6q[$_iO6r])) { unset ($_iO6q[$_iO6r]); } } } } if ($this->_il1v) { $_il1n=array(); $this->DataSource->arrangesorts($this->MultiSortingOrder); if ($this->Pager != NULL) { $_il1n=$this->DataSource->getdata($this->Pager->_il4b(),$this->Pager->PageSize); } else { $_il1n=$this->DataSource->getdata(); } $_il2e=$this->DataSource->geterror(); if ($_il2e != "") $this->_il1r->EventHandler->ondatasourceerror($this,array("\105rror" => $_il2e)); $_il6s=array(); if ($this->_il6h && $this->KeepRowStateOnRefresh && $this->DataKeyNames !== NULL) { foreach ($this->_il3j as $_iO1b) { $_il6r=_iOn($_iO1b->DataItem ,$this->DataKeyNames); $_iO6r=_ilq($_il6r); $_il6s[$_iO6r]=$_iO1b; } } $this->_il3j =array(); for ($_iO8=0; $_iO8<sizeof($_il1n); $_iO8 ++) { $_iO1b=new gridrow(); $_iO1b->DataItem =$_il1n[$_iO8]; if ($this->_il6h && $this->KeepRowStateOnRefresh && $this->DataKeyNames !== NULL) { $_il6r=_iOn($_iO1b->DataItem ,$this->DataKeyNames); $_iO6r=_ilq($_il6r); if ($_il6s[$_iO6r] !== NULL) { $_iO6s=$_iO1b->DataItem; $_iO1b=$_il6s[$_iO6r]; $_iO1b->DataItem =$_iO6s; } } $this->_iO60($_iO1b); $_iO1b->_iO2b($_iO22); } $_iO63=array(); foreach ($this->_il2h as $_iO11) { if ($_iO11->Aggregate !== NULL) { array_push($_iO63,array("\113ey" => $_iO11->_il1u ,"Aggrega\164\145" => $_iO11->Aggregate ,"\104ataFi\145\154d" => $_iO11->DataFieldPrefix.$_iO11->DataField)); } } $_iO18=NULL; if (sizeof($_iO63)>0) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_iO18=$this->DataSource->getaggregates($_iO63); } $_il2e=$this->DataSource->geterror(); if ($_il2e != "") $this->_il1r->EventHandler->ondatasourceerror($this,array("Error" => $_il2e)); if ($_iO18 !== NULL) { foreach ($this->_il2h as $_iO11) { if ( isset ($_iO18[$_iO11->_il1u ])) { $_iO11->_iO2p =$_iO18[$_iO11->_il1u ]; } } } } $this->SelectedKeys =array(); if ($this->KeepSelectedRecords && $this->DataKeyNames !== NULL) { if ($this->_il1v) { foreach ($this->_il3j as $_iO1b) { $_il6r=_iOn($_iO1b->DataItem ,$this->DataKeyNames); $_iO6r=_ilq($_il6r); if ( isset ($_iO6q[$_iO6r])) { $_iO1b->Selected =TRUE; } } } foreach ($_iO6q as $_il6r) { array_push($this->SelectedKeys ,$_il6r); } } else { foreach ($this->_il3j as $_iO1b) { if ($_iO1b->Selected) { $_il6r=_iOn($_iO1b->DataItem ,$this->DataKeyNames); array_push($this->SelectedKeys ,$_il6r); } } } if (sizeof($this->_il2u)>0) { $this->_iO65 =new _il5x(); $this->_iO65->_il1u =$this->_il1u."\137rg"; $this->_iO65->_iO1s($this); $this->_iO65->_iO5y =-1; $this->_iO65->_il61($this->_il3j); $this->_iO65->_il29(); $this->_iO65->_iO2b($_iO22); } } function getinstancerows() { return $this->_il3j; } function getinstancecolumns() { return $this->_il2h; } function exporttocsv() { $_il6t=$this->_il1r->ExportSettings; header("\120ragm\141\072 pub\154\151\143"); header("Expi\162\145\163: 0"); header("Cac\150\145\055Cont\162\157l: mu\163\164-reva\154\151date\054\040po\163\164-che\143\153=0, p\162\145-chec\153\0750"); header("C\141\143\150e-Co\156\164rol: p\165\142lic"); header("Con\164\145nt-Desc\162\151ption\072\040File\040\124ransf\145\162"); header("Con\164\145nt-Type\072\040appli\143\141tion/\146\157rce-\144\157wnlo\141\144;"); header("Cont\145\156t-Dispo\163\151tion:\040\141ttach\155\145nt; \146\151lena\155\145=\042".$_il6t->FileName."\056csv\042"); header("Con\164\145\156t-Tr\141\156sfer-\105\156\143odi\156\147: bin\141\162y"); $_iO6t=TRUE; foreach ($this->_il2h as $_iO11) { if ($_iO11->AllowExporting) { if (!$_iO6t) echo "\054"; echo "\042".$_iO11->HeaderText."\042"; $_iO6t=FALSE; } } echo "\015\n"; if ($_il6t->IgnorePaging) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_il6u=$this->DataSource->getdata(); $_il2e=$this->DataSource->geterror(); if ($_il2e != "") $this->_il1r->EventHandler->ondatasourceerror($this,array("E\162\162or" => $_il2e)); foreach ($_il6u as $_iO26) { $_iO1b=new gridrow(); $_iO1b->DataItem =$_iO26; $_iO6t=TRUE; foreach ($this->_il2h as $_iO11) { if ($_iO11->AllowExporting) { if (!$_iO6t) echo ","; echo "\042".$_iO11->renderexport($_iO1b)."\042"; $_iO6t=FALSE; } } echo "\015\n"; } } else { foreach ($this->_il3j as $_iO1b) { $_iO6t=TRUE; foreach ($this->_il2h as $_iO11) { if ($_iO11->AllowExporting) { if (!$_iO6t) echo "\054"; echo "\042".$_iO11->renderexport($_iO1b)."\042"; $_iO6t=FALSE; } } echo "\015\n"; } } exit (); } function exporttoexcel() { error_reporting(0); if (!class_exists("\120\110PExcel",FALSE)) { $_iO6u=dirname(dirname( __FILE__)); require_once $_iO6u.'/library/PHPExcel/Classes/PHPExcel.php'; require_once $_iO6u.'/library/PHPExcel/Classes/PHPExcel/Cell.php'; require_once $_iO6u.'/library/PHPExcel/Classes/PHPExcel/IOFactory.php'; } $_il6t=$this->_il1r->ExportSettings; $_il6v=new phpexcel(); $_il6v->setactivesheetindex(0); $_iO6v=0; $_il6w=1; $_iO6w=array(); foreach ($this->_il2h as $_iO11) { if ($_iO11->AllowExporting) { $_il3g=phpexcel_cell::stringfromcolumnindex($_iO6v).$_il6w; $_il6v->getactivesheet()->setcellvalue($_il3g,$_iO11->HeaderText); $_il6v->getactivesheet()->getstyle($_il3g)->getalignment()->sethorizontal(phpexcel_style_alignment::HORIZONTAL_LEFT); $_il6v->getactivesheet()->getstyle($_il3g)->getfont()->setbold(TRUE); $_iO6w[$_iO6v]=strlen($_iO11->HeaderText); $_iO6v ++; } } $_il6w ++; $_iO6v=0; if ($_il6t->IgnorePaging) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_il6u=$this->DataSource->getdata(); $_il2e=$this->DataSource->geterror(); if ($_il2e != "") $this->_il1r->EventHandler->ondatasourceerror($this,array("E\162ror" => $_il2e)); foreach ($_il6u as $_iO26) { $_iO1b=new gridrow(); $_iO1b->DataItem =$_iO26; foreach ($this->_il2h as $_iO11) { if ($_iO11->AllowExporting) { $_il3=$_iO11->renderexport($_iO1b); $_il3g=phpexcel_cell::stringfromcolumnindex($_iO6v).$_il6w; $_il6v->getactivesheet()->setcellvalue($_il3g,$_il3); $_il6v->getactivesheet()->getstyle($_il3g)->getalignment()->sethorizontal(phpexcel_style_alignment::HORIZONTAL_LEFT); if ($_iO6w[$_iO6v]<strlen( "$_il3")) { $_iO6w[$_iO6v]=strlen( "$_il3"); } $_iO6v ++; } } $_il6w ++; $_iO6v=0; } } else { foreach ($this->_il3j as $_iO1b) { foreach ($this->_il2h as $_iO11) { if ($_iO11->AllowExporting) { $_il3=$_iO11->renderexport($_iO1b); $_il3g=phpexcel_cell::stringfromcolumnindex($_iO6v).$_il6w; $_il6v->getactivesheet()->setcellvalue($_il3g,$_il3); $_il6v->getactivesheet()->getstyle($_il3g)->getalignment()->sethorizontal(phpexcel_style_alignment::HORIZONTAL_LEFT); if ($_iO6w[$_iO6v]<strlen( "$_il3")) { $_iO6w[$_iO6v]=strlen( "$_il3"); } $_iO6v ++; } } $_il6w ++; $_iO6v=0; } } for ($_iO8=0; $_iO8<sizeof($_iO6w); $_iO8 ++) { $_il6v->getactivesheet()->getcolumndimensionbycolumn($_iO8)->setwidth((($_iO6w[$_iO8]<055) ? $_iO6w[$_iO8]: 055)+5); } header('Content-Type: application/vnd.ms-excel'); header('Content-Disposition: attachment;filename="'.$_il6t->FileName.'.xls"'); header('Cache-Control: max-age=0'); header('Cache-Control: max-age=1'); header('Last-Modified: '.gmdate('D, d M Y H:i:s').' GMT'); header('Cache-Control: cache, must-revalidate'); header('Pragma: public'); $_il6x=phpexcel_iofactory::createwriter($_il6v,'Excel5'); $_il6x->save('php://output'); exit; } function exporttoword() { $_il6t=$this->_il1r->ExportSettings; header("\120ragma:\040\160ublic"); header("\105\170pires:\040\060"); header("\103\141\143he-C\157\156\164rol\072\040mus\164\055reva\154\151dat\145\054 po\163\164-chec\153\0750, pr\145\055check\075\060"); header("\103ache-C\157\156\164rol: \160\165blic"); header("Content-\104\145\163crip\164\151\157n: \106\151\154e Tr\141\156sfer"); header("Co\156\164\145nt-Ty\160\145\072 ap\160\154\151cati\157\156\057msw\157\162d"); header("Cont\145\156\164-Disp\157\163\151tion\072\040attac\150\155ent; \146\151lena\155\145=\042".$_il6t->FileName."\056doc\042"); header("Co\156\164\145nt-Tr\141\156\163fer-\105\156\143odin\147\072 bina\162\171"); echo "<\164\141\142le bor\144\145\162='1'\076"; echo "\074\164r>"; foreach ($this->_il2h as $_iO11) { if ($_iO11->AllowExporting) { echo "<th al\151\147\156='lef\164\047 style\075\047backgr\157\165nd-co\154\157r:#E\105\105\105EE;'\076".$_iO11->HeaderText."</th>"; } } echo "\074/tr>"; if ($_il6t->IgnorePaging) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_il6u=$this->DataSource->getdata(); $_il2e=$this->DataSource->geterror(); if ($_il2e != "") $this->_il1r->EventHandler->ondatasourceerror($this,array("\105\162ror" => $_il2e)); foreach ($_il6u as $_iO26) { $_iO1b=new gridrow(); $_iO1b->DataItem =$_iO26; echo "\074\164r>"; foreach ($this->_il2h as $_iO11) { if ($_iO11->AllowExporting) { echo "\074\164\144>".$_iO11->renderexport($_iO1b)."\074\057td>"; } } echo "\074/tr>"; } } else { foreach ($this->_il3j as $_iO1b) { echo "<tr>"; foreach ($this->_il2h as $_iO11) { if ($_iO11->AllowExporting) { echo "\074td>".$_iO11->renderexport($_iO1b)."</td>"; } } echo "\074/tr>"; } } echo "\074\057table>"; exit (); } function exporttopdf() { if (!class_exists("\124\103PDF",FALSE)) { $_iO6u=dirname(dirname( __FILE__)); require_once $_iO6u."\057\154ibrary/\164\143pdf/con\146\151g/lang\057\145ng.ph\160"; require_once $_iO6u."\057library\057\164\143pdf/\164\143\160df.p\150\160"; } $_il6t=$this->_il1r->ExportSettings; $_iO6x=new tcpdf(PDF_PAGE_ORIENTATION,PDF_UNIT,PDF_PAGE_FORMAT,TRUE,$this->_il1r->CharSet ,FALSE); $_iO6x->setfont('FreeSans','',012); $_iO6x->addpage(); $_il6y=""; $_il6y.='<table border="1">'; $_il6y.="<tr\076"; foreach ($this->_il2h as $_iO11) { if ($_iO11->AllowExporting) { $_il6y.='<th align="left" style="background-color: #EEEEEE;"><b>'.$_iO11->HeaderText.'</b></th>'; } } $_il6y.="</tr>"; if ($_il6t->IgnorePaging) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_il6u=$this->DataSource->getdata(); $_il2e=$this->DataSource->geterror(); if ($_il2e != "") $this->_il1r->EventHandler->ondatasourceerror($this,array("Error" => $_il2e)); foreach ($_il6u as $_iO26) { $_iO1b=new gridrow(); $_iO1b->DataItem =$_iO26; $_il6y.="<tr>"; foreach ($this->_il2h as $_iO11) { if ($_iO11->AllowExporting) { $_il6y.="\074td>".$_iO11->renderexport($_iO1b)."</t\144\076"; } } $_il6y.="</\164\162\076"; } } else { foreach ($this->_il3j as $_iO1b) { $_il6y.="<t\162\076"; foreach ($this->_il2h as $_iO11) { if ($_iO11->AllowExporting) { $_il6y.="\074td>".$_iO11->renderexport($_iO1b)."<\057\164\144>"; } } $_il6y.="<\057\164\162>"; } } $_il6y.="\074/table\076"; $_iO6x->writehtml($_il6y,TRUE,0,TRUE,0); $_iO6x->output($_il6t->FileName."\056\160df","D"); exit (); } function _iO1v() { $_iO6y="\074div i\144\075'\173id}\047\040class\075\047kgrTab\154\145View\047\040styl\145\075'\173wi\144\164\150}\173h\145\151ght}'>\074\144iv \143\154\141ss='\153\147rTop'>\173\147\162oupp\141\156\145l}\173\160\141ger_to\160\175\173fun\143\164\151onpa\156\145\154_t\157\160\175</d\151\166\076\173t\141\142\154es}<\144\151v cla\163\163\075'kg\162\102\157ttom\047\076\173fu\156\143\164ionp\141\156el_bo\164\164\157m}\173\160\141ger_b\157\164tom}\173\163\164atus\175\074/div>\074\057div>"; $_il6z="\074table\040\143\154ass=\047\153grTabl\145\047 cell\163\160\141cin\147\075'0' \163\164yle='\173\163\164yle}'\076\173colgro\165\160}\173t\150\145\141d}\173\164\146oot}\173\164\142ody}<\057\164able>"; $_iO6z="<di\166\040class=\047\173class\175\047 sty\154\145='\173d\151\166sty\154\145}'><\164\141ble i\144\075'\173i\144\175_\173pa\162\164}' s\164\171le='\173\163\164yle}\047\040clas\163\075'kgrT\141\142le'>\173\143\157lgro\165\160}\173t\160\141rt}</\164\141ble></di\166\076"; $_il70="<\143\157\154group>\173\143\157ls}\074\057colgro\165\160>"; $_iO70="<\164\150\145ad><t\162\076\173ths}\074\057tr>\173\151\156sertf\157\162m}\173\146\151\154ter}\074\057thead\076"; $_il71="<tr>\173\164\144\163}</t\162\076"; $_iO71="\074tfoot>\173\164\146oot_t\162\163\175</tf\157\157t>"; $_il72="\074tr>\173c\157\154\137foot\145\162\137tds}\074\057tr>"; $_iO72="\074\164body>\173\164\142ody_tr\163\175</tbod\171\076"; $_il73=""; $_iO6c=""; $_iO73=""; $_il74=sizeof($this->_il2h); for ($_iO8=0; $_iO8<$_il74; $_iO8 ++) { $_iO74=$this->_il2h[$_iO8]; $_il73.=$_iO74->_il30(); if ($this->ShowHeader) { $_iO6c.=$_iO74->renderheader(); } if ($this->ShowFooter) { $_iO73.=$_iO74->renderfooter(); } } $_il75=_iO0("\173cols}",$_il73,$_il70); $_iO75=_iO0("\173\164hs}",$_iO6c,$_iO70); $_iO75=_iO0("\173\151nsertfo\162\155}",($this->_il5o) ? $this->_il6j->_iO1v(): "",$_iO75); $_il76=FALSE; for ($_iO8=0; $_iO8<sizeof($this->_il2h); $_iO8 ++) { if ($this->_il2h[$_iO8]->AllowFiltering) { $_il76=TRUE; } } if ($_il76) { $_iO76=""; for ($_iO8=0; $_iO8<sizeof($this->_il2h); $_iO8 ++) { $_iO76.=$this->_il2h[$_iO8]->_iO37(); } $_il77=_iO0("\173tds}",$_iO76,$_il71); $_iO75=_iO0("\173fil\164\145\162}",$_il77,$_iO75); } else { $_iO75=_iO0("\173\146ilter}","",$_iO75); } $_iO77=""; $_il78=""; if (strtolower($this->ShowFunctionPanel)) { $_iO78=$this->FunctionPanel->_iO1v(); $_iO2y=$this->CssClasses; $_iO78=_iO0("\173\143\163\163clas\163\145\163}",isset ($_iO2y['function panel']) ? $_iO2y['function panel']: '',$_iO78); switch ($this->FunctionPanel->Position) { case "top": $_iO77=$this->FunctionPanel->_iO1v(); break; case "top+bo\164\164\157m": $_iO77=$this->FunctionPanel->_iO1v(); $_il78=$this->FunctionPanel->_iO1v(); break; case "\142ottom": default : $_il78=$this->FunctionPanel->_iO1v(); break; } } $_il79=""; if ($this->ShowGroupPanel) { $_il79=$this->GroupPanel->_iO1v(); } $_iO79=""; $_il7a=""; if ($this->Pager != NULL) { $_iO7a=$this->Pager->_iO1v(); $_iO2y=$this->CssClasses; $_iO7a=_iO0("\173c\163\163\143lasse\163\175",isset ($_iO2y['pager']) ? $_iO2y['pager']: '',$_iO7a); switch (strtolower($this->Pager->Position)) { case "t\157\160": $_iO79=$_iO7a; break; case "top+bot\164\157\155": $_iO79=$_iO7a; $_il7a=$_iO7a; break; case "b\157\164\164om": default : $_il7a=$_iO7a; break; } } $_il7b=""; if ($this->_il1u == $this->_il1r->_il1u."\137mt" && $this->_il1r->ShowStatus) { $_il7b=$this->_il1r->Status->_iO1v(); } $_iO7b=""; if ($this->ShowFooter) { $_il7c=_iO0("\173col\137\146\157oter_\164\144s}",$_iO73,$_il72); $_iO7b.=$_il7c; } $_iO7c=_iO0("\173\164\146oot_t\162\163\175",$_iO7b,$_iO71); $_il7d=""; for ($_iO8=0; $_iO8<sizeof($this->_il3j); $_iO8 ++) { if ($this->RowAlternative) { $this->_il3j[$_iO8]->_il25 =($_iO8%2 != 0); } } if (sizeof($this->_il2u)>0) { $_il7d=$this->_iO65->_iO1v(); } else { for ($_iO8=0; $_iO8<sizeof($this->_il3j); $_iO8 ++) { $_il7d.=$this->_il3j[$_iO8]->_iO1v(); } } $_iO7d=_iO0("\173tbody\137\164\162s}",$_il7d,$_iO72); $_il7e=_iO0("\173\151\144}",$this->_il1u ,$_iO6y); if ($this->AllowScrolling == TRUE) { $_iO7e="\164\141ble-la\171\157\165t:fi\170\145d; emp\164\171-cells\072\040sh\157\167; ove\162\146\154ow-y\072\150idden;\040\167idth:\173\167idth};"; $_iO7e=_iO0("\173\167\151dth}",($this->_iO6j != NULL) ? $this->_iO6j : "100%",$_iO7e); $_il7f=_iO0("\173id}",$this->_il1u ,$_iO6z); $_il7f=_iO0("\173par\164\175","\150\145\141der",$_il7f); $_il7f=_iO0("\173class\175","\153grPar\164\110\145ader",$_il7f); $_il7f=_iO0("\173colg\162\157\165p}",$_il75,$_il7f); $_il7f=_iO0("\173tpa\162\164\175",$_iO75,$_il7f); $_il7f=_iO0("\173\163\164\171le}",$_iO7e,$_il7f); $_il7f=_iO0("\173\144\151vstyl\145\175","",$_il7f); $_iO7f=_iO0("\173\151d}",$this->_il1u ,$_iO6z); $_iO7f=_iO0("\173part}","data",$_iO7f); $_iO7f=_iO0("\173\143\154\141ss}","\153\147rPartDa\164\141",$_iO7f); $_iO7f=_iO0("\173colgro\165\160\175",$_il75,$_iO7f); $_iO7f=_iO0("\173tpart}",$_iO7d,$_iO7f); $_iO7f=_iO0("\173\163\164yle}",$_iO7e,$_iO7f); $_il7g=""; $_il7g.=($this->_iO6i) ? "\150\145\151ght:".$this->_iO6i."\160\170\073": ""; $_iO7f=_iO0("\173\144ivstyle}",$_il7g,$_iO7f); $_iO7g=_iO0("\173id\175",$this->_il1u ,$_iO6z); $_iO7g=_iO0("\173\160\141\162t}","\146\157oter",$_iO7g); $_iO7g=_iO0("\173\143lass}","\153grPartFo\157\164\145r",$_iO7g); $_iO7g=_iO0("\173colg\162\157\165p}",$_il75,$_iO7g); $_iO7g=_iO0("\173tpart}",$_iO7c,$_iO7g); $_iO7g=_iO0("\173st\171\154\145}",$_iO7e,$_iO7g); $_iO7g=_iO0("\173divstyl\145\175","",$_iO7g); $_iO7f=_iO0("\173\143olgroup\175",$_il75,$_iO7f); $_iO7f=_iO0("\173\164part}",$_iO7d,$_iO7f); $_il7e=_iO0("\173\164ables}",$_il7f.$_iO7f.$_iO7g,$_il7e); } else { $_il2k=$_il6z; $_il2k=_iO0("\173\143\157lgroup}",$_il75,$_il2k); $_il2k=_iO0("\173\163tyle}","table-lay\157\165\164: \173\154\141yout}\073\145mpty-\143\145\154ls\072\040show\073\173width}",$_il2k); $_il2k=_iO0("\173l\141\171\157ut}",$this->TableLayout ,$_il2k); if ($this->Width !== NULL && strpos($this->Width ,"%") !== FALSE) { $_il2k=_iO0("\173wi\144\164\150}","\167idth:100\045",$_il2k); } $_il2k=_iO0("\173thead}",($this->ShowHeader) ? $_iO75: "",$_il2k); $_il2k=_iO0("\173tfoot\175",$_iO7c,$_il2k); $_il2k=_iO0("\173\164\142ody}",$_iO7d,$_il2k); $_il7e=_iO0("\173\164ables}",$_il2k,$_il7e); } $_il7e=_iO0("\173wi\144\164\150}",($this->Width != "") ? "widt\150\072".$this->Width.";": "",$_il7e); $_il7e=_iO0("\173\150eight}",($this->Height != "") ? "\150eight:".$this->Height."\073": "",$_il7e); $_il7e=_iO0("\173\147\162ouppan\145\154\175",$_il79,$_il7e); $_il7e=_iO0("\173f\165\156\143tionp\141\156\145l_t\157\160\175",$_iO77,$_il7e); $_il7e=_iO0("\173functi\157\156\160anel_\142\157ttom}",$_il78,$_il7e); $_il7e=_iO0("\173\160\141ger_to\160\175",$_iO79,$_il7e); $_il7e=_iO0("\173pager\137\142\157ttom}",$_il7a,$_il7e); $_il7e=_iO0("\173\163tatus}",$_il7b,$_il7e); return $_il7e; } } class _il7h { var $LoadingText; var $DoneText; function _iO1s($_il1t) { if ($this->LoadingText === NULL) $this->LoadingText =$_il1t->Localization->_il1y["Loading"]; if ($this->DoneText === NULL) $this->DoneText =$_il1t->Localization->_il1y["Done"]; } function _iO1v() { $_iO7h="<div cla\163\163='kgrSt\141\164\165s'>\074\163pan cl\141\163s='k\147\162Done\124\145\170t'>\173\144\157netex\164\175</span\076\074span\040\143lass='\153\147\162Load\151\156gText'\076\173loadi\156\147\164ext}\074\057span>\074\057div>"; $_il7b=_iO0("\173\144onetex\164\175",$this->DoneText ,$_iO7h); $_il7b=_iO0("\173\154\157adingte\170\164\175",$this->LoadingText ,$_il7b); return $_il7b; } } class _il7i { var $IgnorePaging=FALSE; var $FileName="\113\157olGridE\170\160\157rt"; } class _iO7i { var $Resizing; var $Selecting; var $Scrolling; var $ClientMessages; var $ClientEvents; var $_il1r; function __construct() { $this->Resizing =array("\122esizeGri\144\117\156Colum\156\122esize" => FALSE); $this->Selecting =array(); $this->Scrolling =array("S\141\166\145Scroll\151\156\147Posi\164\151on" => TRUE); $this->ClientMessages =array("\104elete\103\157\156firm" => NULL); $this->ClientEvents =array(); } function _iO1s($_il1t) { $this->_il1r =$_il1t; if ($this->ClientMessages["DeleteC\157\156\146irm"] === NULL) $this->ClientMessages["D\145\154\145teConf\151\162\155"]=$_il1t->Localization->_iO1y["\104\145leteCon\146\151\162m"]; } function _il1q() { $_il1x=$this->_il1r->_il23; $_il7j=$this->_il1r->_il1u; $_il1x->_il1m[$_il7j]["Cl\151\145\156tSett\151\156\147s"]=array(); $_il1x->_il1m[$_il7j]["Cl\151\145\156tSett\151\156\147s"]["\122\145sizing"]=$this->Resizing; $_il1x->_il1m[$_il7j]["Cli\145\156\164Setti\156\147\163"]["\123electing"]=$this->Selecting; $_il1x->_il1m[$_il7j]["Clie\156\164\123etting\163"]["Scrollin\147"]=$this->Scrolling; $_il1x->_il1m[$_il7j]["\103\154\151entSe\164\164\151ngs"]["Cl\151\145\156tMess\141\147\145s"]=$this->ClientMessages; $_il1x->_il1m[$_il7j]["\103\154ientSet\164\151\156gs"]["ClientEv\145\156\164s"]=$this->ClientEvents; } } class _iO6d { var $ShowRefreshButton=TRUE; var $ShowInsertButton=TRUE; var $RefreshButtonText; var $InsertButtonText; var $Position="\142\157ttom"; var $_iO23; var $PanelTemplate="\173\111\156sert}\040\173Refres\150\175"; function _iO1s($_iO25) { $this->_iO23 =$_iO25; if ($this->RefreshButtonText === NULL) $this->RefreshButtonText =$_iO25->_il1r->Localization->_il1y["\122efresh"]; if ($this->InsertButtonText === NULL) $this->InsertButtonText =$_iO25->_il1r->Localization->_il1y["\111\156\163ert"]; } function _iO1v() { $_iO7j="<di\166\040\143lass\075\047kgrFun\143\164ionPa\156\145\154'>\173\143\157nte\156\164}</div\076"; $_il3m="\074input cl\141\163\163='nod\145\143or' ty\160\145='but\164\157\156' o\156\143lick=\047\173onclic\153\175\047 tit\154\145='\173t\151\164le}'/>"; $_iO4i="\074a hre\146\075'javasc\162\151pt:voi\144\0400' on\143\154\151ck=\047\173oncl\151\143\153}' t\151\164le='\173\164\151tle}'>\173\164ext}<\057\141>"; $_il4j="\074span cl\141\163\163= '\173\143\154ass} \173\143sscla\163\163\145s}'\076\173butto\156\175\173a}</\163\160an> "; $_il7k=_iO0("\173class}","\153\147rRefresh",$_il4j); $_il7k=_iO0("\173butt\157\156\175",$_il3m,$_il7k); $_il7k=_iO0("\173\141\175",($this->RefreshButtonText != NULL) ? $_iO4i: "",$_il7k); $_il7k=_iO0("\173oncl\151\143\153}","ta\142\154\145view_\162\145\146resh\050\164his)",$_il7k); $_il7k=_iO0("\173t\151\164\154e}","",$_il7k); $_il7k=_iO0("\173\164ext}",$this->RefreshButtonText ,$_il7k); $_iO7k=_iO0("\173c\154\141\163s}","kgrI\156\163\145rt",$_il4j); $_iO7k=_iO0("\173\142\165tton}",$_il3m,$_iO7k); $_iO7k=_iO0("\173a}",($this->InsertButtonText != NULL) ? $_iO4i: "",$_iO7k); $_iO7k=_iO0("\173\157\156click}","\147rid_ins\145\162\164(this\051",$_iO7k); $_iO7k=_iO0("\173\164itle}","",$_iO7k); $_iO7k=_iO0("\173text}",$this->InsertButtonText ,$_iO7k); $_il7l=_iO0("\173\143\157\156tent\175",$this->PanelTemplate ,$_iO7j); $_il7l=_iO0("\173Refr\145\163\150}",($this->ShowRefreshButton) ? $_il7k: "",$_il7l); $_il7l=_iO0("\173I\156\163\145rt}",($this->ShowInsertButton) ? $_iO7k: "",$_il7l); return $_il7l; } } class _iO7l implements _il1p { var $_il1u; var $_il23; var $MasterTable; var $_iO1u; var $AjaxEnabled=FALSE; var $AjaxHandlePage; var $_iO2c; var $Status; var $AllowHovering=FALSE; var $AllowSelecting=FALSE; var $AllowMultiSelecting=FALSE; var $AllowEditing=FALSE; var $AllowDeleting=FALSE; var $AllowScrolling=FALSE; var $AllowSorting=FALSE; var $AllowResizing=FALSE; var $AllowFiltering=FALSE; var $AllowGrouping=FALSE; var $VirtualScrolling=FALSE; var $SingleColumnSorting=FALSE; var $ShowHeader=TRUE; var $ShowFooter=FALSE; var $RowAlternative=FALSE; var $AutoGenerateRowSelectColumn=FALSE; var $AutoGenerateExpandColumn=FALSE; var $AutoGenerateColumns=FALSE; var $AutoGenerateEditColumn=FALSE; var $AutoGenerateDeleteColumn=FALSE; var $DisableAutoGenerateDataFields=""; var $KeepSelectedRecords=FALSE; var $ShowStatus=FALSE; var $ColumnWrap=FALSE; var $ColumnAlign; var $_iO2q; var $KeepRowStateOnRefresh=FALSE; var $TableLayout="\141uto"; var $Width; var $Height; var $FilterOptions; var $PageSize=012; var $DataSource; var $ClientSettings; var $Localization; var $CharSet="UTF-8"; var $KeepViewStateInSession=FALSE; var $KeepGridRefresh=FALSE; var $EventHandler; var $ExportSettings; function __construct($_il3w) { $this->_il1u =$_il3w; $this->_il23 =new _iO1q(); $this->Localization =new _iO1x(); $this->MasterTable =new gridtableview("\115aster\124\141\142le"); $this->_iO2c =new _il21($this); $this->Status =new _il7h(); $this->ClientSettings =new _iO7i(); $this->FilterOptions =array("No_\106\151\154ter","Eq\165\141\154","Not_Eq\165\141\154","\107reater\137\124\150an","\114\145ss_Than","\107\162eater_T\150\141\156_Or_\105\161ual","\114\145ss_Tha\156\137\117r_Eq\165\141\154","Cont\141\151\156","Not_Con\164\141\151n","\123tart_\127\151\164h","\105\156d_With"); $this->ExportSettings =new _il7i(); } function _iO1s() { if ($this->EventHandler === NULL) $this->EventHandler =new grideventhandler(); $this->_il23->_iO1s($this); $this->_iO1u->_il1u =$this->_il1u."\137mt"; $this->_iO1u->_iO1s($this,NULL); $this->ClientSettings->_iO1s($this); $this->Status->_iO1s($this); if ($this->DataSource !== NULL) { $this->DataSource->setcharset($this->CharSet); } } function _iO1p() { if ( isset ($this->_il23->_il1m[$this->_il1u ])) { $_il26=$this->_il23->_il1m[$this->_il1u ]; } } function _il1q() { $this->_il23->_il1m =array(); $this->_il23->_il1m[$this->_il1u ]=array(); $this->_iO1u->_il1q(); $this->ClientSettings->_il1q(); } function process() { $this->_iO1u =$this->MasterTable->_iO29(); $this->_iO1s(); $this->_iO1p(); $this->_iO1u->_il29(); if ( isset ($this->_iO2c->_il1y[$this->_il1u ])) { $_il2c=$this->_iO2c->_il1y[$this->_il1u ]; switch ($_il2c["Command"]) { case "\122efres\150": $this->refresh(); break; } } if ($this->KeepGridRefresh) { $this->_il7m =TRUE; } $this->EventHandler->ongridprerender($this,array()); $this->_iO1u->_iO2b($this->_iO2c); } function refresh() { if ($this->_iO1u !== NULL) { $this->_iO1u->refresh(); } } function getinstancemastertable() { return $this->_iO1u; } function _iO7m() { $this->_il1q(); $_iO4s="\173ma\163\164\145rtabl\145\175\173vie\167\163\164ate}\173\143omma\156\144}"; $_il8=_iO0("\173m\141\163\164ertab\154\145\175",$this->_iO1u->_iO1v(),$_iO4s); $_il8=_iO0("\173viewsta\164\145\175",$this->_il23->_iO1v(),$_il8); $_il8=_iO0("\173comman\144\175",$this->_iO2c->_iO1v(),$_il8); return $_il8; } function registerclientevent($_il45,$_il7n) { $this->ClientSettings->ClientEvents[$_il45]=$_il7n; } } class grideventhandler { function onbeforedetailtablesexpand($_iO7n,$_iO4u) { return TRUE; } function ondetailtablesexpand($_iO7n,$_iO4u) { } function onbeforedetailtablescollapse($_iO7n,$_iO4u) { return TRUE; } function ondetailtablescollapse($_iO7n,$_iO4u) { } function onbeforerowstartedit($_iO7n,$_iO4u) { return TRUE; } function onrowstartedit($_iO7n,$_iO4u) { } function onbeforerowcanceledit($_iO7n,$_iO4u) { return TRUE; } function onrowcanceledit($_iO7n,$_iO4u) { } function onbeforerowdelete($_iO7n,$_iO4u) { return TRUE; } function onrowdelete($_iO7n,$_iO4u) { } function onbeforecolumnsort($_iO7n,$_iO4u) { return TRUE; } function oncolumnsort($_iO7n,$_iO4u) { } function onbeforecolumnfilter($_iO7n,$_iO4u) { return TRUE; } function oncolumnfilter($_iO7n,$_iO4u) { } function onbeforecolumngroup($_iO7n,$_iO4u) { return TRUE; } function oncolumngroup($_iO7n,$_iO4u) { } function onbeforecolumnremovegroup($_iO7n,$_iO4u) { return TRUE; } function oncolumnremovegroup($_iO7n,$_iO4u) { } function onbeforeaddgroup($_iO7n,$_iO4u) { return TRUE; } function onaddgroup($_iO7n,$_iO4u) { } function onbeforechangegrouporder($_iO7n,$_iO4u) { return TRUE; } function onchangegrouporder($_iO7n,$_iO4u) { } function onbeforeremovegroup($_iO7n,$_iO4u) { return TRUE; } function onremovegroup($_iO7n,$_iO4u) { } function onbeforepageindexchange($_iO7n,$_iO4u) { return TRUE; } function onpageindexchange($_iO7n,$_iO4u) { } function onbeforepagesizechange($_iO7n,$_iO4u) { return TRUE; } function onpagesizechange($_iO7n,$_iO4u) { } function _il4a($_iO7n,$_iO4u) { return TRUE; } function _iO4a($_iO7n,$_iO4u) { } function onbeforerowconfirmedit($_iO7n,$_iO4u) { return TRUE; } function onrowconfirmedit($_iO7n,$_iO4u) { } function onbeforeconfirminsert($_iO7n,$_iO4u) { return TRUE; } function onconfirminsert($_iO7n,$_iO4u) { } function onbeforestartinsert($_iO7n,$_iO4u) { return TRUE; } function onstartinsert($_iO7n,$_iO4u) { } function onbeforecancelinsert($_iO7n,$_iO4u) { return TRUE; } function oncancelinsert($_iO7n,$_iO4u) { } function ondatasourceerror($_iO7n,$_iO4u) { } function onrowprerender($_iO7n,$_iO4u) { } function ontableviewprerender($_iO7n,$_iO4u) { } function ongridprerender($_iO7n,$_iO4u) { } } class koolgrid extends _iO7l { var $_il0="5.6\056\060.0"; var $styleFolder; var $_iO7e; var $scriptFolder; var $id; var $AjaxLoadingImage; function __construct($_il3w) { $this->id =$_il3w; parent:: __construct($_il3w); } function render() { $_il7o=""; $_il7o.=$this->registercss(); $_iO7o= isset ($_POST["\137_koolaj\141\170"]) || isset ($_GET["__\153\157\157lajax"]); $_il7o.=($_iO7o) ? "": $this->registerscript(); $_il7o.=$this->rendergrid(); $_il7o.="\074script\040\164ype='te\170\164/javas\143\162ipt'>"; $_il7o.=$this->startupscript(); $_il7o.="</\163\143\162ipt>"; if ($this->AjaxEnabled && class_exists("\125\160\144atePan\145\154")) { $_il7p=new updatepanel($this->id."_update\160\141\156el"); $_il7p->content =$_il7o; $_il7p->cssclass =$this->_iO7e."\113\107\122_Updat\145\120\141nel"; if ($this->AjaxLoadingImage) { $_il7p->setloading($this->AjaxLoadingImage); } $_il7o=$_il7p->render(); } return $_il7o; } function rendergrid() { $this->_iO7p(); $_il7q="\n\074!--Koo\154\107\162id ve\162\163ion \173\166\145rsion\175\040- w\167\167\056koo\154\160\150p.ne\164\040-->\n"; $_iO7q=_iO0("\173\166\145rsion}",$this->_il0 ,$_il7q); $_il8=_iO0("\173id}",$this->id ,_il7()); if (_iO7($_il8)) { $_il8=_iO0("\173\163\164yle}",$this->_iO7e ,$_il8); } $_il8=_iO0("\173trademar\153\175",$_iO7q,$_il8); $_il8=_iO0("\173\167\151\144th}",($this->Width !== NULL) ? "\167idth\072".$this->Width : "",$_il8); $_il8=_iO0("\173\143\157ntent\175",parent::_iO7m(),$_il8); $_il8=_iO0("\173v\145\162\163ion}",$this->_il0 ,$_il8); return $_il8; } function _iO7p() { $this->styleFolder =_iO0("\134","\057",$this->styleFolder); $_il7r=trim($this->styleFolder ,"\057"); $_iO7r=strrpos($_il7r,"\057"); $this->_iO7e =substr($_il7r,($_iO7r ? $_iO7r: -1)+1); } function registercss() { $this->_iO7p(); $_il7s="<\163\143\162ipt t\171\160\145='te\170\164/javas\143\162ipt'>i\146\040(do\143\165\155ent.\147\145\164Elem\145\156\164ById\050\047__\173\163\164yle}KG\122\047)==nul\154\051\173var\040\137head \075\040docume\156\164.getE\154\145\155ents\102\171\124agNa\155\145('he\141\144\047)[0\135\073var _\154\151\156k = \144\157cumen\164\056\143rea\164\145\105leme\156\164\050'li\156\153\047); \137\154ink.i\144\040\075 '_\137\173style\175\113\107R';\137\154\151nk.r\145\154='sty\154\145sheet\047\073 _lin\153\056href=\047\173sty\154\145path}\057\173styl\145\175/\173st\171\154e}.cs\163\047;_he\141\144\056app\145\156dChil\144\050_lin\153\051;var\040\137link \075\040docu\155\145nt.c\162\145\141teE\154\145ment(\047\154ink'\051\073 _li\156\153.id \075\040'__K\107\122';_li\156\153.rel\075\047styl\145\163heet'\073\040_li\156\153.href\075\047\173s\164\171lepat\150\175/koo\154\147rid.\143\163s';_\150\145\141d.a\160\160endC\150\151ld(_\154\151nk);\175\074/scr\151\160t>"; $_il7o=_iO0("\173\163tyle}",$this->_iO7e ,$_il7s); $_il7o=_iO0("\173stylepa\164\150\175",$this->_iO7s(),$_il7o); return $_il7o; } function registerscript() { $_il7s="<scri\160\164\040type\075\047text/\152\141\166ascr\151\160t'>if\050\164ypeo\146\040_libK\107\122\075='un\144\145\146ined\047\051\173do\143\165\155ent\056\167\162ite(\165\156\145scap\145\050\042%3C\163\143ript t\171\160e='tex\164\057javas\143\162\151pt' \163\162c='\173\163\162c}'%3\105\040%3C/s\143\162\151pt%3\105\042));_l\151\142KGR=1\073\175\074/sc\162\151\160t>"; $_il7o=_iO0("\173src\175",$this->_il7t()."\077".md5("js"),$_il7s); return $_il7o; } function startupscript() { $_il7s="\166ar \173id\175\073 funct\151\157\156 \173\151\144\175_in\151\164()\173\040\173id}=ne\167\040KoolG\162\151\144('\173\151\144\175',\173\101\152axEna\142\154\145d},'\173\101jaxHan\144\154ePage}\047\051;}"; $_il7s.="\151f (type\157\146\050Kool\107\162id)==\047\146\165nct\151\157n')\173\173\151d}_i\156\151t();}"; $_il7s.="else\173\151\146(type\157\146\050__K\107\122\111nits\051\075='un\144\145fined\047\051\173__\113\107\122Init\163\075\156ew A\162\162ay();\175\040__KGRI\156\151ts.pus\150\050\173id}\137\151\156it);\173\162\145gist\145\162_scrip\164\175}"; $_iO7t="if(typ\145\157\146(_lib\113\107R)=='u\156\144\145fine\144\047)\173v\141\162 _hea\144\040= docu\155\145nt.get\105\154\145ment\163\102yTagNa\155\145\050'he\141\144\047)[0]\073\166ar _sc\162\151pt = d\157\143\165ment\056\143reate\105\154\145ment\050\047scrip\164\047); _\163\143\162ipt\056\164\171pe=\047\164\145xt/j\141\166ascri\160\164\047; _\163\143\162ipt.\163\162c='\173\163\162\143}';\040\137head.\141\160\160endC\150\151ld(_s\143\162\151pt)\073\137libKG\122\0751;}"; $_il7u=_iO0("\173sr\143\175",$this->_il7t()."\077".md5("js"),$_iO7t); $_il7o=_iO0("\173\151\144}",$this->id ,$_il7s); $_il7o=_iO0("\173\101jaxEna\142\154ed}",$this->AjaxEnabled ? "\061": "\060",$_il7o); $_il7o=_iO0("\173Ajax\110\141\156dleP\141\147\145}",$this->AjaxHandlePage ,$_il7o); $_il7o=_iO0("\173reg\151\163\164er\137\163crip\164\175",$_il7u,$_il7o); return $_il7o; } function _il7t() { if ($this->scriptFolder == "") { $_il5=_iO3(); $_iO43=substr(_iO0("\134","\057",__FILE__),strlen($_il5)); return $_iO43; } else { $_iO43=_iO0("\134","/",__FILE__); $_iO43=$this->scriptFolder.substr($_iO43,strrpos($_iO43,"/")); return $_iO43; } } function _iO7s() { $_iO7u=$this->_il7t(); $_il7v=_iO0(strrchr($_iO7u,"/"),"",$_iO7u)."\057sty\154\145s"; return $_il7v; } } } ?> 
