<?php $_gl0="2.1.0.\061"; function _gO0($_gl1) { return md5($_gl1); } function _gO1() { $_gl2=_gO2("\134","\057",strtolower($_SERVER["SCRIP\124\137NAME"])); $_gl2=_gO2(strrchr($_gl2,"\057"),"",$_gl2); $_gl3=_gO2("\134","\057",realpath(".")); $_gO3=_gO2($_gl2,"",strtolower($_gl3)); return $_gO3; } function _gO2($_gl4,$_gO4,$_gl5) { return str_replace($_gl4,$_gO4,$_gl5); } class _gi10 { static $_gi10="\1730}\1731\175\074div i\144\075'\173id\175\047 clas\163\075'\173s\164\171le}K\125\114' styl\145\075'widt\150\072\173widt\150\175;heig\150\164:\173he\151\147\150t};'\076\173mainc\157\156\164ent}\173\165\160load\145\144Files}\173\164empla\164\145\163}</d\151\166>\1732\175"; } function _gO5() { header("\103ontent\055\164ype: t\145\170\164/jav\141\163\143ript"); } function _gl6() { echo "\166\141r _giO1=\060\073"; } function _gO6() { return exit (); } function _gl7() { return _gi10::$_gi10; } function _gO7( &$_gl8) { for ($_gO8=0; $_gO8<3; $_gO8 ++) $_gl8=_gO2("\173".$_gO8."}","",$_gl8); return TRUE; } if ( isset ($_GET[_gO0("\152s")])) { _gO5(); ?> function _gO(_go){return (_go!=null);}function _gY(_gy){return document.getElementById(_gy); }function _gI(_gi,_gA){var _ga=document.createElement(_gi); _gA.appendChild(_ga); return _ga; }function _gE(_go,_ge){if (!_gO(_ge))_ge=1; for (var i=0; i<_ge; i++)_go=_go.firstChild; return _go; }function _gU(_go,_ge){if (!_gO(_ge))_ge=1; for (var i=0; i<_ge; i++)_go=_go.nextSibling; return _go; }function _gu(_go,_ge){if (!_gO(_ge))_ge=1; for (var i=0; i<_ge; i++)_go=_go.parentNode; return _go; }function _gZ(_go,_gz){_go.style.height=_gz+"px"; }function _gX(_go,_gz){_go.style.width=_gz+"px"; }function _gx(_gW,_gw,_gV){_gV=_gO(_gV)?_gV:document.body; var _gv=_gV.getElementsByTagName(_gW); var _gT=new Array(); for (var i=0; i<_gv.length; i++)if (_gv[i].className.indexOf(_gw)>=0){_gT.push(_gv[i]); }return _gT; }function _gt(){var _gS=window.navigator.userAgent; var _gs=_gS.indexOf("MSIE "); if (_gs>0)return parseInt(_gS.substring(_gs+5,_gS.indexOf(".",_gs))); else return 0; }function getElementsByClassName(_gR,_gr){var a=[]; var _gQ=new RegExp("(^| )"+_gr+"( |$)"); var _gq=_gR.getElementsByTagName("*"); for (var i=0,_gP=_gq.length; i<_gP; i++)if (_gQ.test(_gq[i].className))a.push(_gq[i]); return a; }function _gp(){return (typeof(_giO1)=="undefined");}function _gN(_go,_gz){_go.style.display=(_gz)?"": "none"; }function _gn(_go){return (_go.style.display!="none"); }function _gM(_go){return _go.className; }function _gm(_go,_gz){_go.className=_gz; }function _gL(_gl,_gK,_gk){_gm(_gk,_gM(_gk).replace(_gl,_gK)); }function _gJ(_go,_gw){if (_go.className.indexOf(_gw)<0){var _gj=_go.className.split(" "); _gj.push(_gw); _go.className=_gj.join(" "); }}function _gH(_go,_gw){if (_go.className.indexOf(_gw)>-1){_gL(_gw,"",_go); var _gj=_go.className.split(" "); _go.className=_gj.join(" "); }}function _gh(_gG,_gg,_gF,_gf){if (_gG.addEventListener){_gG.addEventListener(_gg,_gF,_gf); return true; }else if (_gG.attachEvent){if (_gf){return false; }else {var _gD= function (){_gF.apply(_gG,[window.event]); };if (!_gG["ref"+_gg])_gG["ref"+_gg]=[]; else {for (var _gd in _gG["ref"+_gg]){if (_gG["ref"+_gg][_gd]._gF === _gF)return false; }}var _gC=_gG.attachEvent("on"+_gg,_gD); if (_gC)_gG["ref"+_gg].push( {_gF:_gF,_gD:_gD } ); return _gC; }}else {return false; }}function _gc(_gB){var a=_gB.attributes,i,_gb,_go0; if (a){_gb=a.length; for (i=0; i<_gb; i+=1){_go0=a[i].name; if (typeof _gB[_go0] === "function"){_gB[_go0]=null; }}}a=_gB.childNodes; if (a){_gb=a.length; for (i=0; i<_gb; i+=1){_gc(_gB.childNodes[i]); }}}function _gO0(_gl,_gl0){return _gl0.indexOf(_gl); }function _gi0(_gI0){if (_gI0.stopPropagation)_gI0.stopPropagation(); else _gI0.cancelBubble= true; }function _go1(_gO1,_gl1){var _gi1="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz" .split(""); var _gI1=_gi1,_go2=[],_gO2=Math.random; _gl1=_gl1 || _gI1.length; if (_gO1){for (var i=0; i<_gO1; i++)_go2[i]=_gI1[0|_gO2()*_gl1]; }else {var _gl2=0,_gi2; _go2[8]=_go2[13]=_go2[18]=_go2[23]="-"; _go2[14]="4"; for (var i=0; i<36; i++){if (!_go2[i]){_gi2=0|_gO2()*16; _go2[i]=_gI1[(i==19)?(_gi2&3)|8:_gi2&15]; }}}return _go2.join(""); }function _gI2(){var _go3=navigator.userAgent.toLowerCase(); if (_gO0("opera",_go3)!=-1){return "opera"; }else if (_gO0("firefox",_go3)!=-1){return "firefox"; }else if (_gO0("safari",_go3)!=-1){return "safari"; }else if ((_gO0("msie",_go3)!=-1) && (_gO0("opera",_go3)==-1)){return "ie"; }else {return "firefox"; }}function _gO3(_gk){var _gl3="{"; for (var _gi3 in _gk){switch (typeof(_gk[_gi3])){case "string":_gl3+="\""+_gi3+"\":\""+_gk[_gi3]+"\","; break; case "number":_gl3+="\""+_gi3+"\":"+_gk[_gi3]+","; break; case "object":_gl3+="\""+_gi3+"\":"+_gO3(_gk[_gi3])+","; break; }}if (_gl3.length>1)_gl3=_gl3.substring(0,_gl3.length-1); _gl3+="}"; if (_gl3=="{}")_gl3="null"; return _gl3; }var _gI3= {_go4:function (_gO4){return Object.prototype.toString.call(_gO4) === "[object Date]"; } ,_gl4:function (_gO4){return Object.prototype.toString.call(_gO4) === "[object Array]"; } ,_gi4:function (_gO4){return Object.prototype.toString.call(_gO4) === "[object Object]"; } ,_gI4:function (_gO4){return typeof _gO4 === "string"; } ,_go5:function (value){return typeof value === "number" && isFinite(value); } ,_gO5:function (_gl5,_gi5,p){var _gI5= true; if (typeof _gl5 === "string"){var _go6=_gi5; if (this._gI4(_go6))_go6=_go6.split(" "); if (!this._gl4(_go6))return false; for (var i in _go6){var _gO6=new RegExp("(\\s|^)"+_go6[i]+"(\\s|$)","i"); _gI5=_gI5 && _gO6.test(_gl5); }return _gI5; }else {if (!p)p="className"; if (_gl5 && this._gI4(_gl5[p]))_gI5=this._gO5(_gl5[p],_gi5); else _gI5= false; }return _gI5; } ,_gl6:function (_gl5,_gi5,p){var _gI5= false; if (typeof _gl5 === "string"){var _go6=_gi5; if (this._gI4(_go6))_go6=_go6.split(" "); if (!this._gl4(_go6))return false; for (var i in _go6){var _gO6=new RegExp("(\\s|^)"+_go6[i]+"(\\s|$)","i"); _gI5=_gI5 || _gO6.test(_gl5); }return _gI5; }else {if (!p)p="className"; if (_gl5 && this._gI4(_gl5[p]))_gI5=this._gl6(_gl5[p],_gi5); else _gI5= false; }return _gI5; } ,_gi6:function (_gl5,_gi5,p){var _gI5=_gl5; if (typeof _gl5 === "string"){var _go6=_gi5; if (this._gI4(_go6))_go6=_go6.split(" "); if (!this._gl4(_go6))return false; for (var i in _go6)if (!this._gO5(_gl5,_go6[i]))_gI5+=" "+_go6[i]; }else if (_gl5){if (!p)p="className"; if (!_gl5[p])_gl5[p]=""; _gI5[p]=this._gi6(_gl5[p],_gi5); }return _gI5; } ,_gI6:function (_gl5,_gi5,p){var _gI5=_gl5; if (typeof _gl5 === "string"){var _go6=_gi5; if (this._gI4(_go6))_go6=_go6.split(" "); if (!this._gl4(_go6))return false; for (var i in _go6){var _gO6=new RegExp("(\\s|^)"+_go6[i]+"(\\s|$)","ig"); _gI5=_gI5.replace(_gO6,""); }}else if (_gl5){if (!p)p="className"; if (_gl5[p])_gI5[p]=this._gI6(_gl5[p],_gi5); }return _gI5; }} ; var _go7= {} ; function KoolUploaderItem(_gy,files,_gO7){ this._gy=_gy; this.id=_gy; this.files=files; this._gO7=_gO7; }KoolUploaderItem.prototype= {_gl7:{ "pdf": "pdf_2-24","zip": "zip_2-24","rar": "zip_2-24","7z": "zip_2-24","xls": "excel_2-24","xlsx": "excel_2-24","jpg": "image_2-24","png": "image_2-24","gif": "image_2-24","txt": "text_2-24","doc": "word_2-24","docx": "word_2-24","ppt": "powerpoint_2-24","pptx": "powerpoint_2-24" } ,_gi7:function (){var _gI7=this._go8(); var _gO8=this.getFileName(); var _gl8=_gY(this._gy); if (!_gI7._gi8(_gO8)){var _gI8=_gx("span","kulStatus",_gl8)[0]; _gI8.innerHTML=_gY(_gI7._gy+".message.file_not_allowed").innerHTML; _gJ(_gl8,"kulNotAllowed"); _gJ(_gl8,"kulDone"); _gJ(_gI8,"kulError"); _gI7._go9("OnUploadDone", { "ItemId": this._gy } ); }if (_gO8.lastIndexOf(".")>0){var _gO9=_gO8.substr(_gO8.lastIndexOf(".")+1).toLowerCase(); var _gl9=_gx("span","kulThumbnail",_gY(this._gy))[0]; _gJ(_gl9,"kul"+_gO9); } this._gi9(); } ,_gI9:function (){var _gO8=this.getFileName(); if (_gO8.lastIndexOf(".")>0){var _gO9=_gO8.substr(_gO8.lastIndexOf(".")+1).toLowerCase(); var _goa=this._gl7[_gO9]?this._gl7[_gO9]: "file_2-24"; var _gl9=_gx("span","kulThumbnail",_gY(this._gy))[0]; _gJ(_gl9,"kul"+_gO9); }var _gl8=_gY(this._gy); _gJ(_gl8,"kulDone"); } ,_gi9:function (){var _gl8=_gY(this._gy); var _gOa=0; for (var i=0; i<_gl8.children.length; i+=1){if (_gOa<_gl8.children[i].offsetHeight)_gOa=_gl8.children[i].offsetHeight; }_gl8.style.height=_gOa+"px"; } ,_gla:function (){var _gl8=_gY(this._gy); var _gia=0; var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _gob=getElementsByClassName(_gl8,"kulLeftMost")[0]; else var _gob=_gl8.getElementsByClassName("kulLeftMost")[0]; for (var i=0; i<_gob.children.length; i+=1){var _gOb=_gob.children[i]; if (_gia<_gOb.offsetWidth)_gia=_gOb.offsetWidth; }var _glb=document.createElement("div"); _glb.innerHTML="&nbsp;"; _glb.style.width=_gia+"px"; _glb.style.height="1px"; _gob.appendChild(_glb); } ,_go8:function (){return eval(this._gy.substring(0,_gO0(".",this._gy))); } ,_gib:function (_gIb){var _goc=_gx("span","kulProgress",_gY(this._gy))[0]; var _gOc=_gE(_goc); _gOc.title=_gIb+"%"; var _glc=_gOc.offsetWidth; _gOc.style.backgroundPosition="-"+(_glc*(100-_gIb)/100)+"px"; } ,setProgressText:function (_gic){var _goc=_gx("span","kulProgress",_gY(this._gy))[0]; var _gIc=_goc.lastChild; _gIc.innerHTML=_gic; } ,attachData:function (_gi3,_god){var _gOd=_gY(this._gy+".data"); var _gl8=_gY(this._gy); if (!_gO(_gOd)){_gOd=document.createElement("input"); _gOd.type="hidden"; _gOd.id=this._gy+".data"; _gOd.value="{}"; _gl8.appendChild(_gOd); }var _gld=eval("__="+_gOd.value); _gld[_gi3]=_god; _gOd.value=_gO3(_gld); } ,upload:function (){if (this.getStatus()!="ready")return; if (!this._go8()._go9("OnBeforeUpload", { "ItemId": this._gy } ))return; var _gI7=this._go8(); var _gl8=_gY(this._gy); var _gid=_gY(this._gy+".data"); var _gld=new Array(); if (_gO(_gid)){_gld=eval("__="+_gid.value); }try {var _gId=document.createElement("<iframe id='"+this._gy+".iframe' name='"+this._gy+".iframe' >"); _gl8.appendChild(_gId); }catch (_goe){var _gId=document.createElement("iframe"); _gId.name=this._gy+".iframe"; _gId.id=this._gy+".iframe"; _gl8.appendChild(_gId); }try {var _gOe=document.createElement("<form id='"+this._gy+".form' method='post' enctype='multipart/form-data' action='"+_gI7._gle+"' target='"+this._gy+".iframe'>"); _gl8.appendChild(_gOe); }catch (_goe){var _gOe=document.createElement("form"); _gOe.id=this._gy+".form"; _gOe.enctype="multipart/form-data"; _gOe.method="post"; _gOe.action=_gI7._gle; _gOe.target=this._gy+".iframe"; _gl8.appendChild(_gOe); }var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="UPLOAD_IDENTIFIER"; var _gIe=_gY(this._gy+".inputFileIds"); if (_gIe && _gIe.value){var _gof=_gIe.value.split(","); var _gOf=[]; for (var i=0; i<_gof.length; i+=1){var _gIf=new KoolUploaderItem(_gof[i]); if (_gIf.getStatus() === "ready" || _gIf.getStatus() === "multiupload item")_gOf.push(_gof[i]); }_gie.value=_gOf.join(","); }else _gie.value=this._gy; _gOe.appendChild(_gie); var _gog=document.createElement("input"); _gog.type="hidden"; _gog.name="MAX_FILE_SIZE"; _gog.value=_gI7._gOg; _gOe.appendChild(_gog); var _glg=document.createElement("input"); _glg.type="hidden"; _glg.name=window["upload_progress_name"]; _glg.value=this._gy; _gOe.appendChild(_glg); if (_gI7._gig !== ""){var _gIg=document.createElement("input"); _gIg.type="hidden"; _gIg.name="targetFolder"; _gIg.value=_gI7._gig; _gOe.appendChild(_gIg); }var _goh=_gY(this._gy+".input"); var _gOh=_gu(_goh); _gc(_goh); var files=this._glh(); if (!files){_goh.id="KUL_FILE"; _goh.name="KUL_FILE[]"; _gOe.appendChild(_goh); }for (var _gi3 in _gld)if (typeof _gld[_gi3]!="function"){var _gih=document.createElement("input"); _gih.type="hidden"; _gih.name=_gi3; _gih.value=_gld[_gi3]; _gOe.appendChild(_gih); }if (_gOh)_gu(_gOh).removeChild(_gOh); if (!files){_gOe.submit(); }else {var _gIh=this ; function _goi(_gOi){var _gli=JSON.parse(this.responseText); kuldonemultiple(_gli); if (this.readyState === 4)_gIh._gii(); }var _gIi=new FormData(_gOe); for (var _goj=0; _goj<files.length; _goj+=1)_gIi.append("KUL_FILE[]",files[_goj]); _gIi.append("xhr", true); var _gOj=new XMLHttpRequest(); _gOj.open("POST",_gI7._gle); _gh(_gOj,"load",_goi); _gOj.send(_gIi); }_gJ(_gl8,"kulUploading"); _gI7._glj(this._gy); this._gib(0); this._go8()._go9("OnUpload", { "ItemId": this._gy } ); if (_gI7._gij){if (!_gI7._go9("OnBeforeUpdateProgress", { "ItemId": this._gy } ))return; this.setProgressText("0%"); _gI7._go9("OnUpdateProgress", { "ItemId": this._gy } ); }} ,remove:function (){var _gI7=this._go8(); if (!_gI7._go9("OnBeforeRemove", { "ItemId": this._gy } ))return; this._gIj(); var _gl8=_gY(this._gy); _gc(_gl8); try {var _gok=_gu(_gY(_gl8.id+".input")); _gu(_gok).removeChild(_gok); }catch (_goe){}_gu(_gl8).removeChild(_gl8); _gI7._go9("OnRemove", { "ItemId": this._gy } ); } ,_gIj:function (){if (this.getStatus()=="uploading"){var _gI7=this._go8(); if (!_gI7._go9("OnBeforeCancel", { "ItemId": this._gy } ))return; var _gl8=_gY(this._gy); _gH(_gl8,"kulUploading"); _gJ(_gl8,"kulDone"); var _gI8=_gx("span","kulStatus",_gl8)[0]; _gI8.innerHTML=_gY(_gI7._gy+".message.upload_cancel").innerHTML; var _gOe=_gY(this._gy+".form"); var _gId=_gY(this._gy+".iframe"); _gl8.removeChild(_gOe); _gl8.removeChild(_gId); _gI7._gOk(this._gy); _gI7._go9("OnCancel", { "ItemId": this._gy } ); }} ,deleteItem:function (){if (this.getStatus() === "uploaded"){var _gI7=this._go8(); if (!_gI7._glk)return; if (!_gI7._go9("OnBeforeDelete", { "ItemId": this._gy } ))return; var _gI7=this._go8(); var _gl8=_gY(this._gy); try {var _gId=document.createElement("<iframe id='"+this._gy+".iframe' name='"+this._gy+".iframe' >"); _gl8.appendChild(_gId); }catch (_goe){var _gId=document.createElement("iframe"); _gId.name=this._gy+".iframe"; _gId.id=this._gy+".iframe"; _gl8.appendChild(_gId); }try {var _gOe=document.createElement("<form id='"+this._gy+".form' method='post' enctype='multipart/form-data' action='"+_gI7._gik+"' target='"+this._gy+".iframe'>"); _gl8.appendChild(_gOe); }catch (_goe){var _gOe=document.createElement("form"); _gOe.id=this._gy+".form"; _gOe.enctype="multipart/form-data"; _gOe.method="post"; _gOe.action=_gI7._gik; _gOe.target=this._gy+".iframe"; _gl8.appendChild(_gOe); }var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="UPLOAD_IDENTIFIER"; _gie.value=this._gy; _gOe.appendChild(_gie); var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="DELETE_IDENTIFIER"; var _gO8=this.getFileName(); _gie.value=_gO8; _gOe.appendChild(_gie); if (_gI7._gig !== ""){var _gIg=document.createElement("input"); _gIg.type="hidden"; _gIg.name="targetFolder"; _gIg.value=_gI7._gig; _gOe.appendChild(_gIg); }_gOe.submit(); _gI7._go9("OnDelete", { "ItemId": this._gy } ); }} ,download:function (){if (this.getStatus() === "uploaded"){var _gI7=this._go8(); if (_gI7 && !_gI7._gIk)return; if (!_gI7._go9("OnBeforeDownload", { "ItemId": this._gy } ))return; var _gl8=_gY(this._gy); try {var _gId=document.createElement("<iframe id='"+this._gy+".iframe' name='"+this._gy+".iframe' >"); _gl8.appendChild(_gId); }catch (_goe){var _gId=document.createElement("iframe"); _gId.name=this._gy+".iframe"; _gId.id=this._gy+".iframe"; _gl8.appendChild(_gId); }try {var _gOe=document.createElement("<form id='"+this._gy+".form' method='post' enctype='multipart/form-data' action='"+_gI7._gol+"' target='"+this._gy+".iframe'>"); _gl8.appendChild(_gOe); }catch (_goe){var _gOe=document.createElement("form"); _gOe.id=this._gy+".form"; _gOe.enctype="multipart/form-data"; _gOe.method="post"; _gOe.action=_gI7._gol; _gOe.target=this._gy+".iframe"; _gl8.appendChild(_gOe); }var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="UPLOAD_IDENTIFIER"; _gie.value=this._gy; _gOe.appendChild(_gie); var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="DOWNLOAD_IDENTIFIER"; var _gO8=this.getFileName(); _gie.value=_gO8; _gOe.appendChild(_gie); if (_gI7._gig !== ""){var _gIg=document.createElement("input"); _gIg.type="hidden"; _gIg.name="targetFolder"; _gIg.value=_gI7._gig; _gOe.appendChild(_gIg); }_gOe.submit(); _gI7._go9("OnDownload", { "ItemId": this._gy } ); }} ,_glh:function (){return _go7[this._gy]; } ,_gii:function (){ delete _go7[this._gy]; } ,getStatus:function (){var _gl8=_gY(this._gy); var _gw=_gM(_gl8); if (_gO0("kulDone",_gw)>0){var _gI8=_gx("span","kulStatus",_gl8)[0]; if (_gO0("kulError",_gM(_gI8))>0){return "failed"; }else {return "uploaded"; }}if (_gO0("kulDeleted",_gw)>0){return "deleted"; }else if (_gO0("kulUploading",_gw)>0){return "uploading"; }else {var _goh=_gY(this._gy+".input"); if (!_goh && !this._glh())return "multiupload item"; else return "ready"; }} ,getDescription:function (){var _gl8=_gY(this._gy); var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _gll=getElementsByClassName(_gl8,"kulDescription"); else var _gll=_gl8.getElementsByClassName("kulDescription"); if (_gll.length>0){var _gil=_gll[0].value; return _gil; }else return ""; } ,getFileName:function (){var _gIl=_gx("span","kulFileName",_gY(this._gy))[0]; return _gIl.innerHTML; } ,getTotalBytes:function (){var _gom=_gY(this._gy+".info"); var _gOm=eval("__="+_gom.value); return parseInt(_gOm["bytes_total"]); } ,getUploadedBytes:function (){var _gom=_gY(this._gy+".info"); var _gOm=eval("__="+_gom.value); return parseInt(_gOm["bytes_uploaded"]); } ,getEstimatedTime:function (){return Math.round(this.getTotalBytes()/this.getAverageSpeed()); } ,getElapsedTime:function (){var _gom=_gY(this._gy+".info"); var _gOm=eval("__="+_gom.value); return parseInt(_gOm["time_last"])-parseInt(_gOm["time_start"]); } ,getEstimatedTimeLeft:function (){var _gom=_gY(this._gy+".info"); var _gOm=eval("__="+_gom.value); return parseInt(_gOm["est_sec"]); } ,getLastSpeed:function (){var _gom=_gY(this._gy+".info"); var _gOm=eval("__="+_gom.value); return _gOm["speed_last"]; } ,getAverageSpeed:function (){var _gom=_gY(this._gy+".info"); var _gOm=eval("__="+_gom.value); return _gOm["speed_average"]; } ,getUploadedPercent:function (){return this.getUploadedBytes()*100/this.getTotalBytes(); } ,_gIm:function (_gI0){ this.upload(); } ,_gon:function (_gI0){ this.remove(); } ,_gOn:function (_gI0){ this._gIj(); } ,_gIn:function (_gI0){ this.deleteItem(); } ,_goo:function (_gT,_gOm){if (_gp())return; var _gl8=_gY(this._gy); _gH(_gl8,"kulUploading"); _gJ(_gl8,"kulDone"); var _gOo=this._go8()._gy; var _gI8=_gx("span","kulStatus",_gl8)[0]; _gI8.innerHTML=_gY(_gOo+".message."+_gT).innerHTML; if (_gO0("successful",_gT)>0){var _gOd=_gY(_gOo+"_uploadedFiles"); var _gIo="[|-"+_gOm["name"]+"-|-"+_gOm["type"]+"-|-"+_gOm["size"]+"-|]"; if (_gO0(_gIo,_gOd.value)<0)_gOd.value+=_gIo; }else {_gJ(_gI8,"kulError"); }var _gom=_gY(this._gy+".info"); var _gOm=eval("__="+_gom.value); _gOm["bytes_uploaded"]=_gOm["bytes_total"]; _gom.value=_gO3(_gOm); var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _gop=getElementsByClassName(_gl8,"kulFileName")[0]; else var _gop=_gl8.getElementsByClassName("kulFileName")[0]; var _gI7=this._go8(); if (_gI7 && _gI7._gIk && _gop){_gop.style.color="#189fee"; _gop.style.cursor="pointer"; var _gIh=this ; _gh(_gop,"click", function (){_gIh.download(); } , false); }var _gOe=_gY(this._gy+".form"); var _gId=_gY(this._gy+".iframe"); if (_gOe)_gl8.removeChild(_gOe); if (_gId)_gl8.removeChild(_gId); this._go8()._gOk(this._gy); this._go8()._go9("OnUploadDone", { "ItemId": this._gy } ); } ,_gOp:function (_gT,_gOm){var _gl8=_gY(this._gy); var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _gop=getElementsByClassName(_gl8,"kulFileName")[0]; else var _gop=_gl8.getElementsByClassName("kulFileName")[0]; if (_gop){_gop.style.color=""; _gop.style.cursor="auto"; _gop.onclick="javascript: void 0;"; }_gH(_gl8,"kulDone"); _gJ(_gl8,"kulDeleted"); var _gOo=this._go8()._gy; var _gI8=_gx("span","kulStatus",_gl8)[0]; _gI8.innerHTML=_gY(_gOo+".message.deleted").innerHTML; } ,_glp:function (_gOm){if (!_gO(_gY(this._gy)))return; if (this.getStatus()=="uploading" && _gO(_gOm)){var _gom=_gY(this._gy+".info"); _gom.value=_gO3(_gOm); var _gip=_gOm.progress; this._gib(_gip); if (!this._go8()._go9("OnBeforeUpdateProgress", { "ItemId": this._gy } ))return; this.setProgressText(_gip+"%"); this._go8()._go9("OnUpdateProgress", { "ItemId": this._gy } ); }}} ; function _gIp(url,_goq,_gOq){var _glq=url; if (_glq.indexOf(_goq+"=")>=0){var _giq=_glq.substring(0,_glq.indexOf(_goq)); var _gIq=_glq.substring(_glq.indexOf(_goq)); _gIq=_gIq.substring(_gIq.indexOf("=")+1); _gIq=(_gIq.indexOf("&")>=0)?_gIq.substring(_gIq.indexOf("&")): ""; _glq=_giq+_goq+"="+_gOq+_gIq; }else {if (_glq.indexOf("?")<0)_glq+="?"+_goq+"="+_gOq; else _glq+="&"+_goq+"="+_gOq; }return _glq; }function _gor(id){var _glb=document.getElementById(id); var _gOr=_glb.firstChild.firstChild; var _glr=_gOr.firstChild.firstChild; var _gir=_gOr.lastChild.firstChild; var _go5= function _go5(value){return typeof value === "number" && isFinite(value); } ; var _gIr=parseInt(_gir.style.height); _gIr=_go5(_gIr)?_gIr: 0; var _gos=parseInt(_glb.style.height); _gos=_go5(_gos)?_gos: 0; _glr.style.height=(_gos-_gIr)+"px"; }function KoolUploader(_gOm){with (_gOm){_gor(id); this._gy=id; this.id=id; if (handlePage !== ""){ this._gle=_gIp(handlePage,upload,1); this._gOs=_gIp(handlePage,status,1); this._gls=_gIp(handlePage,progress,1); this._gik=_gIp(handlePage,del,1); this._gol=_gIp(handlePage,download,1); }else {var url=document.URL; this._gle=_gIp(url,upload,1); this._gOs=_gIp(url,status,1); this._gls=_gIp(url,progress,1); this._gik=_gIp(url,del,1); this._gol=_gIp(url,download,1); } this._gis=updateProgressInterval; this._gij=progressTracking; this._gIs=allowedExtension; this._gig=targetFolder; this._got=currentFiles; this._gOt=mustHaveFiles; this._glk=allowDelete; this._gIk=allowDownload; this._glt=autoUpload; this._git=multipleUpload; this._gOg=maxFileSize; this._gIt=errorMessage1; this._gou=errorMessage2; this._gOu=dragAndDrop; this._glu=new Array(); this._giu=new Array(); this._gIu= false; this._gov=(new Date()).getTime(); this._gi7(); }}KoolUploader.prototype= {_gi7:function (){var _gOd=_gY(this._gy+"_uploadedFiles"); _gOd.value=""; this._gOv(); var _glv=_gY(this._gy+".btn.uploadall"); if (_gO(_glv)){_gh(_glv,"click",_giv, false); }var _gIv=_gY(this._gy+".btn.clearall"); if (_gO(_gIv)){_gh(_gIv,"click",_gow, false); }var _glb=document.getElementById(this._gy); var _gOr=_glb.firstChild.firstChild; var _gOw=_gOr.firstChild; var _glr=_gOw.firstChild; var _glw=_gOw.nextSibling; var _giw=_glw.firstChild; _glr.style.height=(parseInt(_glb.style.height)-parseInt(_giw.style.height))+"px"; for (var i=0; i<this._got.length; i+=1){var _gIw=this._got[i]; this._gox(_gIw); }if (this._gOu){var _gOx=_gY(this._gy+".container"); _gh(_gOx,"dragover",_glx, false); _gh(_gOx,"dragleave",_gix, false); _gh(_gOx,"drop",_gIx, false); }} ,getItems:function (){var _goy=_gx("div","kulItem",_gY(this._gy+".container")); var _gOy=new Array(); for (i in _goy)if (typeof _goy[i]!="function"){_gOy.push(new KoolUploaderItem(_goy[i].id)); }return _gOy; } ,getItem:function (_gly){return (new KoolUploaderItem(_gly)); } ,getItemsStatus:function (){var _giy=[]; var _gOy=this.getItems(); var _gIy=this.getAllDescriptions(); for (var i=0; i<_gOy.length; i+=1){var _gl8=_gOy[i]; var _goz=_gl8.getStatus(); if (_goz === "uploaded"){var _gOz=_gl8.getDescription(); for (var _gP=0; _gP<_gIy.length; _gP+=1)if (_gIy[_gP] === _gOz){_gIy.splice(_gP,1); break; }var _glz= {name:_gl8.getFileName(),description:_gOz } ; _giy.push(_glz); }}if (_gIy.length === 0)return JSON.stringify(_giy); else {var _giz=_gY(this._gy); var _gIz=_giz.firstChild; var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _go10=getElementsByClassName(_gIz,"kulMessage")[0]; else var _go10=_gIz.getElementsByClassName("kulMessage")[0]; var _gO10=this._gIt; _gO10+="\x3cul style=\"list-style-position:inside; color:red\">"; for (var i=0; i<_gIy.length; i+=1)_gO10+="<li>"+_gIy[i]+"</li>"; _gO10+="</ul>"; _gO10+=this._gou; var _gl10= false; if (_go10.style.display === "none"){_gl10= true; }_go10.firstChild.innerHTML=_gO10; _go10.style.display=""; if (_gl10)_giz.style.height=parseFloat(_giz.style.height)+_go10.offsetHeight+"px"; return false; }} ,getAllDescriptions:function (){var _gi10=_gY(this._gy+".template.item"); var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _gI10=getElementsByClassName(_gi10,"kulDescription")[0]; else var _gI10=_gi10.getElementsByClassName("kulDescription")[0]; var _gIy=[]; if (_gI10 && _gI10.options){var _go11=_gI10.options; for (var i=0; i<_go11.length; i+=1)if (_go11[i].value !== "")_gIy.push(_go11[i].value); }return _gIy; } ,uploadAll:function (){if (!this._go9("OnBeforeUploadAll",null))return; if (_gp())return; var _gOy=this.getItems(); for (i in _gOy)if (typeof _gOy[i]!="function")if (_gOy[i].getStatus()=="ready"){_gOy[i].upload(); } this._go9("OnUploadAll",null); } ,clearAll:function (){if (!this._go9("OnBeforeClearAll",null))return; var _gOy=this.getItems(); for (var i in _gOy)if (typeof _gOy[i]!="function"){_gOy[i].remove(); } this._go9("OnClearAll",null); } ,_gi8:function (_gO8){if (this._gIs === "*")return true; var _gO11=this._gIs.toLowerCase().split(","); for (var i in _gO11)if (typeof _gO11[i]!="function"){var _gl11=eval("/(."+_gO11[i]+")$/"); if (_gO8.toLowerCase().match(_gl11))return true; }return false; } ,_glj:function (_gly){if (_gp())return; if (this._gij){var _gi11="["+this._giu.join("][")+"]"; if (_gO0("["+_gly+"]",_gi11)<0){ this._giu.push(_gly); }if (!this._gIu){}}} ,_gOk:function (_gly){var _gI11=new Array(); for (i in this._giu)if (typeof this._giu[i]!="function")if (this._giu[i]!=_gly){_gI11.push(this._giu[i]); } this._giu=_gI11; } ,_go12:function (){var _gO12=new KoolAjaxRequest( {method: "get",url:_gI7._gls,onDone:_gl12,onError:_gi12,_gOo: this._gy } ); for (var i in this._giu)if (typeof this._giu[i]!="function"){_gO12.addArg("itemids[]",this._giu[i]); }koolajax.sendRequest(_gO12); this._gIu= true; this._gov=(new Date()).getTime(); } ,SMR:function (){ this._go12(); } ,_gI12:function (_gld){_gld=eval("__="+_gld); for (var _gly in _gld)if (typeof _gld[_gly]!="function"){ (new KoolUploaderItem(_gly))._glp(_gld[_gly]); }if (this._gIu && (this._giu.length>0)){var _go13=(new Date()).getTime(); if (_go13-this._gov>this._gis){ this._go12(); }else {setTimeout(this._gy+".SMR()",this._gis-(_go13-this._gov)); }}else { this._gIu= false; }} ,_gO13:function (_gl13){ this._go9("OnError", { "Error":_gl13 } ); } ,_gox:function (_gIw){var _gi13=this._gy; var _gI13=_go1(13,16); var _go14=_gE(_gY(_gi13+".template.item")).cloneNode( true); _go14.id=_gi13+".item"+_gI13; var _gO14=_gY(_gi13+".container"); _gO14.appendChild(_go14); var _gIl=_gx("span","kulFileName",_go14)[0]; var _gl14=_gx("span","kulUpload",_go14)[0]; var _gi14=_gx("span","kulRemove",_go14)[0]; var _gI14=_gx("span","kulCancel",_go14)[0]; var _go15=_gx("span","kulDelete",_go14)[0]; _gl14.id=_go14.id+".btn.upload"; _gi14.id=_go14.id+".btn.remove"; _gI14.id=_go14.id+".btn.cancel"; if (_go15)_go15.id=_go14.id+".btn.delete"; if (_go15 && !this._glk){_go15.parentNode.removeChild(_go15); }_gIl.innerHTML=_gIw.name; _gh(_go15,"click",_gO15, false); var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _gl15=getElementsByClassName(_go14,"kulDescription")[0]; else var _gl15=_go14.getElementsByClassName("kulDescription")[0]; if (_gl15){_gl15.value=_gIw.description; }var _gIf=new KoolUploaderItem(_go14.id); _gIf._gI9(); if (this._gIk){_gIl.style.color="#189fee"; _gIl.style.cursor="pointer"; }var _gIh=_gIf; _gh(_gIl,"click", function (){_gIh.download(); } , false); } ,_gOv:function (){var _gi15=_gY(this._gy+".btn.add"); var _gI15=_gI("span",_gi15); var _go16=document.createElement("input"); _go16.type="file"; _go16.id=this._gy+".new.input"; _go16.name=this._gy+".new.input"; var _gO16=this._gIs.split(","); for (var i in _gO16)_gO16[i]="."+_gO16[i]; _gO16=_gO16.join(","); _go16.setAttribute("accept",_gO16); if (this._git)_go16.setAttribute("multiple",""); _gI15.appendChild(_go16); _gm(_gI15,"kulFileInput"); _gh(_go16,"mouseover",_gl16, false); _gh(_go16,"mouseout",_gi16, false); _gh(_go16,"change",_gI16, false); } ,_go17:function (files){var _gi13=this._gy; var _gO17=_gY(_gi13+".new.input"); if (_gO17.value=="" && !files)return; var _gl17=[]; var _gIa=_gt(); if (!files){if (_gIa<10){var _gO8=_gO17.value.replace(/\\/g,"/"); _gO8=_gO8.substring(_gO8.lastIndexOf("/")+1,_gO8.length); _gO17.name=_gO8; files=[_gO17]; }else files=_gO17.files; }for (var i=0; i<files.length; i+=1){var _gO8=files[i].name; if (!this._go9("OnBeforeAddItem", { "FileName":_gO8 } ))return; var _gI13=_go1(13,16); _gO17.id=_gi13+".item"+_gI13+".input"; _gO17.name=_gi13+".item"+_gI13+".input"; var _go14=_gE(_gY(_gi13+".template.item")).cloneNode( true); _go14.id=_gi13+".item"+_gI13; _gl17.push(_go14.id); var _gO14=_gY(_gi13+".container"); _gO14.appendChild(_go14); var _gIl=_gx("span","kulFileName",_go14)[0]; var _gl14=_gx("span","kulUpload",_go14)[0]; var _gi14=_gx("span","kulRemove",_go14)[0]; var _gI14=_gx("span","kulCancel",_go14)[0]; var _go15=_gx("span","kulDelete",_go14)[0]; _gl14.id=_go14.id+".btn.upload"; _gi14.id=_go14.id+".btn.remove"; _gI14.id=_go14.id+".btn.cancel"; _go15.id=_go14.id+".btn.delete"; if (!this._glk)_go15.parentNode.removeChild(_go15); _gIl.innerHTML=_gO8; _gh(_go14,"click",_gi17, false); _gh(_gl14,"click",_gI17, false); _gh(_gi14,"click",_go18, false); _gh(_gI14,"click",_gO18, false); _gh(_go15,"click",_gO15, false); if (i<files.length-1){_gl14.style.visibility="hidden"; _gi14.style.visibility="hidden"; _gI14.style.visibility="hidden"; }var _gom=document.createElement("input"); _gom.type="hidden"; _gom.id=_go14.id+".info"; _go14.appendChild(_gom); _gom.value="{'time_start':'0','time_last':'1','speed_average':'1','speed_last':'1','bytes_uploaded' :'0','bytes_total':'1','files_uploaded':'1','est_sec':'0'}"; if (i === files.length-1){var _gIe=document.createElement("input"); _gIe.type="hidden"; _gIe.id=_go14.id+".inputFileIds"; _go14.appendChild(_gIe); _gIe.value=_gl17.join(","); if ((_gIa === 0 || _gIa>9) && _gO17.files && _gO17.files.length === 0){_go7[_go14.id]=files; }}var _gl8=new KoolUploaderItem(_go14.id); _gl8._gi7(); this._go9("OnAddItem", { "ItemId":_go14.id } ); this._gl18(); } this._gOv(); if (this._glt)_gl8.upload(); } ,_gi18:function (_gI0){ this.uploadAll(); } ,_gI18:function (_gI0){ this.clearAll(); } ,registerEvent:function (_go19,_gO19){if (_gp())return; this._glu[_go19]=_gO19; } ,_go9:function (_gi3,_gl19){return (_gO(this._glu[_gi3]))?this._glu[_gi3](this,_gl19): true; } ,_gl18:function (){var _gi19=_gY(this._gy+".container"); var _gI19=_gi19.scrollHeight,_go1a=25,i=0; var _gO1a= function (){_gi19.scrollTop+=_gI19/_go1a; i+=1; if (i<_go1a && _gi19.scrollTop<_gI19)setTimeout(_gO1a,10); } ; setTimeout(_gO1a,10); }} ; function _go8(_gl1a){return eval(_gl1a.substring(0,_gO0(".",_gl1a))); }var kuldone= function (_gy,_gT,_gOm){ (new KoolUploaderItem(_gy))._goo(_gT,_gOm); } ; var kuldonemultiple= function (_gi1a){for (var i=0; i<_gi1a.length; i+=1){var _gOm=_gi1a[i]; var _gl8=new KoolUploaderItem(_gOm.id); _gl8._goo(_gOm.result,_gOm); }} ; var kuldeletedone= function (_gy,_gT,_gOm){ (new KoolUploaderItem(_gy))._gOp(_gT,_gOm); } ; function _gl16(_gI0){var _gi15=_gu(this,2); _gJ(_gi15,"kulAddOver"); }function _gi16(_gI0){var _gi15=_gu(this,2); _gH(_gi15,"kulAddOver"); }function _gI16(_gI0){_gI7=_go8(this.id); _gI7._go17(); }function _gi17(_gI0){var _goy=_gx("div","kulItem",_gu(this )); for (var i in _goy)if (typeof _goy[i]!="function"){_gH(_goy[i],"kulSelected"); }_gJ(this,"kulSelected"); }function _gow(_gI0){_gI7=_go8(this.id); _gI7._gI18(_gI0); }function _giv(_gI0){_gI7=_go8(this.id); _gI7._gi18(_gI0); }function _gI17(_gI0){_gI1a=new KoolUploaderItem(this.id.replace(".btn.upload","")); _gI1a._gIm(_gI0); }function _go18(_gI0){var _gI1a=new KoolUploaderItem(this.id.replace(".btn.remove","")); var _gIe=_gY(_gI1a._gy+".inputFileIds"); if (_gIe && _gIe.value){var _go1b=_gIe.value.split(","); for (var i=0; i<_go1b.length; i+=1){var _gl8=new KoolUploaderItem(_go1b[i]); _gl8._gon(_gI0); }}else {_gI1a._gon(_gI0); }_gi0(_gI0); }function _gO18(_gI0){_gI1a=new KoolUploaderItem(this.id.replace(".btn.cancel","")); _gI1a._gOn(_gI0); }function _gO15(_gI0){_gI1a=new KoolUploaderItem(this.id.replace(".btn.delete","")); _gI1a._gIn(_gI0); }function _glx(_gOi){_gOi.stopPropagation(); _gOi.preventDefault(); var _gO1b=_gOi.currentTarget; _gI3._gi6(_gO1b.parentNode,"fileDragOver"); }function _gix(_gOi){var _gO1b=_gOi.currentTarget; _gI3._gI6(_gO1b.parentNode,"fileDragOver"); }function _gIx(_gOi){_gOi.stopPropagation(); _gOi.preventDefault(); var _gO1b=_gOi.currentTarget; _gI3._gI6(_gO1b.parentNode,"fileDragOver"); var _gl1b=_gO1b.id.replace(".container",""); var _gi1b=window[_gl1b]; var files=_gOi.target.files || _gOi.dataTransfer.files; _gi1b._go17(files); }function _gl12(_gld){_gI7=eval("__="+this._gOo); _gI7._gI12(_gld); }function _gi12(_gl13){_gI7=eval("__="+this._gOo); _gI7._gO13(_gl13); } <?php _gl6(); _gO6(); } function _gl9($_gO9,$_gla) { $_gOa=""; foreach ($_gO9->childNodes as $_glb) { $_gOa.=$_gla->savexml($_glb); } return trim($_gOa); } if (!class_exists("Koo\154\125\160loa\144\145\162",FALSE)) { class kooluploadhandler { var $targetFolder=""; var $allowedExtension="\052"; var $funcFileHandle=NULL; var $allowDelete=FALSE; var $allowDownload=FALSE; function _gOb($_glc) { if ($this->allowedExtension == '*') return TRUE; $_glc=strtolower($_glc); $_gOc=explode(",",strtolower($this->allowedExtension)); foreach ($_gOc as $_gld) if (preg_match("/(\134\056".$_gld.")\044\057",$_glc)) return TRUE; return FALSE; } function handleupload() { $_gOd=''; if ( isset ($_POST['targetFolder'])) $_gOd=$_POST['targetFolder']; else $_gOd=_gO2("\134","\057",$this->targetFolder); if ( isset ($_GET[md5( __FILE__."\165plo\141\144")])) { $_gle=array(); if (!file_exists($_gOd)) { mkdir($_gOd,0777,TRUE); } $_gOe=$_FILES["KUL_FI\114\105"]; if (count($_gOe['error'])) { $_glf=explode(',',$_POST["\125PLOAD_\111\104ENTIFI\105\122"]); for ($_gO8=0; $_gO8<count($_gOe['error']); $_gO8 ++) { $_gOf="\165pload_f\141\151led"; $_glg=$_gOe['error'][$_gO8]; switch ($_glg) { case 0: if ($this->_gOb($_gOe["name"][$_gO8])) { if ($this->funcFileHandle != NULL) { $_gOg=array(); $_glh=array("\156ame","\164\171pe","\164\155p_nam\145","error","size"); for ($_gOh=0; $_gOh<count($_glh); $_gOh ++) $_gOg[$_glh[$_gOh]]=$_gOe[$_glh[$_gOh]][$_gO8]; $_gOi=$this->funcFileHandle; if ($_gOi($_gOg) == TRUE) { $_gOf="\165\160load_su\143\143essf\165\154"; } else { $_gOf="upload_\146\141iled"; } } else { if (move_uploaded_file($_gOe["\164\155p_name"][$_gO8],$_gOd."/".$_gOe["name"][$_gO8])) { $_gOf="up\154\157ad_succ\145\163sful"; } else { $_gOf="upload_\146\141\151led"; } } } else { $_gOf="\146\151le_not\137\141llowed"; } break; case 1: $_gOf="fi\154\145_bigger\137\164han_ph\160\137allo\167"; break; case 2: $_gOf="\146ile_big\147\145r_than\137\146orm_\141\154low"; break; case 3: $_gOf="only_pa\162\164_of_fi\154\145_uplo\141\144ed"; break; case 4: default : $_gOf="\165\160load_fa\151\154ed"; break; } $_gOf=array('id' => $_glf[$_gO8],"\156ame" => $_gOe["name"][$_gO8],"type" => $_gOe["t\171\160\145"][$_gO8],"\163\151ze" => $_gOe["si\172\145"][$_gO8],"r\145\163ult" => $_gOf); array_push($_gle,$_gOf); } } $_glj="<sc\162\151pt type\075\047text\057\152avas\143\162ipt'>\164\162y\173\167\151nd\157\167.pare\156\164.kuld\157\156emult\151\160le(\173\151nfo})\073\175catc\150\050e)\173\143\157nsole\056\154og(e.\155\145ssage\051\073}</s\143\162ipt>"; $_gOj=json_encode($_gle,TRUE); $_glk=_gO2("\173\151\156fo}",$_gOj,$_glj); if ( isset ($_POST['xhr'])) { ob_end_clean(); echo $_gOj; exit (); } else return $_glk; } else if ( isset ($_GET[md5( __FILE__."\163tatu\163")])) { $_gOk="'\173\151\144}':\173\166\175"; $_gll="\173'time\137\163\164art'\072\0470','\164\151me_la\163\164':'0\047\054'sp\145\145d_ave\162\141ge':'\061\047,'sp\145\145d_las\164\047:'1'\054\047byte\163\137uploa\144\145d' :'\060\047,'by\164\145s_tot\141\154\047:'1\047\054'fil\145\163_uplo\141\144ed':'\061\047,'\145\163t_se\143\047:'0'}"; $_glm=array(); if ( isset ($_GET["it\145\155ids"])) { $_glm=$_GET["\151\164emids"]; } $_gOf="\173"; for ($_gO8=0; $_gO8<sizeof($_glm); $_gO8 ++) { $_gOm=(function_exists("\165\160loadprog\162\145ss_get_\151\156fo")) ? json_encode(uploadprogress_get_info($_glm[$_gO8])): $_gll; $_gln=_gO2("\173\151d}",$_glm[$_gO8],$_gOk); $_gln=_gO2("\173v\175",$_gOm,$_gln); $_gOf.=$_gln; if ($_gO8<sizeof($_glm)-1) $_gOf.="\054"; } $_gOf.="\175"; return $_gOf; } else if ( isset ($_GET[md5( __FILE__."\160\162ogress")])) { $_gOn=explode('.',phpversion()); if (($_gOn[0]*023420+$_gOn[1]*0144+$_gOn[2])<0142340) exit ('PHP 5.4.0 or higher is required'); if (!intval(ini_get('session.upload_progress.enabled'))) exit ('session.upload_progress.enabled is not enabled'); session_start(); $_gOk="'\173id\175\047:\173v}"; $_glm=array(); if ( isset ($_GET["i\164\145\155ids"])) { $_glm=$_GET["\151\164\145mids"]; } $_gOf="\173"; for ($_gO8=0; $_gO8<sizeof($_glm); $_gO8 ++) { $_glo=ini_get("ses\163\151\157n.upl\157\141\144_pr\157\147\162ess.\160\162efix").$_glm[$_gO8]; $_gOo=0; if (empty($_SESSION[$_glo])) $_gOo=0144; else { $_glp=$_SESSION[$_glo]; $_gOo=round(($_glp['bytes_processed']/$_glp['content_length'])*0144,2); } $_gOm="\173\047\160rogre\163\163\047:".$_gOo.",\047\142ytes_pro\143\145\163sed'\072".$_glp['bytes_processed'].",'\143\157\156tent_l\145\156\147th':".$_glp['content_length']."}"; $_gln=_gO2("\173id}",$_glm[$_gO8],$_gOk); $_gln=_gO2("\173v}",$_gOm,$_gln); $_gOf.=$_gln; if ($_gO8<sizeof($_glm)-1) $_gOf.=","; } $_gOf.="}"; return $_gOf; } else if ( isset ($_GET[md5( __FILE__."\144elete")])) { if (!$this->allowDelete) return FALSE; $_gOf="Begi\156\040deleting"; if ( isset ($_POST["DE\114\105\124E_IDEN\124\111\106IER"])) { $_glc=$_POST["\104\105LETE_I\104\105NTIFIE\122"]; $_gOd=''; if ( isset ($_POST['targetFolder'])) $_gOd=$_POST['targetFolder']; else $_gOd=_gO2("\134","/",$this->targetFolder); $_gOp=unlink($_gOd."\057".$_glc); if ($_gOp) $_gOf=$_gOd."/".$_glc." is \144\145\154eted"; else $_gOf=$_gOd."\057".$_glc."\040is NOT d\145\154\145ted"; } else $_gOf="No\040\144\145lete_\151\144entifi\145\162"; $_glj="<script \164\171\160e='te\170\164/javas\143\162\151pt'>\164\162y\173w\151\156dow.\160\141\162ent.\153\165\154dele\164\145\144one\050\047\173id}\047\054'\173re\163\165lt}',\173\151\156fo});\175\143\141tch(\145\051\173}</\163\143\162ipt>"; $_glk=_gO2("\173id}",$_POST["\125PLOAD_ID\105\116\124IFIER"],$_glj); $_glk=_gO2("\173\162\145sult}",$_gOf,$_glk); $_glk=_gO2("\173\151nfo}","\173}",$_glk); return $_glk; } else if ( isset ($_GET[md5( __FILE__."\144\157\167nload")])) { if (!$this->allowDownload) return FALSE; $_gOf="\102egin dow\156\154\157ading"; if ( isset ($_POST["\104\117\127NLOAD\137\111\104ENTI\106\111ER"])) { $_glc=$_POST["\104\117WNLOAD_\111\104\105NTIF\111\105\122"]; $_gOd=''; if ( isset ($_POST['targetFolder'])) $_gOd=$_POST['targetFolder']; else $_gOd=_gO2("\134","\057",$this->targetFolder); $_glq=$_gOd."\057".$_glc; $_gOq=substr(strrchr($_glc,'.'),1); $_glr=$this->_gls($_glq); if (file_exists($_glq)) { header('Content-Type: '.$_glr); header('Content-Disposition: attachment;filename="'.basename($_glc).'"'); header('Content-Length: '.filesize($_glq)); readfile($_glq); } else { header('HTTP/1.1 404 Not Found'); } } else { $_gOf="No \104\117WNLOAD\137\111DENTIF\111\105R"; $_glj="<\163\143\162ipt t\171\160e='tex\164\057java\163\143\162ipt'\076\164ry\173\167\151ndow\056\160arent.\153\165ldownl\157\141\144don\145\050'\173id\175\047,'\173r\145\163ult}',\173\151\156fo})\073\175catch\050\145)\173}<\057\163\143rip\164\076"; $_glk=_gO2("\173id\175",$_POST["\125\120LOAD_IDE\116\124IFIER"],$_glj); $_glk=_gO2("\173resu\154\164\175",$_gOf,$_glk); $_glk=_gO2("\173i\156\146\157}","\173}",$_glk); return $_glk; } } } function _gls($_gOs) { $_glt=realpath($_gOs); if ($_glt && function_exists('finfo_file') && function_exists('finfo_open') && defined( "_gOt")) { return _glu(_gOu(_gOt),$_glt); } if (function_exists('mime_content_type')) { return mime_content_type($_glt); } return FALSE; } function _glv() { $_gOf="Begin\040\144eleting"; if ( isset ($_POST["D\105\114\105TE_IDE\116\124\111FIER"])) { $_glq=$_POST["D\105\114\105TE_ID\105\116TIFI\105\122"]; $_gOd=''; if ( isset ($_POST['targetFolder'])) $_gOd=$_POST['targetFolder']; else $_gOd=_gO2("\134","/",$this->targetFolder); unlink($_gOd."\057".$_glq); $_gOf=$_gOd."\057".$_glq." \151\163\040delet\145\144"; } else $_gOf="No del\145\164\145_iden\164\151fier"; $_glj="<scrip\164\040\164ype='\164\145\170t/ja\166\141script\047\076try\173\167indow\056\160arent\056\153\165ldel\145\164edone(\047\173id}'\054\047\173res\165\154\164}',\173\151\156fo});\175\143\141tch(\145\051\173}</\163\143\162ipt>"; $_glk=_gO2("\173id\175",$_POST["UP\114OAD_IDE\116\124IFIER"],$_glj); $_glk=_gO2("\173resul\164\175",$_gOf,$_glk); $_glk=_gO2("\173info\175","\173\175",$_glk); return $_glk; } } class kooluploader { var $_gl0="2\056\061.0.1"; var $id; var $styleFolder=""; var $_gOv; var $scriptFolder=""; var $handlePage=""; var $texts=array("B\125\124\124ON_AD\104" => "\101dd","BUT\124\117\116_UPLOA\104\137ALL" => "Upl\157\141\144 All","BUTTON_\103\114\105AR_ALL" => "Cle\141\162\040All","BU\124\124\117N_UPLO\101\104" => "Uplo\141\144","\102\125TTON_RE\115\117\126E" => "Rem\157\166\145","\102\125\124TON_C\101\116\103EL" => "Cancel","\102\125TTON_DE\114\105\124E" => "\104\145lete","MES\123\101\107E_UP\114\117AD_SUC\103\105SSFU\114" => "Upload\145\144\041","M\105\123\123AGE_FI\114\105\137NOT_\101\114\114OWED" => "\116ot allo\167\145\144!","MESS\101\107\105_FILE\137\102\111GGER_\124\110AN_PHP\137\101LLOW" => "\124\150e file\040\151s too b\151\147\041","\115ESSAGE_F\111\114\105_BIG\107\105\122_THA\116\137\106ORM_\101\114LOW" => "The\040\146\151le is\040\164oo big\041","M\105\123\123AGE_ON\114\131\137PART\137\117F_FILE\137\125PLOAD\105\104" => "\116ot comp\154\145\164ed!","MESS\101\107\105_UPLO\101\104\137FAIL\105\104" => "\106\141iled t\157\040\165pload\041","\115\105SSAGE_UP\114\117\101D_CA\116\103\105L" => "\125pload ca\156\143\145lled!","MESSAGE_\104\105\114ETED" => "\104eleted\041"); var $width="\06300px"; var $height="\062\0600px"; var $updateProgressInterval=03720; var $progressTracking=FALSE; var $showProgressBar=TRUE; var $maxFileSize=07502200; var $uploadedFiles=array(); var $allowedExtension="*"; var $targetFolder=''; var $currentFiles=array(); var $mustHaveFiles=array(); var $allowDelete=FALSE; var $allowDownload=FALSE; var $autoUpload=FALSE; var $multipleUpload=FALSE; var $_glw=''; var $_gOw=''; var $dragAndDrop=TRUE; function __construct($_glx) { $this->id =$_glx; $_gOx=""; if ( isset ($_POST[$_glx."_\165\160loadedFi\154\145\163"])) { $_gOx=$_POST[$_glx."_uplo\141\144\145dFile\163"]; } else if ( isset ($_GET[$_glx."\056upload\145\144\106iles"])) { $_gOx=$_GET[$_glx."_uploade\144\106\151les"]; } $_gOx=trim(trim($_gOx,"[|-"),"\055|]"); if (strlen($_gOx)>0) { $_gly=explode("\055|][|-",$_gOx); foreach ($_gly as $_gOy) { $_glz=explode("\055|-",$_gOy); $_gOz=array("\156\141me" => $_glz[0],"\164ype" => $_glz[1],"size" => $_glz[2]); array_push($this->uploadedFiles ,$_gOz); } } } function loadxml($_gl10) { if (gettype($_gl10) == "\163\164ring") { $_gO10=new domdocument(); $_gO10->loadxml($_gl10); $_gl10=$_gO10->documentElement; } $_glx=$_gl10->getattribute("\151\144"); if ($_glx != "") $this->id =$_glx; $_gl11=$_gl10->getattribute("styleF\157\154\144er"); if ($_gl11 != "") $this->styleFolder =$_gl11; } function handleupload() { $_gO11=''; $_gl12=new kooluploadhandler(); $_gl12->targetFolder ="\056\056/../T\145\155\160"; $_gl12->allowedExtension ="\147if,jpg\054\144\157c,pdf\054\164xt"; $_gO11.=$_gl12->handleupload(); return $_gO11; } function render() { $_gO12="\n<!--\113\157\157lUpl\157\141\144er v\145\162sion ".$this->_gl0."\040\055 www.koo\154\160\150p.net\040\055->\n"; $_gO12.=$this->registercss(); $_gO12.=$this->renderuploader(); $_gl13= isset ($_POST["__\153\157\157lajax"]) || isset ($_GET["\137_koola\152\141\170"]); $_gO12.=($_gl13) ? "": $this->registerscript(); $_gO12.="<scr\151\160t type\075\047text/\152\141vasc\162\151pt'>"; $_gO12.=$this->startupscript(); $_gO12.="</\163\143\162ipt>"; return $_gO12; } function renderuploader() { $this->_gO13(); $tpl_main="\173contai\156\145\162}\173b\164\156Add}\173\142\164nClea\162\101ll}\173\142\164nUpl\157\141\144All}"; $tpl_btnAdd="\173\142\164nconten\164\175"; $tpl_btnUploadAll="\173\142tnconte\156\164\175"; $tpl_btnClearAll="\173bt\156\143\157ntent\175"; $tpl_btnUpload="\173btncon\164\145\156t}"; $tpl_btnRemove="\173\142\164\156conte\156\164\175"; $_gl14="\173bt\156\143\157ntent\175"; $tpl_btnDelete="\173btncon\164\145\156t}"; include "s\164\171\154es"."\057".$this->_gOv."/".$this->_gOv."\056tpl"; $this->_glw =$error_message1; $this->_gOw =$error_message2; $_gO14="\074div id\075\047\173id}\047\040class=\047\153ulTemp\154\141te' \163\164yle=\047\144\151spla\171\072none;'\076\173conten\164\175</div\076"; $_gl15="\074div id\075\047\173id}.\143\157ntaine\162\047 clas\163\075'kulC\157\156tain\145\162\047></\144\151\166>"; $_gO15="\074\144iv clas\163\075'kulIt\145\155\047>\173\164\160\154_it\145\155}</di\166\076"; $_gl16="<span\040\143\154ass='\153\165\154Text\047\076\173te\170\164\175</s\160\141n>"; $_gO16="<in\160\165\164 type\075\047hidde\156\047\040id=\047\173id}_u\160\154oaded\106\151les' \156\141\155e='\173\151\144}_upl\157\141\144edF\151\154\145s' /\076"; $_gl17="<span id\075\047\173id}\056\142\164n.ad\144\047 clas\163\075'kulA\144\144'><a\040\143lass='\153\165lA'>\173\164\160l_btnA\144\144}</a>\074\057span>"; $_gO17="\074span c\154\141\163s='ku\154\106ile'><\151\156put i\144\075'\173i\144\175\047 ty\160\145\075'fi\154\145\047 /><\057\163pan>"; $_gl18="<\163\160\141n id='\173\151\144}.b\164\156\056uplo\141\144all' \143\154ass='\153\165lUploa\144\101ll'><a\040\143lass='\153\165\154A'>\173\164\160l_bt\156\125ploadA\154\154\175</a>\074\057span>"; $_gO18="<s\160\141\156 id='\173\151\144}.bt\156\056cleara\154\154' cla\163\163='kul\103\154earAll\047\076<a cl\141\163\163='ku\154\101\047>\173\164\160l_btn\103\154\145arAl\154\175\074/a><\057\163pan>"; $_gl19="<span\040\143\154ass=\047\153\165lUpl\157\141d'><a\040\164\151tle\075\047Uplo\141\144' cla\163\163\075'kul\101\040kul-ic\157\156 kul-\165\160\154oad_\142\162own'>\173\164\160l_bt\156\125\160load\175\074/a></s\160\141n>"; $_gO19="\074\163pan cla\163\163\075'kul\122\145move'\076\074a tit\154\145='Rem\157\166e' cl\141\163\163='ku\154\101\040kul-\151\143on kul\055\155inus_\147\162ey'>\173\164\160l_btnR\145\155\157ve}<\057\141></sp\141\156\076"; $_gl1a="\074span cla\163\163\075'kul\103\141ncel'>\074\141 title\075\047Can\143\145l' cl\141\163s='kul\101\040kul-ic\157\156\040kul-\143\162oss-g\162\145\171-16'\076\173tpl_bt\156\103ancel}\074\057a></s\160\141\156>"; $_gO1a="\074span \143\154\141ss='k\165\154Delete\047\076<a ti\164\154\145='D\145\154ete'\040\143\154ass=\047\153ulA ku\154\055icon k\165\154-cros\163\055\147rey-\061\066'>\173t\160\154\137btnD\145\154ete}</\141\076</span\076"; $_gl1b="\074span c\154\141\163s='k\165\154\106ileN\141\155e'> <\057\163pan>"; if (!empty($this->mustHaveFiles)) { $_gO1b="<se\154\145\143t cla\163\163\075'kul\104\145script\151\157n'>\173\157\160tion\163\175\074/sel\145\143\164>"; $_gl1c='"<option></option>";'; foreach ($this->mustHaveFiles as $_gO1c) $_gl1c.= "<o\160\164\151on va\154\165\145='$_gO1c'>$_gO1c<\057\157\160tion>"; $_gO1b=_gO2("\173\157\160tions}",$_gl1c,$_gO1b); } else $_gO1b=''; $_gl1d="<spa\156\040\143lass=\047\153ulProg\162\145\163s'><\151\155g cla\163\163='ku\154\102ar \173\141\154\164bar}\047\040\173styl\145\175 alt=\047\047/><sp\141\156\040clas\163\075'kulTe\170\164'> </s\160\141n></sp\141\156\076"; $_gO1d="<span \143\154\141ss\075\047kulS\164\141tus'>\040</sp\141\156>"; $_gl1e="<spa\156\040class='\153\165\154Thum\142\156\141il'>\040\074/spa\156\076"; $_gO1e=_gO2("\173\151\144}",$this->id.".me\163\163\141ge.up\154\157\141d_su\143\143\145ssfu\154",$_gO14); $_gO1e=_gO2("\173conte\156\164\175",$this->texts["\115ESSA\107\105\137UPLOA\104\137SUCCES\123\106\125L"],$_gO1e); $_gl1f=_gO2("\173\151\144\175",$this->id."\056message\056\165\160load_\146\141iled",$_gO14); $_gl1f=_gO2("\173\143\157\156tent}",$this->texts["\115\105SSAGE\137\125\120LOAD_\106\101\111LED"],$_gl1f); $_gO1f=_gO2("\173\151d}",$this->id.".\155\145\163sage.\146\151\154e_no\164\137\141llo\167\145\144",$_gO14); $_gO1f=_gO2("\173cont\145\156t}",$this->texts["\115\105SSAGE_F\111\114E_NOT_\101LLOW\105\104"],$_gO1f); $_gl1g=_gO2("\173\151\144}",$this->id.".m\145\163\163age\056\146ile_b\151\147ger\137\164han_p\150\160_a\154low",$_gO14); $_gl1g=_gO2("\173conte\156\164}",$this->texts["MES\123\101GE_FIL\105\137BIGGER\137\124HAN_P\110\120_ALL\117\127"],$_gl1g); $_gO1g=_gO2("\173id}",$this->id.".m\145\163\163age.\146\151le_bi\147\147er_th\141\156_form\137\141llo\167",$_gO14); $_gO1g=_gO2("\173conten\164\175",$this->texts["\115ESSAGE\137\106ILE_BI\107\107ER_TH\101\116_FORM\137\101LLOW"],$_gO1g); $_gl1h=_gO2("\173\151\144}",$this->id.".mess\141\147\145.on\154\171\137par\164\137\157f_f\151\154e_up\154\157ade\144",$_gO14); $_gl1h=_gO2("\173co\156\164\145nt}",$this->texts["\115ESSAG\105\137\117NLY_\120\101RT_OF\137\106ILE_U\120\114OADE\104"],$_gl1h); $_gO1h=_gO2("\173\151d}",$this->id.".\155\145\163sage\056\165pload\137\143ancel",$_gO14); $_gO1h=_gO2("\173content\175",$this->texts["\115\105\123SAGE_\125\120LOAD_C\101\116CEL"],$_gO1h); $_gl1i=_gO2("\173id}",$this->id.".m\145\163\163age.\144\145leted",$_gO14); $_gl1i=_gO2("\173conte\156\164}",$this->texts["MESSAGE\137\104\105LETE\104"],$_gl1i); $_gO1i=_gO2("\173\151\144}",$this->id.".templ\141\164e.item",$_gO14); $_gO1i=_gO2("\173conten\164\175",$_gO15,$_gO1i); $_gO1i=_gO2("\173\164\160l_ite\155\175",$tpl_item,$_gO1i); $_gl1j=_gO2("\173\164\160l_btn\122\145\155ove\175",$tpl_btnRemove,$_gO19); $_gl1j=_gO2("\173btnc\157\156tent}",$this->texts["\102\125TTON_\122\105MOVE"],$_gl1j); $_gO1j=_gO2("\173tp\154\137\142tnUp\154\157ad}",$tpl_btnUpload,$_gl19); $_gO1j=_gO2("\173btn\143\157\156tent\175",$this->texts["\102\125TTON_U\120\114OAD"],$_gO1j); $_gl1k=_gO2("\173\164pl_btnC\141\156cel}",$tpl_btnUpload,$_gl1a); $_gl1k=_gO2("\173btncont\145\156\164}",$this->texts["BU\124\124\117N_CA\116\103\105L"],$_gl1k); $_gO1k=_gO2("\173tpl_btn\104\145lete}",$tpl_btnDelete,$_gO1a); $_gO1k=_gO2("\173\142tnco\156\164\145nt}",$this->texts["\102UTTON\137\104ELETE"],$_gO1k); $_gO1i=_gO2("\173\142tnUplo\141\144}",$_gO1j,$_gO1i); $_gO1i=_gO2("\173\142tnRemo\166\145}",$_gl1j,$_gO1i); $_gO1i=_gO2("\173\142tnCan\143\145l}",$_gl1k,$_gO1i); $_gO1i=_gO2("\173\142tnDelet\145\175",$_gO1k,$_gO1i); $_gO1i=_gO2("\173\146ilena\155\145\175",$_gl1b,$_gO1i); $_gO1i=_gO2("\173\144escrip\164\151on}",$_gO1b,$_gO1i); $_gO1i=_gO2("\173\163tatus}",$_gO1d,$_gO1i); $_gO1i=_gO2("\173\164\150\165mbna\151\154}",$_gl1e,$_gO1i); $_gl1l=_gO2("\173styleF\157\154\144er}",$this->styleFolder ,$_gl1d); $_gl1l=_gO2("\173\141lt\142\141r}",($this->progressTracking) ? (function_exists("uploa\144\160rogres\163\137\147et\137\151nfo") ? "": "\153\165lAltBa\162"): "\153ulAl\164\102ar",$_gl1l); $_gl1l=_gO2("\173style}",($this->showProgressBar) ? "": "\163tyle='d\151\163\160lay\072\156one;\047",$_gl1l); $_gO1i=_gO2("\173p\162\157\147ress\175",$_gl1l,$_gO1i); $_gO1l=_gO2("\173\151d}",$this->id ,$_gl17); $_gO1l=_gO2("\173\164\160l_bt\156\101dd}",$tpl_btnAdd,$_gO1l); $_gO1l=_gO2("\173\142\164\156cont\145\156\164}",$this->texts["\102\125\124TON_AD\104"],$_gO1l); $_gl1m=_gO2("\173id}",$this->id ,$_gl18); $_gl1m=_gO2("\173t\160\154\137btnUp\154\157\141dAll\175",$tpl_btnUploadAll,$_gl1m); $_gl1m=_gO2("\173btncont\145\156\164}",$this->texts["BUT\124\117\116_UPLO\101\104\137ALL"],$_gl1m); $_gO1m=_gO2("\173id}",$this->id ,$_gO18); $_gO1m=_gO2("\173\164\160l_btnC\154\145arAll}",$tpl_btnClearAll,$_gO1m); $_gO1m=_gO2("\173b\164\156\143onten\164\175",$this->texts["\102\125TTON_C\114\105\101R_AL\114"],$_gO1m); $_gl1n=_gO2("\173id}",$this->id ,$_gl15); $_gO1n=_gO2("\173conta\151\156\145r}",$_gl1n,$tpl_main); $_gO1n=_gO2("\173btnAdd}",$_gO1l,$_gO1n); $_gO1n=_gO2("\173\142\164nUpload\101\154\154}",$_gl1m,$_gO1n); $_gO1n=_gO2("\173\142\164nClea\162\101\154l}",$_gO1m,$_gO1n); $_gl8=_gO2("\173i\144\175",$this->id ,_gl7()); $_gl8=_gO2("\173\163tyle}",$this->_gOv ,$_gl8); $_gl8=_gO2("\173\167idth}",$this->width ,$_gl8); $_gl8=_gO2("\173h\145\151\147ht}",$this->height ,$_gl8); if (_gO7($_gl8)) { $_gl8=_gO2("\173\164\145mplate\163\175",$_gO1e.$_gO1f.$_gl1f.$_gO1i.$_gl1g.$_gO1g.$_gl1h.$_gO1h.$_gl1i,$_gl8); } $_gl8=_gO2("\173v\145\162\163ion}",$this->_gl0 ,$_gl8); $_gl8=_gO2("\173ma\151\156\143onten\164\175",$_gO1n,$_gl8); $_gl8=_gO2("\173uploade\144\106\151les}",_gO2("\173id}",$this->id ,$_gO16),$_gl8); return $_gl8; } function _gO13() { $this->styleFolder =_gO2("\134","/",$this->styleFolder); $_gl11=trim($this->styleFolder ,"/"); $_gl1o=strrpos($_gl11,"\057"); $this->_gOv =substr($_gl11,($_gl1o ? $_gl1o: -1)+1); } function registercss() { $this->_gO13(); $_gO1o="\074script \164\171\160e='t\145\170\164/jav\141\163cript\047\076if (\144\157cume\156\164.getEl\145\155\145ntBy\111\144('__\173\163\164yle}\113\125\114')==\156\165\154l)\173\166\141r _he\141\144\040= d\157\143\165ment\056\147etEle\155\145\156tsBy\124\141\147Na\155\145\050'he\141\144')[0]\073\166ar _l\151\156\153 = d\157\143ument\056\143reate\105\154\145men\164\050\047lin\153\047); _l\151\156k.id \075\040'__\173\163\164yle}K\125\114';_li\156\153.rel=\047\163tyles\150\145et'; \137\154\151nk.\150\162ef='\173\163\164yl\145\160ath}/\173\163tyle}\057\173styl\145\175.css'\073\137head\056\141ppend\103\150ild(\137\154\151nk)\073\040_lin\153\040= do\143\165ment.\143\162eate\105\154ement\050\047link\047\051; _l\151\156k.id\040\075 '__\113\125L';_\154\151nk.re\154\075'sty\154\145shee\164\047; _l\151\156k.hr\145\146='\173\163\164\171lep\141\164h}/k\157\157lupl\157\141der.\143\163s';_h\145\141d.ap\160\145ndCh\151\154d(_l\151\156k);}\074\057scr\151\160t>"; $_gO12=_gO2("\173\163\164yle}",$this->_gOv ,$_gO1o); $_gO12=_gO2("\173style\160\141th}",$this->_gl1p(),$_gO12); return $_gO12; } function registerscript($_gO1p=TRUE) { $this->_gO13(); if ($_gO1p) { $_gO1o="<s\143\162\151pt ty\160\145\075'te\170\164/javas\143\162ipt'>\151\146(typ\145\157\146 _li\142\113\125L=='\165\156\144efin\145\144')\173d\157\143ument\056\167\162ite(\165\156escape\050\042%3Csc\162\151\160t ty\160\145\075'te\170\164\057java\163\143ript' \163\162c='\173\163\162c}'%\063\105 %3C/s\143\162ipt%3\105\042\051);_\154\151\142KUL\075\061;}"; $_gO1o.="\151f(typeof\040\173style}\113\125LInit=\075\047undef\151\156ed')\173\144ocume\156\164.writ\145\050\165nesc\141\160e(\042%\063\103scrip\164\040type=\047\164ext/ja\166\141script\047\040src='\173\163tylep\141\164\150}/\173\163\164yle}/\173\163\164yle}\056\152s'%3\105\040%3C/sc\162\151pt%3E\042\051);}</\163\143ript>"; } else $_gO1o="\074scrip\164\040\164ype=\047\164ext/ja\166\141\163cri\160\164\047>i\146\050typeo\146\040_libKU\114\075='unde\146\151ned')\173\144\157cum\145\156\164.wri\164\145\050une\163\143\141pe(\042\045\063Cscr\151\160\164 typ\145\075'text\057\152avascr\151\160t' src\075\047\173s\162\143\175'%3\105\040\0453C/\163\143\162ipt%\063\105\042));\137\154ibKUL\075\061;}</s\143\162\151pt>"; $_gO12=_gO2("\173\163\162c}",$this->_gl1q()."\077".md5("\152s"),$_gO1o); $_gO12=_gO2("\173s\164\171\154e}",$this->_gOv ,$_gO12); $_gO12=_gO2("\173\163tylepat\150\175",$this->_gl1p(),$_gO12); return $_gO12; } function startupscript() { $this->_gO13(); $_glz=array('id' => $this->id ,'handlePage' => $this->handlePage ,'upload' => md5( __FILE__."\165pload"),'status' => md5( __FILE__."s\164\141\164us"),'progress' => md5( __FILE__."\160rogress"),'del' => md5( __FILE__."del\145\164\145"),'download' => md5( __FILE__."down\154\157\141d"),'updateProgressInterval' => $this->updateProgressInterval ,'progressTracking' => ($this->progressTracking) ? (function_exists("u\160\154oadpr\157\147ress\137\147et_in\146\157") ? TRUE: FALSE): FALSE,'maxFileSize' => $this->maxFileSize ,'allowedExtension' => $this->allowedExtension ,'targetFolder' => $this->targetFolder ,'currentFiles' => $this->currentFiles ,'mustHaveFiles' => $this->mustHaveFiles ,'allowDelete' => $this->allowDelete ,'allowDownload' => $this->allowDownload ,'autoUpload' => $this->autoUpload ,'multipleUpload' => $this->multipleUpload ,'errorMessage1' => $this->_glw ,'errorMessage2' => $this->_gOw ,'dragAndDrop' => $this->dragAndDrop ,); $_gO1q="v\141\162 upload\137\160rogre\163\163_name\075\047".ini_get("\163ession.\165\160load_p\162\157gres\163\056name")."'; var\040\173id}=n\145\167\040Koo\154\125pload\145\162(\173i\156\146o}\051\073"; $_gO12=_gO2("\173i\144\175",$this->id ,$_gO1q); $_gO12=_gO2("\173st\171\154\145}",$this->_gOv ,$_gO12); $_gO12=_gO2("\173info}",json_encode($_glz,TRUE),$_gO12); return $_gO12; } function _gl1q() { if ($this->scriptFolder == "") { $_gO3=_gO1(); $_glq=substr(_gO2("\134","\057",__FILE__),strlen($_gO3)); return $_glq; } else { $_glq=_gO2("\134","/",__FILE__); $_glq=$this->scriptFolder.substr($_glq,strrpos($_glq,"\057")); return $_glq; } } function _gl1p() { $_gl1r=$this->_gl1q(); $_gO1r=_gO2(strrchr($_gl1r,"/"),"",$_gl1r)."/st\171\154\145s"; return $_gO1r; } } } ?> 
